function sm(e,t){for(var n=0;n<t.length;n++){const l=t[n];if(typeof l!="string"&&!Array.isArray(l)){for(const r in l)if(r!=="default"&&!(r in e)){const a=Object.getOwnPropertyDescriptor(l,r);a&&Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:()=>l[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function lm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bc={exports:{}},rr={},kc={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qs=Symbol.for("react.element"),rm=Symbol.for("react.portal"),am=Symbol.for("react.fragment"),im=Symbol.for("react.strict_mode"),om=Symbol.for("react.profiler"),cm=Symbol.for("react.provider"),dm=Symbol.for("react.context"),um=Symbol.for("react.forward_ref"),mm=Symbol.for("react.suspense"),fm=Symbol.for("react.memo"),hm=Symbol.for("react.lazy"),qi=Symbol.iterator;function pm(e){return e===null||typeof e!="object"?null:(e=qi&&e[qi]||e["@@iterator"],typeof e=="function"?e:null)}var Cc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ec=Object.assign,Ac={};function Vn(e,t,n){this.props=e,this.context=t,this.refs=Ac,this.updater=n||Cc}Vn.prototype.isReactComponent={};Vn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dc(){}Dc.prototype=Vn.prototype;function ei(e,t,n){this.props=e,this.context=t,this.refs=Ac,this.updater=n||Cc}var ti=ei.prototype=new Dc;ti.constructor=ei;Ec(ti,Vn.prototype);ti.isPureReactComponent=!0;var Zi=Array.isArray,Pc=Object.prototype.hasOwnProperty,ni={current:null},Lc={key:!0,ref:!0,__self:!0,__source:!0};function Tc(e,t,n){var l,r={},a=null,i=null;if(t!=null)for(l in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Pc.call(t,l)&&!Lc.hasOwnProperty(l)&&(r[l]=t[l]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(l in o=e.defaultProps,o)r[l]===void 0&&(r[l]=o[l]);return{$$typeof:Qs,type:e,key:a,ref:i,props:r,_owner:ni.current}}function xm(e,t){return{$$typeof:Qs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function si(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qs}function gm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var eo=/\/+/g;function Cr(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gm(""+e.key):t.toString(36)}function Nl(e,t,n,l,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Qs:case rm:i=!0}}if(i)return i=e,r=r(i),e=l===""?"."+Cr(i,0):l,Zi(r)?(n="",e!=null&&(n=e.replace(eo,"$&/")+"/"),Nl(r,t,n,"",function(u){return u})):r!=null&&(si(r)&&(r=xm(r,n+(!r.key||i&&i.key===r.key?"":(""+r.key).replace(eo,"$&/")+"/")+e)),t.push(r)),1;if(i=0,l=l===""?".":l+":",Zi(e))for(var o=0;o<e.length;o++){a=e[o];var c=l+Cr(a,o);i+=Nl(a,t,n,c,r)}else if(c=pm(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=l+Cr(a,o++),i+=Nl(a,t,n,c,r);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function el(e,t,n){if(e==null)return e;var l=[],r=0;return Nl(e,l,"","",function(a){return t.call(n,a,r++)}),l}function ym(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ae={current:null},wl={transition:null},vm={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:wl,ReactCurrentOwner:ni};function _c(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:el,forEach:function(e,t,n){el(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return el(e,function(){t++}),t},toArray:function(e){return el(e,function(t){return t})||[]},only:function(e){if(!si(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=Vn;J.Fragment=am;J.Profiler=om;J.PureComponent=ei;J.StrictMode=im;J.Suspense=mm;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vm;J.act=_c;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var l=Ec({},e.props),r=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=ni.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Pc.call(t,c)&&!Lc.hasOwnProperty(c)&&(l[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)l.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];l.children=o}return{$$typeof:Qs,type:e.type,key:r,ref:a,props:l,_owner:i}};J.createContext=function(e){return e={$$typeof:dm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cm,_context:e},e.Consumer=e};J.createElement=Tc;J.createFactory=function(e){var t=Tc.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:um,render:e}};J.isValidElement=si;J.lazy=function(e){return{$$typeof:hm,_payload:{_status:-1,_result:e},_init:ym}};J.memo=function(e,t){return{$$typeof:fm,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=wl.transition;wl.transition={};try{e()}finally{wl.transition=t}};J.unstable_act=_c;J.useCallback=function(e,t){return Ae.current.useCallback(e,t)};J.useContext=function(e){return Ae.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return Ae.current.useDeferredValue(e)};J.useEffect=function(e,t){return Ae.current.useEffect(e,t)};J.useId=function(){return Ae.current.useId()};J.useImperativeHandle=function(e,t,n){return Ae.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return Ae.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return Ae.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return Ae.current.useMemo(e,t)};J.useReducer=function(e,t,n){return Ae.current.useReducer(e,t,n)};J.useRef=function(e){return Ae.current.useRef(e)};J.useState=function(e){return Ae.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return Ae.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return Ae.current.useTransition()};J.version="18.3.1";kc.exports=J;var f=kc.exports;const Ys=lm(f),jm=sm({__proto__:null,default:Ys},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm=f,wm=Symbol.for("react.element"),Sm=Symbol.for("react.fragment"),bm=Object.prototype.hasOwnProperty,km=Nm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cm={key:!0,ref:!0,__self:!0,__source:!0};function Mc(e,t,n){var l,r={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(l in t)bm.call(t,l)&&!Cm.hasOwnProperty(l)&&(r[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps,t)r[l]===void 0&&(r[l]=t[l]);return{$$typeof:wm,type:e,key:a,ref:i,props:r,_owner:km.current}}rr.Fragment=Sm;rr.jsx=Mc;rr.jsxs=Mc;bc.exports=rr;var s=bc.exports,Ic={exports:{}},ze={},Rc={exports:{}},$c={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,$){var z=D.length;D.push($);e:for(;0<z;){var Y=z-1>>>1,E=D[Y];if(0<r(E,$))D[Y]=$,D[z]=E,z=Y;else break e}}function n(D){return D.length===0?null:D[0]}function l(D){if(D.length===0)return null;var $=D[0],z=D.pop();if(z!==$){D[0]=z;e:for(var Y=0,E=D.length,H=E>>>1;Y<H;){var W=2*(Y+1)-1,Q=D[W],Ne=W+1,mt=D[Ne];if(0>r(Q,z))Ne<E&&0>r(mt,Q)?(D[Y]=mt,D[Ne]=z,Y=Ne):(D[Y]=Q,D[W]=z,Y=W);else if(Ne<E&&0>r(mt,z))D[Y]=mt,D[Ne]=z,Y=Ne;else break e}}return $}function r(D,$){var z=D.sortIndex-$.sortIndex;return z!==0?z:D.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],g=1,p=null,h=3,j=!1,w=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(D){for(var $=n(u);$!==null;){if($.callback===null)l(u);else if($.startTime<=D)l(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(u)}}function y(D){if(N=!1,m(D),!w)if(n(c)!==null)w=!0,le(k);else{var $=n(u);$!==null&&Pe(y,$.startTime-D)}}function k(D,$){w=!1,N&&(N=!1,x(C),C=-1),j=!0;var z=h;try{for(m($),p=n(c);p!==null&&(!(p.expirationTime>$)||D&&!B());){var Y=p.callback;if(typeof Y=="function"){p.callback=null,h=p.priorityLevel;var E=Y(p.expirationTime<=$);$=e.unstable_now(),typeof E=="function"?p.callback=E:p===n(c)&&l(c),m($)}else l(c);p=n(c)}if(p!==null)var H=!0;else{var W=n(u);W!==null&&Pe(y,W.startTime-$),H=!1}return H}finally{p=null,h=z,j=!1}}var v=!1,b=null,C=-1,L=5,M=-1;function B(){return!(e.unstable_now()-M<L)}function se(){if(b!==null){var D=e.unstable_now();M=D;var $=!0;try{$=b(!0,D)}finally{$?O():(v=!1,b=null)}}else v=!1}var O;if(typeof d=="function")O=function(){d(se)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,q=G.port2;G.port1.onmessage=se,O=function(){q.postMessage(null)}}else O=function(){S(se,0)};function le(D){b=D,v||(v=!0,O())}function Pe(D,$){C=S(function(){D(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){w||j||(w=!0,le(k))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var z=h;h=$;try{return D()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var z=h;h=D;try{return $()}finally{h=z}},e.unstable_scheduleCallback=function(D,$,z){var Y=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Y+z:Y):z=Y,D){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=z+E,D={id:g++,callback:$,priorityLevel:D,startTime:z,expirationTime:E,sortIndex:-1},z>Y?(D.sortIndex=z,t(u,D),n(c)===null&&D===n(u)&&(N?(x(C),C=-1):N=!0,Pe(y,z-Y))):(D.sortIndex=E,t(c,D),w||j||(w=!0,le(k))),D},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(D){var $=h;return function(){var z=h;h=$;try{return D.apply(this,arguments)}finally{h=z}}}})($c);Rc.exports=$c;var Em=Rc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am=f,Fe=Em;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Oc=new Set,Es={};function pn(e,t){$n(e,t),$n(e+"Capture",t)}function $n(e,t){for(Es[e]=t,e=0;e<t.length;e++)Oc.add(t[e])}var St=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),na=Object.prototype.hasOwnProperty,Dm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,to={},no={};function Pm(e){return na.call(no,e)?!0:na.call(to,e)?!1:Dm.test(e)?no[e]=!0:(to[e]=!0,!1)}function Lm(e,t,n,l){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Tm(e,t,n,l){if(t===null||typeof t>"u"||Lm(e,t,n,l))return!0;if(l)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function De(e,t,n,l,r,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){je[e]=new De(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];je[t]=new De(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){je[e]=new De(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){je[e]=new De(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){je[e]=new De(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){je[e]=new De(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){je[e]=new De(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){je[e]=new De(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){je[e]=new De(e,5,!1,e.toLowerCase(),null,!1,!1)});var li=/[\-:]([a-z])/g;function ri(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(li,ri);je[t]=new De(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(li,ri);je[t]=new De(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(li,ri);je[t]=new De(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){je[e]=new De(e,1,!1,e.toLowerCase(),null,!1,!1)});je.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){je[e]=new De(e,1,!1,e.toLowerCase(),null,!0,!0)});function ai(e,t,n,l){var r=je.hasOwnProperty(t)?je[t]:null;(r!==null?r.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Tm(t,n,r,l)&&(n=null),l||r===null?Pm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,l=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,l?e.setAttributeNS(l,t,n):e.setAttribute(t,n))))}var Et=Am.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tl=Symbol.for("react.element"),yn=Symbol.for("react.portal"),vn=Symbol.for("react.fragment"),ii=Symbol.for("react.strict_mode"),sa=Symbol.for("react.profiler"),Fc=Symbol.for("react.provider"),zc=Symbol.for("react.context"),oi=Symbol.for("react.forward_ref"),la=Symbol.for("react.suspense"),ra=Symbol.for("react.suspense_list"),ci=Symbol.for("react.memo"),Tt=Symbol.for("react.lazy"),Uc=Symbol.for("react.offscreen"),so=Symbol.iterator;function ns(e){return e===null||typeof e!="object"?null:(e=so&&e[so]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,Er;function ms(e){if(Er===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Er=t&&t[1]||""}return`
`+Er+e}var Ar=!1;function Dr(e,t){if(!e||Ar)return"";Ar=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var l=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){l=u}e.call(t.prototype)}else{try{throw Error()}catch(u){l=u}e()}}catch(u){if(u&&l&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),a=l.stack.split(`
`),i=r.length-1,o=a.length-1;1<=i&&0<=o&&r[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(r[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||r[i]!==a[o]){var c=`
`+r[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{Ar=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ms(e):""}function _m(e){switch(e.tag){case 5:return ms(e.type);case 16:return ms("Lazy");case 13:return ms("Suspense");case 19:return ms("SuspenseList");case 0:case 2:case 15:return e=Dr(e.type,!1),e;case 11:return e=Dr(e.type.render,!1),e;case 1:return e=Dr(e.type,!0),e;default:return""}}function aa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vn:return"Fragment";case yn:return"Portal";case sa:return"Profiler";case ii:return"StrictMode";case la:return"Suspense";case ra:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zc:return(e.displayName||"Context")+".Consumer";case Fc:return(e._context.displayName||"Context")+".Provider";case oi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ci:return t=e.displayName||null,t!==null?t:aa(e.type)||"Memo";case Tt:t=e._payload,e=e._init;try{return aa(e(t))}catch{}}return null}function Mm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return aa(t);case 8:return t===ii?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Im(e){var t=Bc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(i){l=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(i){l=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function nl(e){e._valueTracker||(e._valueTracker=Im(e))}function Hc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Bc(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function _l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ia(e,t){var n=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function lo(e,t){var n=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;n=Yt(t.value!=null?t.value:n),e._wrapperState={initialChecked:l,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wc(e,t){t=t.checked,t!=null&&ai(e,"checked",t,!1)}function oa(e,t){Wc(e,t);var n=Yt(t.value),l=t.type;if(n!=null)l==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ca(e,t.type,n):t.hasOwnProperty("defaultValue")&&ca(e,t.type,Yt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ro(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ca(e,t,n){(t!=="number"||_l(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fs=Array.isArray;function Pn(e,t,n,l){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Yt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,l&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function da(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ao(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(fs(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Yt(n)}}function Vc(e,t){var n=Yt(t.value),l=Yt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),l!=null&&(e.defaultValue=""+l)}function io(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ua(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var sl,Qc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,l,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,l,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(sl=sl||document.createElement("div"),sl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=sl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function As(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rm=["Webkit","ms","Moz","O"];Object.keys(gs).forEach(function(e){Rm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gs[t]=gs[e]})});function Yc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||gs.hasOwnProperty(e)&&gs[e]?(""+t).trim():t+"px"}function Gc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var l=n.indexOf("--")===0,r=Yc(n,t[n],l);n==="float"&&(n="cssFloat"),l?e.setProperty(n,r):e[n]=r}}var $m=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ma(e,t){if(t){if($m[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function fa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ha=null;function di(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pa=null,Ln=null,Tn=null;function oo(e){if(e=Xs(e)){if(typeof pa!="function")throw Error(P(280));var t=e.stateNode;t&&(t=dr(t),pa(e.stateNode,e.type,t))}}function Kc(e){Ln?Tn?Tn.push(e):Tn=[e]:Ln=e}function Xc(){if(Ln){var e=Ln,t=Tn;if(Tn=Ln=null,oo(e),t)for(e=0;e<t.length;e++)oo(t[e])}}function qc(e,t){return e(t)}function Zc(){}var Pr=!1;function ed(e,t,n){if(Pr)return e(t,n);Pr=!0;try{return qc(e,t,n)}finally{Pr=!1,(Ln!==null||Tn!==null)&&(Zc(),Xc())}}function Ds(e,t){var n=e.stateNode;if(n===null)return null;var l=dr(n);if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var xa=!1;if(St)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){xa=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{xa=!1}function Om(e,t,n,l,r,a,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(g){this.onError(g)}}var ys=!1,Ml=null,Il=!1,ga=null,Fm={onError:function(e){ys=!0,Ml=e}};function zm(e,t,n,l,r,a,i,o,c){ys=!1,Ml=null,Om.apply(Fm,arguments)}function Um(e,t,n,l,r,a,i,o,c){if(zm.apply(this,arguments),ys){if(ys){var u=Ml;ys=!1,Ml=null}else throw Error(P(198));Il||(Il=!0,ga=u)}}function xn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function td(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function co(e){if(xn(e)!==e)throw Error(P(188))}function Bm(e){var t=e.alternate;if(!t){if(t=xn(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,l=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(l=r.return,l!==null){n=l;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return co(r),e;if(a===l)return co(r),t;a=a.sibling}throw Error(P(188))}if(n.return!==l.return)n=r,l=a;else{for(var i=!1,o=r.child;o;){if(o===n){i=!0,n=r,l=a;break}if(o===l){i=!0,l=r,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,l=r;break}if(o===l){i=!0,l=a,n=r;break}o=o.sibling}if(!i)throw Error(P(189))}}if(n.alternate!==l)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function nd(e){return e=Bm(e),e!==null?sd(e):null}function sd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sd(e);if(t!==null)return t;e=e.sibling}return null}var ld=Fe.unstable_scheduleCallback,uo=Fe.unstable_cancelCallback,Hm=Fe.unstable_shouldYield,Wm=Fe.unstable_requestPaint,de=Fe.unstable_now,Vm=Fe.unstable_getCurrentPriorityLevel,ui=Fe.unstable_ImmediatePriority,rd=Fe.unstable_UserBlockingPriority,Rl=Fe.unstable_NormalPriority,Jm=Fe.unstable_LowPriority,ad=Fe.unstable_IdlePriority,ar=null,dt=null;function Qm(e){if(dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(ar,e,void 0,(e.current.flags&128)===128)}catch{}}var nt=Math.clz32?Math.clz32:Km,Ym=Math.log,Gm=Math.LN2;function Km(e){return e>>>=0,e===0?32:31-(Ym(e)/Gm|0)|0}var ll=64,rl=4194304;function hs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $l(e,t){var n=e.pendingLanes;if(n===0)return 0;var l=0,r=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~r;o!==0?l=hs(o):(a&=i,a!==0&&(l=hs(a)))}else i=n&~r,i!==0?l=hs(i):a!==0&&(l=hs(a));if(l===0)return 0;if(t!==0&&t!==l&&!(t&r)&&(r=l&-l,a=t&-t,r>=a||r===16&&(a&4194240)!==0))return t;if(l&4&&(l|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)n=31-nt(t),r=1<<n,l|=e[n],t&=~r;return l}function Xm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qm(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-nt(a),o=1<<i,c=r[i];c===-1?(!(o&n)||o&l)&&(r[i]=Xm(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function ya(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function id(){var e=ll;return ll<<=1,!(ll&4194240)&&(ll=64),e}function Lr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nt(t),e[t]=n}function Zm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-nt(n),a=1<<r;t[r]=0,l[r]=-1,e[r]=-1,n&=~a}}function mi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-nt(n),r=1<<l;r&t|e[l]&t&&(e[l]|=t),n&=~r}}var X=0;function od(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cd,fi,dd,ud,md,va=!1,al=[],Ft=null,zt=null,Ut=null,Ps=new Map,Ls=new Map,Mt=[],ef="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mo(e,t){switch(e){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":zt=null;break;case"mouseover":case"mouseout":Ut=null;break;case"pointerover":case"pointerout":Ps.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ls.delete(t.pointerId)}}function ls(e,t,n,l,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:a,targetContainers:[r]},t!==null&&(t=Xs(t),t!==null&&fi(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function tf(e,t,n,l,r){switch(t){case"focusin":return Ft=ls(Ft,e,t,n,l,r),!0;case"dragenter":return zt=ls(zt,e,t,n,l,r),!0;case"mouseover":return Ut=ls(Ut,e,t,n,l,r),!0;case"pointerover":var a=r.pointerId;return Ps.set(a,ls(Ps.get(a)||null,e,t,n,l,r)),!0;case"gotpointercapture":return a=r.pointerId,Ls.set(a,ls(Ls.get(a)||null,e,t,n,l,r)),!0}return!1}function fd(e){var t=ln(e.target);if(t!==null){var n=xn(t);if(n!==null){if(t=n.tag,t===13){if(t=td(n),t!==null){e.blockedOn=t,md(e.priority,function(){dd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ja(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);ha=l,n.target.dispatchEvent(l),ha=null}else return t=Xs(n),t!==null&&fi(t),e.blockedOn=n,!1;t.shift()}return!0}function fo(e,t,n){Sl(e)&&n.delete(t)}function nf(){va=!1,Ft!==null&&Sl(Ft)&&(Ft=null),zt!==null&&Sl(zt)&&(zt=null),Ut!==null&&Sl(Ut)&&(Ut=null),Ps.forEach(fo),Ls.forEach(fo)}function rs(e,t){e.blockedOn===t&&(e.blockedOn=null,va||(va=!0,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,nf)))}function Ts(e){function t(r){return rs(r,e)}if(0<al.length){rs(al[0],e);for(var n=1;n<al.length;n++){var l=al[n];l.blockedOn===e&&(l.blockedOn=null)}}for(Ft!==null&&rs(Ft,e),zt!==null&&rs(zt,e),Ut!==null&&rs(Ut,e),Ps.forEach(t),Ls.forEach(t),n=0;n<Mt.length;n++)l=Mt[n],l.blockedOn===e&&(l.blockedOn=null);for(;0<Mt.length&&(n=Mt[0],n.blockedOn===null);)fd(n),n.blockedOn===null&&Mt.shift()}var _n=Et.ReactCurrentBatchConfig,Ol=!0;function sf(e,t,n,l){var r=X,a=_n.transition;_n.transition=null;try{X=1,hi(e,t,n,l)}finally{X=r,_n.transition=a}}function lf(e,t,n,l){var r=X,a=_n.transition;_n.transition=null;try{X=4,hi(e,t,n,l)}finally{X=r,_n.transition=a}}function hi(e,t,n,l){if(Ol){var r=ja(e,t,n,l);if(r===null)Ur(e,t,l,Fl,n),mo(e,l);else if(tf(r,e,t,n,l))l.stopPropagation();else if(mo(e,l),t&4&&-1<ef.indexOf(e)){for(;r!==null;){var a=Xs(r);if(a!==null&&cd(a),a=ja(e,t,n,l),a===null&&Ur(e,t,l,Fl,n),a===r)break;r=a}r!==null&&l.stopPropagation()}else Ur(e,t,l,null,n)}}var Fl=null;function ja(e,t,n,l){if(Fl=null,e=di(l),e=ln(e),e!==null)if(t=xn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=td(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fl=e,null}function hd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vm()){case ui:return 1;case rd:return 4;case Rl:case Jm:return 16;case ad:return 536870912;default:return 16}default:return 16}}var Rt=null,pi=null,bl=null;function pd(){if(bl)return bl;var e,t=pi,n=t.length,l,r="value"in Rt?Rt.value:Rt.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var i=n-e;for(l=1;l<=i&&t[n-l]===r[a-l];l++);return bl=r.slice(e,1<l?1-l:void 0)}function kl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function il(){return!0}function ho(){return!1}function Ue(e){function t(n,l,r,a,i){this._reactName=n,this._targetInst=r,this.type=l,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?il:ho,this.isPropagationStopped=ho,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=il)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=il)},persist:function(){},isPersistent:il}),t}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=Ue(Jn),Ks=oe({},Jn,{view:0,detail:0}),rf=Ue(Ks),Tr,_r,as,ir=oe({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==as&&(as&&e.type==="mousemove"?(Tr=e.screenX-as.screenX,_r=e.screenY-as.screenY):_r=Tr=0,as=e),Tr)},movementY:function(e){return"movementY"in e?e.movementY:_r}}),po=Ue(ir),af=oe({},ir,{dataTransfer:0}),of=Ue(af),cf=oe({},Ks,{relatedTarget:0}),Mr=Ue(cf),df=oe({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),uf=Ue(df),mf=oe({},Jn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ff=Ue(mf),hf=oe({},Jn,{data:0}),xo=Ue(hf),pf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gf[e])?!!t[e]:!1}function gi(){return yf}var vf=oe({},Ks,{key:function(e){if(e.key){var t=pf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=kl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gi,charCode:function(e){return e.type==="keypress"?kl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jf=Ue(vf),Nf=oe({},ir,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),go=Ue(Nf),wf=oe({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gi}),Sf=Ue(wf),bf=oe({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),kf=Ue(bf),Cf=oe({},ir,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ef=Ue(Cf),Af=[9,13,27,32],yi=St&&"CompositionEvent"in window,vs=null;St&&"documentMode"in document&&(vs=document.documentMode);var Df=St&&"TextEvent"in window&&!vs,xd=St&&(!yi||vs&&8<vs&&11>=vs),yo=" ",vo=!1;function gd(e,t){switch(e){case"keyup":return Af.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jn=!1;function Pf(e,t){switch(e){case"compositionend":return yd(t);case"keypress":return t.which!==32?null:(vo=!0,yo);case"textInput":return e=t.data,e===yo&&vo?null:e;default:return null}}function Lf(e,t){if(jn)return e==="compositionend"||!yi&&gd(e,t)?(e=pd(),bl=pi=Rt=null,jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xd&&t.locale!=="ko"?null:t.data;default:return null}}var Tf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tf[e.type]:t==="textarea"}function vd(e,t,n,l){Kc(l),t=zl(t,"onChange"),0<t.length&&(n=new xi("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var js=null,_s=null;function _f(e){Pd(e,0)}function or(e){var t=Sn(e);if(Hc(t))return e}function Mf(e,t){if(e==="change")return t}var jd=!1;if(St){var Ir;if(St){var Rr="oninput"in document;if(!Rr){var No=document.createElement("div");No.setAttribute("oninput","return;"),Rr=typeof No.oninput=="function"}Ir=Rr}else Ir=!1;jd=Ir&&(!document.documentMode||9<document.documentMode)}function wo(){js&&(js.detachEvent("onpropertychange",Nd),_s=js=null)}function Nd(e){if(e.propertyName==="value"&&or(_s)){var t=[];vd(t,_s,e,di(e)),ed(_f,t)}}function If(e,t,n){e==="focusin"?(wo(),js=t,_s=n,js.attachEvent("onpropertychange",Nd)):e==="focusout"&&wo()}function Rf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return or(_s)}function $f(e,t){if(e==="click")return or(t)}function Of(e,t){if(e==="input"||e==="change")return or(t)}function Ff(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lt=typeof Object.is=="function"?Object.is:Ff;function Ms(e,t){if(lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var r=n[l];if(!na.call(t,r)||!lt(e[r],t[r]))return!1}return!0}function So(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bo(e,t){var n=So(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=So(n)}}function wd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sd(){for(var e=window,t=_l();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_l(e.document)}return t}function vi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zf(e){var t=Sd(),n=e.focusedElem,l=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wd(n.ownerDocument.documentElement,n)){if(l!==null&&vi(n)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(l.start,r);l=l.end===void 0?a:Math.min(l.end,r),!e.extend&&a>l&&(r=l,l=a,a=r),r=bo(n,a);var i=bo(n,l);r&&i&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),a>l?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Uf=St&&"documentMode"in document&&11>=document.documentMode,Nn=null,Na=null,Ns=null,wa=!1;function ko(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wa||Nn==null||Nn!==_l(l)||(l=Nn,"selectionStart"in l&&vi(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ns&&Ms(Ns,l)||(Ns=l,l=zl(Na,"onSelect"),0<l.length&&(t=new xi("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Nn)))}function ol(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wn={animationend:ol("Animation","AnimationEnd"),animationiteration:ol("Animation","AnimationIteration"),animationstart:ol("Animation","AnimationStart"),transitionend:ol("Transition","TransitionEnd")},$r={},bd={};St&&(bd=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);function cr(e){if($r[e])return $r[e];if(!wn[e])return e;var t=wn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bd)return $r[e]=t[n];return e}var kd=cr("animationend"),Cd=cr("animationiteration"),Ed=cr("animationstart"),Ad=cr("transitionend"),Dd=new Map,Co="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xt(e,t){Dd.set(e,t),pn(t,[e])}for(var Or=0;Or<Co.length;Or++){var Fr=Co[Or],Bf=Fr.toLowerCase(),Hf=Fr[0].toUpperCase()+Fr.slice(1);Xt(Bf,"on"+Hf)}Xt(kd,"onAnimationEnd");Xt(Cd,"onAnimationIteration");Xt(Ed,"onAnimationStart");Xt("dblclick","onDoubleClick");Xt("focusin","onFocus");Xt("focusout","onBlur");Xt(Ad,"onTransitionEnd");$n("onMouseEnter",["mouseout","mouseover"]);$n("onMouseLeave",["mouseout","mouseover"]);$n("onPointerEnter",["pointerout","pointerover"]);$n("onPointerLeave",["pointerout","pointerover"]);pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pn("onBeforeInput",["compositionend","keypress","textInput","paste"]);pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wf=new Set("cancel close invalid load scroll toggle".split(" ").concat(ps));function Eo(e,t,n){var l=e.type||"unknown-event";e.currentTarget=n,Um(l,t,void 0,e),e.currentTarget=null}function Pd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],r=l.event;l=l.listeners;e:{var a=void 0;if(t)for(var i=l.length-1;0<=i;i--){var o=l[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&r.isPropagationStopped())break e;Eo(r,o,u),a=c}else for(i=0;i<l.length;i++){if(o=l[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&r.isPropagationStopped())break e;Eo(r,o,u),a=c}}}if(Il)throw e=ga,Il=!1,ga=null,e}function ee(e,t){var n=t[Ea];n===void 0&&(n=t[Ea]=new Set);var l=e+"__bubble";n.has(l)||(Ld(t,e,2,!1),n.add(l))}function zr(e,t,n){var l=0;t&&(l|=4),Ld(n,e,l,t)}var cl="_reactListening"+Math.random().toString(36).slice(2);function Is(e){if(!e[cl]){e[cl]=!0,Oc.forEach(function(n){n!=="selectionchange"&&(Wf.has(n)||zr(n,!1,e),zr(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cl]||(t[cl]=!0,zr("selectionchange",!1,t))}}function Ld(e,t,n,l){switch(hd(t)){case 1:var r=sf;break;case 4:r=lf;break;default:r=hi}n=r.bind(null,t,n,e),r=void 0,!xa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),l?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ur(e,t,n,l,r){var a=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var i=l.tag;if(i===3||i===4){var o=l.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(i===4)for(i=l.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;i=i.return}for(;o!==null;){if(i=ln(o),i===null)return;if(c=i.tag,c===5||c===6){l=a=i;continue e}o=o.parentNode}}l=l.return}ed(function(){var u=a,g=di(n),p=[];e:{var h=Dd.get(e);if(h!==void 0){var j=xi,w=e;switch(e){case"keypress":if(kl(n)===0)break e;case"keydown":case"keyup":j=jf;break;case"focusin":w="focus",j=Mr;break;case"focusout":w="blur",j=Mr;break;case"beforeblur":case"afterblur":j=Mr;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=of;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Sf;break;case kd:case Cd:case Ed:j=uf;break;case Ad:j=kf;break;case"scroll":j=rf;break;case"wheel":j=Ef;break;case"copy":case"cut":case"paste":j=ff;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=go}var N=(t&4)!==0,S=!N&&e==="scroll",x=N?h!==null?h+"Capture":null:h;N=[];for(var d=u,m;d!==null;){m=d;var y=m.stateNode;if(m.tag===5&&y!==null&&(m=y,x!==null&&(y=Ds(d,x),y!=null&&N.push(Rs(d,y,m)))),S)break;d=d.return}0<N.length&&(h=new j(h,w,null,n,g),p.push({event:h,listeners:N}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",h&&n!==ha&&(w=n.relatedTarget||n.fromElement)&&(ln(w)||w[bt]))break e;if((j||h)&&(h=g.window===g?g:(h=g.ownerDocument)?h.defaultView||h.parentWindow:window,j?(w=n.relatedTarget||n.toElement,j=u,w=w?ln(w):null,w!==null&&(S=xn(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(j=null,w=u),j!==w)){if(N=po,y="onMouseLeave",x="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(N=go,y="onPointerLeave",x="onPointerEnter",d="pointer"),S=j==null?h:Sn(j),m=w==null?h:Sn(w),h=new N(y,d+"leave",j,n,g),h.target=S,h.relatedTarget=m,y=null,ln(g)===u&&(N=new N(x,d+"enter",w,n,g),N.target=m,N.relatedTarget=S,y=N),S=y,j&&w)t:{for(N=j,x=w,d=0,m=N;m;m=gn(m))d++;for(m=0,y=x;y;y=gn(y))m++;for(;0<d-m;)N=gn(N),d--;for(;0<m-d;)x=gn(x),m--;for(;d--;){if(N===x||x!==null&&N===x.alternate)break t;N=gn(N),x=gn(x)}N=null}else N=null;j!==null&&Ao(p,h,j,N,!1),w!==null&&S!==null&&Ao(p,S,w,N,!0)}}e:{if(h=u?Sn(u):window,j=h.nodeName&&h.nodeName.toLowerCase(),j==="select"||j==="input"&&h.type==="file")var k=Mf;else if(jo(h))if(jd)k=Of;else{k=Rf;var v=If}else(j=h.nodeName)&&j.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=$f);if(k&&(k=k(e,u))){vd(p,k,n,g);break e}v&&v(e,h,u),e==="focusout"&&(v=h._wrapperState)&&v.controlled&&h.type==="number"&&ca(h,"number",h.value)}switch(v=u?Sn(u):window,e){case"focusin":(jo(v)||v.contentEditable==="true")&&(Nn=v,Na=u,Ns=null);break;case"focusout":Ns=Na=Nn=null;break;case"mousedown":wa=!0;break;case"contextmenu":case"mouseup":case"dragend":wa=!1,ko(p,n,g);break;case"selectionchange":if(Uf)break;case"keydown":case"keyup":ko(p,n,g)}var b;if(yi)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else jn?gd(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(xd&&n.locale!=="ko"&&(jn||C!=="onCompositionStart"?C==="onCompositionEnd"&&jn&&(b=pd()):(Rt=g,pi="value"in Rt?Rt.value:Rt.textContent,jn=!0)),v=zl(u,C),0<v.length&&(C=new xo(C,e,null,n,g),p.push({event:C,listeners:v}),b?C.data=b:(b=yd(n),b!==null&&(C.data=b)))),(b=Df?Pf(e,n):Lf(e,n))&&(u=zl(u,"onBeforeInput"),0<u.length&&(g=new xo("onBeforeInput","beforeinput",null,n,g),p.push({event:g,listeners:u}),g.data=b))}Pd(p,t)})}function Rs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zl(e,t){for(var n=t+"Capture",l=[];e!==null;){var r=e,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=Ds(e,n),a!=null&&l.unshift(Rs(e,a,r)),a=Ds(e,t),a!=null&&l.push(Rs(e,a,r))),e=e.return}return l}function gn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ao(e,t,n,l,r){for(var a=t._reactName,i=[];n!==null&&n!==l;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===l)break;o.tag===5&&u!==null&&(o=u,r?(c=Ds(n,a),c!=null&&i.unshift(Rs(n,c,o))):r||(c=Ds(n,a),c!=null&&i.push(Rs(n,c,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Vf=/\r\n?/g,Jf=/\u0000|\uFFFD/g;function Do(e){return(typeof e=="string"?e:""+e).replace(Vf,`
`).replace(Jf,"")}function dl(e,t,n){if(t=Do(t),Do(e)!==t&&n)throw Error(P(425))}function Ul(){}var Sa=null,ba=null;function ka(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ca=typeof setTimeout=="function"?setTimeout:void 0,Qf=typeof clearTimeout=="function"?clearTimeout:void 0,Po=typeof Promise=="function"?Promise:void 0,Yf=typeof queueMicrotask=="function"?queueMicrotask:typeof Po<"u"?function(e){return Po.resolve(null).then(e).catch(Gf)}:Ca;function Gf(e){setTimeout(function(){throw e})}function Br(e,t){var n=t,l=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(l===0){e.removeChild(r),Ts(t);return}l--}else n!=="$"&&n!=="$?"&&n!=="$!"||l++;n=r}while(n);Ts(t)}function Bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Lo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Qn=Math.random().toString(36).slice(2),ot="__reactFiber$"+Qn,$s="__reactProps$"+Qn,bt="__reactContainer$"+Qn,Ea="__reactEvents$"+Qn,Kf="__reactListeners$"+Qn,Xf="__reactHandles$"+Qn;function ln(e){var t=e[ot];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bt]||n[ot]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Lo(e);e!==null;){if(n=e[ot])return n;e=Lo(e)}return t}e=n,n=e.parentNode}return null}function Xs(e){return e=e[ot]||e[bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function dr(e){return e[$s]||null}var Aa=[],bn=-1;function qt(e){return{current:e}}function te(e){0>bn||(e.current=Aa[bn],Aa[bn]=null,bn--)}function Z(e,t){bn++,Aa[bn]=e.current,e.current=t}var Gt={},ke=qt(Gt),_e=qt(!1),dn=Gt;function On(e,t){var n=e.type.contextTypes;if(!n)return Gt;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in n)r[a]=t[a];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Me(e){return e=e.childContextTypes,e!=null}function Bl(){te(_e),te(ke)}function To(e,t,n){if(ke.current!==Gt)throw Error(P(168));Z(ke,t),Z(_e,n)}function Td(e,t,n){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return n;l=l.getChildContext();for(var r in l)if(!(r in t))throw Error(P(108,Mm(e)||"Unknown",r));return oe({},n,l)}function Hl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gt,dn=ke.current,Z(ke,e),Z(_e,_e.current),!0}function _o(e,t,n){var l=e.stateNode;if(!l)throw Error(P(169));n?(e=Td(e,t,dn),l.__reactInternalMemoizedMergedChildContext=e,te(_e),te(ke),Z(ke,e)):te(_e),Z(_e,n)}var yt=null,ur=!1,Hr=!1;function _d(e){yt===null?yt=[e]:yt.push(e)}function qf(e){ur=!0,_d(e)}function Zt(){if(!Hr&&yt!==null){Hr=!0;var e=0,t=X;try{var n=yt;for(X=1;e<n.length;e++){var l=n[e];do l=l(!0);while(l!==null)}yt=null,ur=!1}catch(r){throw yt!==null&&(yt=yt.slice(e+1)),ld(ui,Zt),r}finally{X=t,Hr=!1}}return null}var kn=[],Cn=0,Wl=null,Vl=0,Be=[],He=0,un=null,jt=1,Nt="";function tn(e,t){kn[Cn++]=Vl,kn[Cn++]=Wl,Wl=e,Vl=t}function Md(e,t,n){Be[He++]=jt,Be[He++]=Nt,Be[He++]=un,un=e;var l=jt;e=Nt;var r=32-nt(l)-1;l&=~(1<<r),n+=1;var a=32-nt(t)+r;if(30<a){var i=r-r%5;a=(l&(1<<i)-1).toString(32),l>>=i,r-=i,jt=1<<32-nt(t)+r|n<<r|l,Nt=a+e}else jt=1<<a|n<<r|l,Nt=e}function ji(e){e.return!==null&&(tn(e,1),Md(e,1,0))}function Ni(e){for(;e===Wl;)Wl=kn[--Cn],kn[Cn]=null,Vl=kn[--Cn],kn[Cn]=null;for(;e===un;)un=Be[--He],Be[He]=null,Nt=Be[--He],Be[He]=null,jt=Be[--He],Be[He]=null}var Oe=null,$e=null,ne=!1,tt=null;function Id(e,t){var n=We(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Mo(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Oe=e,$e=Bt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Oe=e,$e=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=un!==null?{id:jt,overflow:Nt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=We(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Oe=e,$e=null,!0):!1;default:return!1}}function Da(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pa(e){if(ne){var t=$e;if(t){var n=t;if(!Mo(e,t)){if(Da(e))throw Error(P(418));t=Bt(n.nextSibling);var l=Oe;t&&Mo(e,t)?Id(l,n):(e.flags=e.flags&-4097|2,ne=!1,Oe=e)}}else{if(Da(e))throw Error(P(418));e.flags=e.flags&-4097|2,ne=!1,Oe=e}}}function Io(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Oe=e}function ul(e){if(e!==Oe)return!1;if(!ne)return Io(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ka(e.type,e.memoizedProps)),t&&(t=$e)){if(Da(e))throw Rd(),Error(P(418));for(;t;)Id(e,t),t=Bt(t.nextSibling)}if(Io(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$e=Bt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$e=null}}else $e=Oe?Bt(e.stateNode.nextSibling):null;return!0}function Rd(){for(var e=$e;e;)e=Bt(e.nextSibling)}function Fn(){$e=Oe=null,ne=!1}function wi(e){tt===null?tt=[e]:tt.push(e)}var Zf=Et.ReactCurrentBatchConfig;function is(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var l=n.stateNode}if(!l)throw Error(P(147,e));var r=l,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=r.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function ml(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ro(e){var t=e._init;return t(e._payload)}function $d(e){function t(x,d){if(e){var m=x.deletions;m===null?(x.deletions=[d],x.flags|=16):m.push(d)}}function n(x,d){if(!e)return null;for(;d!==null;)t(x,d),d=d.sibling;return null}function l(x,d){for(x=new Map;d!==null;)d.key!==null?x.set(d.key,d):x.set(d.index,d),d=d.sibling;return x}function r(x,d){return x=Jt(x,d),x.index=0,x.sibling=null,x}function a(x,d,m){return x.index=m,e?(m=x.alternate,m!==null?(m=m.index,m<d?(x.flags|=2,d):m):(x.flags|=2,d)):(x.flags|=1048576,d)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,d,m,y){return d===null||d.tag!==6?(d=Kr(m,x.mode,y),d.return=x,d):(d=r(d,m),d.return=x,d)}function c(x,d,m,y){var k=m.type;return k===vn?g(x,d,m.props.children,y,m.key):d!==null&&(d.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Tt&&Ro(k)===d.type)?(y=r(d,m.props),y.ref=is(x,d,m),y.return=x,y):(y=Tl(m.type,m.key,m.props,null,x.mode,y),y.ref=is(x,d,m),y.return=x,y)}function u(x,d,m,y){return d===null||d.tag!==4||d.stateNode.containerInfo!==m.containerInfo||d.stateNode.implementation!==m.implementation?(d=Xr(m,x.mode,y),d.return=x,d):(d=r(d,m.children||[]),d.return=x,d)}function g(x,d,m,y,k){return d===null||d.tag!==7?(d=cn(m,x.mode,y,k),d.return=x,d):(d=r(d,m),d.return=x,d)}function p(x,d,m){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Kr(""+d,x.mode,m),d.return=x,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case tl:return m=Tl(d.type,d.key,d.props,null,x.mode,m),m.ref=is(x,null,d),m.return=x,m;case yn:return d=Xr(d,x.mode,m),d.return=x,d;case Tt:var y=d._init;return p(x,y(d._payload),m)}if(fs(d)||ns(d))return d=cn(d,x.mode,m,null),d.return=x,d;ml(x,d)}return null}function h(x,d,m,y){var k=d!==null?d.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:o(x,d,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case tl:return m.key===k?c(x,d,m,y):null;case yn:return m.key===k?u(x,d,m,y):null;case Tt:return k=m._init,h(x,d,k(m._payload),y)}if(fs(m)||ns(m))return k!==null?null:g(x,d,m,y,null);ml(x,m)}return null}function j(x,d,m,y,k){if(typeof y=="string"&&y!==""||typeof y=="number")return x=x.get(m)||null,o(d,x,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case tl:return x=x.get(y.key===null?m:y.key)||null,c(d,x,y,k);case yn:return x=x.get(y.key===null?m:y.key)||null,u(d,x,y,k);case Tt:var v=y._init;return j(x,d,m,v(y._payload),k)}if(fs(y)||ns(y))return x=x.get(m)||null,g(d,x,y,k,null);ml(d,y)}return null}function w(x,d,m,y){for(var k=null,v=null,b=d,C=d=0,L=null;b!==null&&C<m.length;C++){b.index>C?(L=b,b=null):L=b.sibling;var M=h(x,b,m[C],y);if(M===null){b===null&&(b=L);break}e&&b&&M.alternate===null&&t(x,b),d=a(M,d,C),v===null?k=M:v.sibling=M,v=M,b=L}if(C===m.length)return n(x,b),ne&&tn(x,C),k;if(b===null){for(;C<m.length;C++)b=p(x,m[C],y),b!==null&&(d=a(b,d,C),v===null?k=b:v.sibling=b,v=b);return ne&&tn(x,C),k}for(b=l(x,b);C<m.length;C++)L=j(b,x,C,m[C],y),L!==null&&(e&&L.alternate!==null&&b.delete(L.key===null?C:L.key),d=a(L,d,C),v===null?k=L:v.sibling=L,v=L);return e&&b.forEach(function(B){return t(x,B)}),ne&&tn(x,C),k}function N(x,d,m,y){var k=ns(m);if(typeof k!="function")throw Error(P(150));if(m=k.call(m),m==null)throw Error(P(151));for(var v=k=null,b=d,C=d=0,L=null,M=m.next();b!==null&&!M.done;C++,M=m.next()){b.index>C?(L=b,b=null):L=b.sibling;var B=h(x,b,M.value,y);if(B===null){b===null&&(b=L);break}e&&b&&B.alternate===null&&t(x,b),d=a(B,d,C),v===null?k=B:v.sibling=B,v=B,b=L}if(M.done)return n(x,b),ne&&tn(x,C),k;if(b===null){for(;!M.done;C++,M=m.next())M=p(x,M.value,y),M!==null&&(d=a(M,d,C),v===null?k=M:v.sibling=M,v=M);return ne&&tn(x,C),k}for(b=l(x,b);!M.done;C++,M=m.next())M=j(b,x,C,M.value,y),M!==null&&(e&&M.alternate!==null&&b.delete(M.key===null?C:M.key),d=a(M,d,C),v===null?k=M:v.sibling=M,v=M);return e&&b.forEach(function(se){return t(x,se)}),ne&&tn(x,C),k}function S(x,d,m,y){if(typeof m=="object"&&m!==null&&m.type===vn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case tl:e:{for(var k=m.key,v=d;v!==null;){if(v.key===k){if(k=m.type,k===vn){if(v.tag===7){n(x,v.sibling),d=r(v,m.props.children),d.return=x,x=d;break e}}else if(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Tt&&Ro(k)===v.type){n(x,v.sibling),d=r(v,m.props),d.ref=is(x,v,m),d.return=x,x=d;break e}n(x,v);break}else t(x,v);v=v.sibling}m.type===vn?(d=cn(m.props.children,x.mode,y,m.key),d.return=x,x=d):(y=Tl(m.type,m.key,m.props,null,x.mode,y),y.ref=is(x,d,m),y.return=x,x=y)}return i(x);case yn:e:{for(v=m.key;d!==null;){if(d.key===v)if(d.tag===4&&d.stateNode.containerInfo===m.containerInfo&&d.stateNode.implementation===m.implementation){n(x,d.sibling),d=r(d,m.children||[]),d.return=x,x=d;break e}else{n(x,d);break}else t(x,d);d=d.sibling}d=Xr(m,x.mode,y),d.return=x,x=d}return i(x);case Tt:return v=m._init,S(x,d,v(m._payload),y)}if(fs(m))return w(x,d,m,y);if(ns(m))return N(x,d,m,y);ml(x,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,d!==null&&d.tag===6?(n(x,d.sibling),d=r(d,m),d.return=x,x=d):(n(x,d),d=Kr(m,x.mode,y),d.return=x,x=d),i(x)):n(x,d)}return S}var zn=$d(!0),Od=$d(!1),Jl=qt(null),Ql=null,En=null,Si=null;function bi(){Si=En=Ql=null}function ki(e){var t=Jl.current;te(Jl),e._currentValue=t}function La(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Mn(e,t){Ql=e,Si=En=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Te=!0),e.firstContext=null)}function Je(e){var t=e._currentValue;if(Si!==e)if(e={context:e,memoizedValue:t,next:null},En===null){if(Ql===null)throw Error(P(308));En=e,Ql.dependencies={lanes:0,firstContext:e}}else En=En.next=e;return t}var rn=null;function Ci(e){rn===null?rn=[e]:rn.push(e)}function Fd(e,t,n,l){var r=t.interleaved;return r===null?(n.next=n,Ci(t)):(n.next=r.next,r.next=n),t.interleaved=n,kt(e,l)}function kt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var _t=!1;function Ei(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ht(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,K&2){var r=l.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),l.pending=t,kt(e,n)}return r=l.interleaved,r===null?(t.next=t,Ci(l)):(t.next=r.next,r.next=t),l.interleaved=t,kt(e,n)}function Cl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,mi(e,n)}}function $o(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?r=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:l.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:l.shared,effects:l.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Yl(e,t,n,l){var r=e.updateQueue;_t=!1;var a=r.firstBaseUpdate,i=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var g=e.alternate;g!==null&&(g=g.updateQueue,o=g.lastBaseUpdate,o!==i&&(o===null?g.firstBaseUpdate=u:o.next=u,g.lastBaseUpdate=c))}if(a!==null){var p=r.baseState;i=0,g=u=c=null,o=a;do{var h=o.lane,j=o.eventTime;if((l&h)===h){g!==null&&(g=g.next={eventTime:j,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=e,N=o;switch(h=t,j=n,N.tag){case 1:if(w=N.payload,typeof w=="function"){p=w.call(j,p,h);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=N.payload,h=typeof w=="function"?w.call(j,p,h):w,h==null)break e;p=oe({},p,h);break e;case 2:_t=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=r.effects,h===null?r.effects=[o]:h.push(o))}else j={eventTime:j,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},g===null?(u=g=j,c=p):g=g.next=j,i|=h;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;h=o,o=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(g===null&&(c=p),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=g,t=r.shared.interleaved,t!==null){r=t;do i|=r.lane,r=r.next;while(r!==t)}else a===null&&(r.shared.lanes=0);fn|=i,e.lanes=i,e.memoizedState=p}}function Oo(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],r=l.callback;if(r!==null){if(l.callback=null,l=n,typeof r!="function")throw Error(P(191,r));r.call(l)}}}var qs={},ut=qt(qs),Os=qt(qs),Fs=qt(qs);function an(e){if(e===qs)throw Error(P(174));return e}function Ai(e,t){switch(Z(Fs,t),Z(Os,e),Z(ut,qs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ua(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ua(t,e)}te(ut),Z(ut,t)}function Un(){te(ut),te(Os),te(Fs)}function Ud(e){an(Fs.current);var t=an(ut.current),n=ua(t,e.type);t!==n&&(Z(Os,e),Z(ut,n))}function Di(e){Os.current===e&&(te(ut),te(Os))}var re=qt(0);function Gl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wr=[];function Pi(){for(var e=0;e<Wr.length;e++)Wr[e]._workInProgressVersionPrimary=null;Wr.length=0}var El=Et.ReactCurrentDispatcher,Vr=Et.ReactCurrentBatchConfig,mn=0,ae=null,fe=null,xe=null,Kl=!1,ws=!1,zs=0,eh=0;function we(){throw Error(P(321))}function Li(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lt(e[n],t[n]))return!1;return!0}function Ti(e,t,n,l,r,a){if(mn=a,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,El.current=e===null||e.memoizedState===null?lh:rh,e=n(l,r),ws){a=0;do{if(ws=!1,zs=0,25<=a)throw Error(P(301));a+=1,xe=fe=null,t.updateQueue=null,El.current=ah,e=n(l,r)}while(ws)}if(El.current=Xl,t=fe!==null&&fe.next!==null,mn=0,xe=fe=ae=null,Kl=!1,t)throw Error(P(300));return e}function _i(){var e=zs!==0;return zs=0,e}function it(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?ae.memoizedState=xe=e:xe=xe.next=e,xe}function Qe(){if(fe===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=xe===null?ae.memoizedState:xe.next;if(t!==null)xe=t,fe=e;else{if(e===null)throw Error(P(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},xe===null?ae.memoizedState=xe=e:xe=xe.next=e}return xe}function Us(e,t){return typeof t=="function"?t(e):t}function Jr(e){var t=Qe(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var l=fe,r=l.baseQueue,a=n.pending;if(a!==null){if(r!==null){var i=r.next;r.next=a.next,a.next=i}l.baseQueue=r=a,n.pending=null}if(r!==null){a=r.next,l=l.baseState;var o=i=null,c=null,u=a;do{var g=u.lane;if((mn&g)===g)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),l=u.hasEagerState?u.eagerState:e(l,u.action);else{var p={lane:g,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=p,i=l):c=c.next=p,ae.lanes|=g,fn|=g}u=u.next}while(u!==null&&u!==a);c===null?i=l:c.next=o,lt(l,t.memoizedState)||(Te=!0),t.memoizedState=l,t.baseState=i,t.baseQueue=c,n.lastRenderedState=l}if(e=n.interleaved,e!==null){r=e;do a=r.lane,ae.lanes|=a,fn|=a,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Qr(e){var t=Qe(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var l=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var i=r=r.next;do a=e(a,i.action),i=i.next;while(i!==r);lt(a,t.memoizedState)||(Te=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,l]}function Bd(){}function Hd(e,t){var n=ae,l=Qe(),r=t(),a=!lt(l.memoizedState,r);if(a&&(l.memoizedState=r,Te=!0),l=l.queue,Mi(Jd.bind(null,n,l,e),[e]),l.getSnapshot!==t||a||xe!==null&&xe.memoizedState.tag&1){if(n.flags|=2048,Bs(9,Vd.bind(null,n,l,r,t),void 0,null),ge===null)throw Error(P(349));mn&30||Wd(n,t,r)}return r}function Wd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vd(e,t,n,l){t.value=n,t.getSnapshot=l,Qd(t)&&Yd(e)}function Jd(e,t,n){return n(function(){Qd(t)&&Yd(e)})}function Qd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lt(e,n)}catch{return!0}}function Yd(e){var t=kt(e,1);t!==null&&st(t,e,1,-1)}function Fo(e){var t=it();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:e},t.queue=e,e=e.dispatch=sh.bind(null,ae,e),[t.memoizedState,e]}function Bs(e,t,n,l){return e={tag:e,create:t,destroy:n,deps:l,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e)),e}function Gd(){return Qe().memoizedState}function Al(e,t,n,l){var r=it();ae.flags|=e,r.memoizedState=Bs(1|t,n,void 0,l===void 0?null:l)}function mr(e,t,n,l){var r=Qe();l=l===void 0?null:l;var a=void 0;if(fe!==null){var i=fe.memoizedState;if(a=i.destroy,l!==null&&Li(l,i.deps)){r.memoizedState=Bs(t,n,a,l);return}}ae.flags|=e,r.memoizedState=Bs(1|t,n,a,l)}function zo(e,t){return Al(8390656,8,e,t)}function Mi(e,t){return mr(2048,8,e,t)}function Kd(e,t){return mr(4,2,e,t)}function Xd(e,t){return mr(4,4,e,t)}function qd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zd(e,t,n){return n=n!=null?n.concat([e]):null,mr(4,4,qd.bind(null,t,e),n)}function Ii(){}function eu(e,t){var n=Qe();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&Li(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function tu(e,t){var n=Qe();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&Li(t,l[1])?l[0]:(e=e(),n.memoizedState=[e,t],e)}function nu(e,t,n){return mn&21?(lt(n,t)||(n=id(),ae.lanes|=n,fn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Te=!0),e.memoizedState=n)}function th(e,t){var n=X;X=n!==0&&4>n?n:4,e(!0);var l=Vr.transition;Vr.transition={};try{e(!1),t()}finally{X=n,Vr.transition=l}}function su(){return Qe().memoizedState}function nh(e,t,n){var l=Vt(e);if(n={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null},lu(e))ru(t,n);else if(n=Fd(e,t,n,l),n!==null){var r=Ee();st(n,e,l,r),au(n,t,l)}}function sh(e,t,n){var l=Vt(e),r={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null};if(lu(e))ru(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(r.hasEagerState=!0,r.eagerState=o,lt(o,i)){var c=t.interleaved;c===null?(r.next=r,Ci(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}n=Fd(e,t,r,l),n!==null&&(r=Ee(),st(n,e,l,r),au(n,t,l))}}function lu(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function ru(e,t){ws=Kl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(n&4194240){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,mi(e,n)}}var Xl={readContext:Je,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},lh={readContext:Je,useCallback:function(e,t){return it().memoizedState=[e,t===void 0?null:t],e},useContext:Je,useEffect:zo,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Al(4194308,4,qd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Al(4194308,4,e,t)},useInsertionEffect:function(e,t){return Al(4,2,e,t)},useMemo:function(e,t){var n=it();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var l=it();return t=n!==void 0?n(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=nh.bind(null,ae,e),[l.memoizedState,e]},useRef:function(e){var t=it();return e={current:e},t.memoizedState=e},useState:Fo,useDebugValue:Ii,useDeferredValue:function(e){return it().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=th.bind(null,e[1]),it().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var l=ae,r=it();if(ne){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),ge===null)throw Error(P(349));mn&30||Wd(l,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,zo(Jd.bind(null,l,a,e),[e]),l.flags|=2048,Bs(9,Vd.bind(null,l,a,n,t),void 0,null),n},useId:function(){var e=it(),t=ge.identifierPrefix;if(ne){var n=Nt,l=jt;n=(l&~(1<<32-nt(l)-1)).toString(32)+n,t=":"+t+"R"+n,n=zs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=eh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rh={readContext:Je,useCallback:eu,useContext:Je,useEffect:Mi,useImperativeHandle:Zd,useInsertionEffect:Kd,useLayoutEffect:Xd,useMemo:tu,useReducer:Jr,useRef:Gd,useState:function(){return Jr(Us)},useDebugValue:Ii,useDeferredValue:function(e){var t=Qe();return nu(t,fe.memoizedState,e)},useTransition:function(){var e=Jr(Us)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:Bd,useSyncExternalStore:Hd,useId:su,unstable_isNewReconciler:!1},ah={readContext:Je,useCallback:eu,useContext:Je,useEffect:Mi,useImperativeHandle:Zd,useInsertionEffect:Kd,useLayoutEffect:Xd,useMemo:tu,useReducer:Qr,useRef:Gd,useState:function(){return Qr(Us)},useDebugValue:Ii,useDeferredValue:function(e){var t=Qe();return fe===null?t.memoizedState=e:nu(t,fe.memoizedState,e)},useTransition:function(){var e=Qr(Us)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:Bd,useSyncExternalStore:Hd,useId:su,unstable_isNewReconciler:!1};function Ze(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ta(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var fr={isMounted:function(e){return(e=e._reactInternals)?xn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var l=Ee(),r=Vt(e),a=wt(l,r);a.payload=t,n!=null&&(a.callback=n),t=Ht(e,a,r),t!==null&&(st(t,e,r,l),Cl(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=Ee(),r=Vt(e),a=wt(l,r);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ht(e,a,r),t!==null&&(st(t,e,r,l),Cl(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ee(),l=Vt(e),r=wt(n,l);r.tag=2,t!=null&&(r.callback=t),t=Ht(e,r,l),t!==null&&(st(t,e,l,n),Cl(t,e,l))}};function Uo(e,t,n,l,r,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,a,i):t.prototype&&t.prototype.isPureReactComponent?!Ms(n,l)||!Ms(r,a):!0}function iu(e,t,n){var l=!1,r=Gt,a=t.contextType;return typeof a=="object"&&a!==null?a=Je(a):(r=Me(t)?dn:ke.current,l=t.contextTypes,a=(l=l!=null)?On(e,r):Gt),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fr,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function Bo(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&fr.enqueueReplaceState(t,t.state,null)}function _a(e,t,n,l){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Ei(e);var a=t.contextType;typeof a=="object"&&a!==null?r.context=Je(a):(a=Me(t)?dn:ke.current,r.context=On(e,a)),r.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ta(e,t,a,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&fr.enqueueReplaceState(r,r.state,null),Yl(e,n,r,l),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Bn(e,t){try{var n="",l=t;do n+=_m(l),l=l.return;while(l);var r=n}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:r,digest:null}}function Yr(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ma(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ih=typeof WeakMap=="function"?WeakMap:Map;function ou(e,t,n){n=wt(-1,n),n.tag=3,n.payload={element:null};var l=t.value;return n.callback=function(){Zl||(Zl=!0,Wa=l),Ma(e,t)},n}function cu(e,t,n){n=wt(-1,n),n.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var r=t.value;n.payload=function(){return l(r)},n.callback=function(){Ma(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ma(e,t),typeof l!="function"&&(Wt===null?Wt=new Set([this]):Wt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Ho(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new ih;var r=new Set;l.set(t,r)}else r=l.get(t),r===void 0&&(r=new Set,l.set(t,r));r.has(n)||(r.add(n),e=Nh.bind(null,e,t,n),t.then(e,e))}function Wo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vo(e,t,n,l,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wt(-1,1),t.tag=2,Ht(n,t,1))),n.lanes|=1),e)}var oh=Et.ReactCurrentOwner,Te=!1;function Ce(e,t,n,l){t.child=e===null?Od(t,null,n,l):zn(t,e.child,n,l)}function Jo(e,t,n,l,r){n=n.render;var a=t.ref;return Mn(t,r),l=Ti(e,t,n,l,a,r),n=_i(),e!==null&&!Te?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ct(e,t,r)):(ne&&n&&ji(t),t.flags|=1,Ce(e,t,l,r),t.child)}function Qo(e,t,n,l,r){if(e===null){var a=n.type;return typeof a=="function"&&!Hi(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,du(e,t,a,l,r)):(e=Tl(n.type,null,l,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&r)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ms,n(i,l)&&e.ref===t.ref)return Ct(e,t,r)}return t.flags|=1,e=Jt(a,l),e.ref=t.ref,e.return=t,t.child=e}function du(e,t,n,l,r){if(e!==null){var a=e.memoizedProps;if(Ms(a,l)&&e.ref===t.ref)if(Te=!1,t.pendingProps=l=a,(e.lanes&r)!==0)e.flags&131072&&(Te=!0);else return t.lanes=e.lanes,Ct(e,t,r)}return Ia(e,t,n,l,r)}function uu(e,t,n){var l=t.pendingProps,r=l.children,a=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Dn,Re),Re|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(Dn,Re),Re|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=a!==null?a.baseLanes:n,Z(Dn,Re),Re|=l}else a!==null?(l=a.baseLanes|n,t.memoizedState=null):l=n,Z(Dn,Re),Re|=l;return Ce(e,t,r,n),t.child}function mu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ia(e,t,n,l,r){var a=Me(n)?dn:ke.current;return a=On(t,a),Mn(t,r),n=Ti(e,t,n,l,a,r),l=_i(),e!==null&&!Te?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ct(e,t,r)):(ne&&l&&ji(t),t.flags|=1,Ce(e,t,n,r),t.child)}function Yo(e,t,n,l,r){if(Me(n)){var a=!0;Hl(t)}else a=!1;if(Mn(t,r),t.stateNode===null)Dl(e,t),iu(t,n,l),_a(t,n,l,r),l=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Je(u):(u=Me(n)?dn:ke.current,u=On(t,u));var g=n.getDerivedStateFromProps,p=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==l||c!==u)&&Bo(t,i,l,u),_t=!1;var h=t.memoizedState;i.state=h,Yl(t,l,i,r),c=t.memoizedState,o!==l||h!==c||_e.current||_t?(typeof g=="function"&&(Ta(t,n,g,l),c=t.memoizedState),(o=_t||Uo(t,n,o,l,h,c,u))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=c),i.props=l,i.state=c,i.context=u,l=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,zd(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Ze(t.type,o),i.props=u,p=t.pendingProps,h=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Je(c):(c=Me(n)?dn:ke.current,c=On(t,c));var j=n.getDerivedStateFromProps;(g=typeof j=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==p||h!==c)&&Bo(t,i,l,c),_t=!1,h=t.memoizedState,i.state=h,Yl(t,l,i,r);var w=t.memoizedState;o!==p||h!==w||_e.current||_t?(typeof j=="function"&&(Ta(t,n,j,l),w=t.memoizedState),(u=_t||Uo(t,n,u,l,h,w,c)||!1)?(g||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=w),i.props=l,i.state=w,i.context=c,l=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),l=!1)}return Ra(e,t,n,l,a,r)}function Ra(e,t,n,l,r,a){mu(e,t);var i=(t.flags&128)!==0;if(!l&&!i)return r&&_o(t,n,!1),Ct(e,t,a);l=t.stateNode,oh.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&i?(t.child=zn(t,e.child,null,a),t.child=zn(t,null,o,a)):Ce(e,t,o,a),t.memoizedState=l.state,r&&_o(t,n,!0),t.child}function fu(e){var t=e.stateNode;t.pendingContext?To(e,t.pendingContext,t.pendingContext!==t.context):t.context&&To(e,t.context,!1),Ai(e,t.containerInfo)}function Go(e,t,n,l,r){return Fn(),wi(r),t.flags|=256,Ce(e,t,n,l),t.child}var $a={dehydrated:null,treeContext:null,retryLane:0};function Oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function hu(e,t,n){var l=t.pendingProps,r=re.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(r&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),Z(re,r&1),e===null)return Pa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=l.children,e=l.fallback,a?(l=t.mode,a=t.child,i={mode:"hidden",children:i},!(l&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=xr(i,l,0,null),e=cn(e,l,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Oa(n),t.memoizedState=$a,e):Ri(t,i));if(r=e.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return ch(e,t,i,l,o,r,n);if(a){a=l.fallback,i=t.mode,r=e.child,o=r.sibling;var c={mode:"hidden",children:l.children};return!(i&1)&&t.child!==r?(l=t.child,l.childLanes=0,l.pendingProps=c,t.deletions=null):(l=Jt(r,c),l.subtreeFlags=r.subtreeFlags&14680064),o!==null?a=Jt(o,a):(a=cn(a,i,n,null),a.flags|=2),a.return=t,l.return=t,l.sibling=a,t.child=l,l=a,a=t.child,i=e.child.memoizedState,i=i===null?Oa(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=$a,l}return a=e.child,e=a.sibling,l=Jt(a,{mode:"visible",children:l.children}),!(t.mode&1)&&(l.lanes=n),l.return=t,l.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=l,t.memoizedState=null,l}function Ri(e,t){return t=xr({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fl(e,t,n,l){return l!==null&&wi(l),zn(t,e.child,null,n),e=Ri(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ch(e,t,n,l,r,a,i){if(n)return t.flags&256?(t.flags&=-257,l=Yr(Error(P(422))),fl(e,t,i,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=l.fallback,r=t.mode,l=xr({mode:"visible",children:l.children},r,0,null),a=cn(a,r,i,null),a.flags|=2,l.return=t,a.return=t,l.sibling=a,t.child=l,t.mode&1&&zn(t,e.child,null,i),t.child.memoizedState=Oa(i),t.memoizedState=$a,a);if(!(t.mode&1))return fl(e,t,i,null);if(r.data==="$!"){if(l=r.nextSibling&&r.nextSibling.dataset,l)var o=l.dgst;return l=o,a=Error(P(419)),l=Yr(a,l,void 0),fl(e,t,i,l)}if(o=(i&e.childLanes)!==0,Te||o){if(l=ge,l!==null){switch(i&-i){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(l.suspendedLanes|i)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,kt(e,r),st(l,e,r,-1))}return Bi(),l=Yr(Error(P(421))),fl(e,t,i,l)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=wh.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,$e=Bt(r.nextSibling),Oe=t,ne=!0,tt=null,e!==null&&(Be[He++]=jt,Be[He++]=Nt,Be[He++]=un,jt=e.id,Nt=e.overflow,un=t),t=Ri(t,l.children),t.flags|=4096,t)}function Ko(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),La(e.return,t,n)}function Gr(e,t,n,l,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=l,a.tail=n,a.tailMode=r)}function pu(e,t,n){var l=t.pendingProps,r=l.revealOrder,a=l.tail;if(Ce(e,t,l.children,n),l=re.current,l&2)l=l&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ko(e,n,t);else if(e.tag===19)Ko(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Z(re,l),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Gl(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Gr(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Gl(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Gr(t,!0,n,null,a);break;case"together":Gr(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ct(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Jt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function dh(e,t,n){switch(t.tag){case 3:fu(t),Fn();break;case 5:Ud(t);break;case 1:Me(t.type)&&Hl(t);break;case 4:Ai(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,r=t.memoizedProps.value;Z(Jl,l._currentValue),l._currentValue=r;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(Z(re,re.current&1),t.flags|=128,null):n&t.child.childLanes?hu(e,t,n):(Z(re,re.current&1),e=Ct(e,t,n),e!==null?e.sibling:null);Z(re,re.current&1);break;case 19:if(l=(n&t.childLanes)!==0,e.flags&128){if(l)return pu(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Z(re,re.current),l)break;return null;case 22:case 23:return t.lanes=0,uu(e,t,n)}return Ct(e,t,n)}var xu,Fa,gu,yu;xu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fa=function(){};gu=function(e,t,n,l){var r=e.memoizedProps;if(r!==l){e=t.stateNode,an(ut.current);var a=null;switch(n){case"input":r=ia(e,r),l=ia(e,l),a=[];break;case"select":r=oe({},r,{value:void 0}),l=oe({},l,{value:void 0}),a=[];break;case"textarea":r=da(e,r),l=da(e,l),a=[];break;default:typeof r.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Ul)}ma(n,l);var i;n=null;for(u in r)if(!l.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var o=r[u];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Es.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in l){var c=l[u];if(o=r!=null?r[u]:void 0,l.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Es.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ee("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};yu=function(e,t,n,l){n!==l&&(t.flags|=4)};function os(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Se(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,l|=r.subtreeFlags&14680064,l|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,l|=r.subtreeFlags,l|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function uh(e,t,n){var l=t.pendingProps;switch(Ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(t),null;case 1:return Me(t.type)&&Bl(),Se(t),null;case 3:return l=t.stateNode,Un(),te(_e),te(ke),Pi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(ul(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tt!==null&&(Qa(tt),tt=null))),Fa(e,t),Se(t),null;case 5:Di(t);var r=an(Fs.current);if(n=t.type,e!==null&&t.stateNode!=null)gu(e,t,n,l,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(P(166));return Se(t),null}if(e=an(ut.current),ul(t)){l=t.stateNode,n=t.type;var a=t.memoizedProps;switch(l[ot]=t,l[$s]=a,e=(t.mode&1)!==0,n){case"dialog":ee("cancel",l),ee("close",l);break;case"iframe":case"object":case"embed":ee("load",l);break;case"video":case"audio":for(r=0;r<ps.length;r++)ee(ps[r],l);break;case"source":ee("error",l);break;case"img":case"image":case"link":ee("error",l),ee("load",l);break;case"details":ee("toggle",l);break;case"input":lo(l,a),ee("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!a.multiple},ee("invalid",l);break;case"textarea":ao(l,a),ee("invalid",l)}ma(n,a),r=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?l.textContent!==o&&(a.suppressHydrationWarning!==!0&&dl(l.textContent,o,e),r=["children",o]):typeof o=="number"&&l.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&dl(l.textContent,o,e),r=["children",""+o]):Es.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&ee("scroll",l)}switch(n){case"input":nl(l),ro(l,a,!0);break;case"textarea":nl(l),io(l);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(l.onclick=Ul)}l=r,t.updateQueue=l,l!==null&&(t.flags|=4)}else{i=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=i.createElement(n,{is:l.is}):(e=i.createElement(n),n==="select"&&(i=e,l.multiple?i.multiple=!0:l.size&&(i.size=l.size))):e=i.createElementNS(e,n),e[ot]=t,e[$s]=l,xu(e,t,!1,!1),t.stateNode=e;e:{switch(i=fa(n,l),n){case"dialog":ee("cancel",e),ee("close",e),r=l;break;case"iframe":case"object":case"embed":ee("load",e),r=l;break;case"video":case"audio":for(r=0;r<ps.length;r++)ee(ps[r],e);r=l;break;case"source":ee("error",e),r=l;break;case"img":case"image":case"link":ee("error",e),ee("load",e),r=l;break;case"details":ee("toggle",e),r=l;break;case"input":lo(e,l),r=ia(e,l),ee("invalid",e);break;case"option":r=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},r=oe({},l,{value:void 0}),ee("invalid",e);break;case"textarea":ao(e,l),r=da(e,l),ee("invalid",e);break;default:r=l}ma(n,r),o=r;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?Gc(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Qc(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&As(e,c):typeof c=="number"&&As(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Es.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ee("scroll",e):c!=null&&ai(e,a,c,i))}switch(n){case"input":nl(e),ro(e,l,!1);break;case"textarea":nl(e),io(e);break;case"option":l.value!=null&&e.setAttribute("value",""+Yt(l.value));break;case"select":e.multiple=!!l.multiple,a=l.value,a!=null?Pn(e,!!l.multiple,a,!1):l.defaultValue!=null&&Pn(e,!!l.multiple,l.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Ul)}switch(n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Se(t),null;case 6:if(e&&t.stateNode!=null)yu(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(P(166));if(n=an(Fs.current),an(ut.current),ul(t)){if(l=t.stateNode,n=t.memoizedProps,l[ot]=t,(a=l.nodeValue!==n)&&(e=Oe,e!==null))switch(e.tag){case 3:dl(l.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&dl(l.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else l=(n.nodeType===9?n:n.ownerDocument).createTextNode(l),l[ot]=t,t.stateNode=l}return Se(t),null;case 13:if(te(re),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&$e!==null&&t.mode&1&&!(t.flags&128))Rd(),Fn(),t.flags|=98560,a=!1;else if(a=ul(t),l!==null&&l.dehydrated!==null){if(e===null){if(!a)throw Error(P(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(P(317));a[ot]=t}else Fn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Se(t),a=!1}else tt!==null&&(Qa(tt),tt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?he===0&&(he=3):Bi())),t.updateQueue!==null&&(t.flags|=4),Se(t),null);case 4:return Un(),Fa(e,t),e===null&&Is(t.stateNode.containerInfo),Se(t),null;case 10:return ki(t.type._context),Se(t),null;case 17:return Me(t.type)&&Bl(),Se(t),null;case 19:if(te(re),a=t.memoizedState,a===null)return Se(t),null;if(l=(t.flags&128)!==0,i=a.rendering,i===null)if(l)os(a,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Gl(e),i!==null){for(t.flags|=128,os(a,!1),l=i.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=n,n=t.child;n!==null;)a=n,e=l,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Z(re,re.current&1|2),t.child}e=e.sibling}a.tail!==null&&de()>Hn&&(t.flags|=128,l=!0,os(a,!1),t.lanes=4194304)}else{if(!l)if(e=Gl(i),e!==null){if(t.flags|=128,l=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),os(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ne)return Se(t),null}else 2*de()-a.renderingStartTime>Hn&&n!==1073741824&&(t.flags|=128,l=!0,os(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=de(),t.sibling=null,n=re.current,Z(re,l?n&1|2:n&1),t):(Se(t),null);case 22:case 23:return Ui(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&t.mode&1?Re&1073741824&&(Se(t),t.subtreeFlags&6&&(t.flags|=8192)):Se(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function mh(e,t){switch(Ni(t),t.tag){case 1:return Me(t.type)&&Bl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Un(),te(_e),te(ke),Pi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Di(t),null;case 13:if(te(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(re),null;case 4:return Un(),null;case 10:return ki(t.type._context),null;case 22:case 23:return Ui(),null;case 24:return null;default:return null}}var hl=!1,be=!1,fh=typeof WeakSet=="function"?WeakSet:Set,R=null;function An(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(l){ce(e,t,l)}else n.current=null}function za(e,t,n){try{n()}catch(l){ce(e,t,l)}}var Xo=!1;function hh(e,t){if(Sa=Ol,e=Sd(),vi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var r=l.anchorOffset,a=l.focusNode;l=l.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,c=-1,u=0,g=0,p=e,h=null;t:for(;;){for(var j;p!==n||r!==0&&p.nodeType!==3||(o=i+r),p!==a||l!==0&&p.nodeType!==3||(c=i+l),p.nodeType===3&&(i+=p.nodeValue.length),(j=p.firstChild)!==null;)h=p,p=j;for(;;){if(p===e)break t;if(h===n&&++u===r&&(o=i),h===a&&++g===l&&(c=i),(j=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=j}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ba={focusedElem:e,selectionRange:n},Ol=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var N=w.memoizedProps,S=w.memoizedState,x=t.stateNode,d=x.getSnapshotBeforeUpdate(t.elementType===t.type?N:Ze(t.type,N),S);x.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(y){ce(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return w=Xo,Xo=!1,w}function Ss(e,t,n){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var r=l=l.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,a!==void 0&&za(t,n,a)}r=r.next}while(r!==l)}}function hr(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var l=n.create;n.destroy=l()}n=n.next}while(n!==t)}}function Ua(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function vu(e){var t=e.alternate;t!==null&&(e.alternate=null,vu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ot],delete t[$s],delete t[Ea],delete t[Kf],delete t[Xf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ju(e){return e.tag===5||e.tag===3||e.tag===4}function qo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ju(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ba(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ul));else if(l!==4&&(e=e.child,e!==null))for(Ba(e,t,n),e=e.sibling;e!==null;)Ba(e,t,n),e=e.sibling}function Ha(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Ha(e,t,n),e=e.sibling;e!==null;)Ha(e,t,n),e=e.sibling}var ye=null,et=!1;function Pt(e,t,n){for(n=n.child;n!==null;)Nu(e,t,n),n=n.sibling}function Nu(e,t,n){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(ar,n)}catch{}switch(n.tag){case 5:be||An(n,t);case 6:var l=ye,r=et;ye=null,Pt(e,t,n),ye=l,et=r,ye!==null&&(et?(e=ye,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ye.removeChild(n.stateNode));break;case 18:ye!==null&&(et?(e=ye,n=n.stateNode,e.nodeType===8?Br(e.parentNode,n):e.nodeType===1&&Br(e,n),Ts(e)):Br(ye,n.stateNode));break;case 4:l=ye,r=et,ye=n.stateNode.containerInfo,et=!0,Pt(e,t,n),ye=l,et=r;break;case 0:case 11:case 14:case 15:if(!be&&(l=n.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){r=l=l.next;do{var a=r,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&za(n,t,i),r=r.next}while(r!==l)}Pt(e,t,n);break;case 1:if(!be&&(An(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=n.memoizedProps,l.state=n.memoizedState,l.componentWillUnmount()}catch(o){ce(n,t,o)}Pt(e,t,n);break;case 21:Pt(e,t,n);break;case 22:n.mode&1?(be=(l=be)||n.memoizedState!==null,Pt(e,t,n),be=l):Pt(e,t,n);break;default:Pt(e,t,n)}}function Zo(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new fh),t.forEach(function(l){var r=Sh.bind(null,e,l);n.has(l)||(n.add(l),l.then(r,r))})}}function Xe(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var r=n[l];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:ye=o.stateNode,et=!1;break e;case 3:ye=o.stateNode.containerInfo,et=!0;break e;case 4:ye=o.stateNode.containerInfo,et=!0;break e}o=o.return}if(ye===null)throw Error(P(160));Nu(a,i,r),ye=null,et=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){ce(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wu(t,e),t=t.sibling}function wu(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xe(t,e),rt(e),l&4){try{Ss(3,e,e.return),hr(3,e)}catch(N){ce(e,e.return,N)}try{Ss(5,e,e.return)}catch(N){ce(e,e.return,N)}}break;case 1:Xe(t,e),rt(e),l&512&&n!==null&&An(n,n.return);break;case 5:if(Xe(t,e),rt(e),l&512&&n!==null&&An(n,n.return),e.flags&32){var r=e.stateNode;try{As(r,"")}catch(N){ce(e,e.return,N)}}if(l&4&&(r=e.stateNode,r!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Wc(r,a),fa(o,i);var u=fa(o,a);for(i=0;i<c.length;i+=2){var g=c[i],p=c[i+1];g==="style"?Gc(r,p):g==="dangerouslySetInnerHTML"?Qc(r,p):g==="children"?As(r,p):ai(r,g,p,u)}switch(o){case"input":oa(r,a);break;case"textarea":Vc(r,a);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var j=a.value;j!=null?Pn(r,!!a.multiple,j,!1):h!==!!a.multiple&&(a.defaultValue!=null?Pn(r,!!a.multiple,a.defaultValue,!0):Pn(r,!!a.multiple,a.multiple?[]:"",!1))}r[$s]=a}catch(N){ce(e,e.return,N)}}break;case 6:if(Xe(t,e),rt(e),l&4){if(e.stateNode===null)throw Error(P(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(N){ce(e,e.return,N)}}break;case 3:if(Xe(t,e),rt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Ts(t.containerInfo)}catch(N){ce(e,e.return,N)}break;case 4:Xe(t,e),rt(e);break;case 13:Xe(t,e),rt(e),r=e.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(Fi=de())),l&4&&Zo(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(be=(u=be)||g,Xe(t,e),be=u):Xe(t,e),rt(e),l&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!g&&e.mode&1)for(R=e,g=e.child;g!==null;){for(p=R=g;R!==null;){switch(h=R,j=h.child,h.tag){case 0:case 11:case 14:case 15:Ss(4,h,h.return);break;case 1:An(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){l=h,n=h.return;try{t=l,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(N){ce(l,n,N)}}break;case 5:An(h,h.return);break;case 22:if(h.memoizedState!==null){tc(p);continue}}j!==null?(j.return=h,R=j):tc(p)}g=g.sibling}e:for(g=null,p=e;;){if(p.tag===5){if(g===null){g=p;try{r=p.stateNode,u?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=p.stateNode,c=p.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Yc("display",i))}catch(N){ce(e,e.return,N)}}}else if(p.tag===6){if(g===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(N){ce(e,e.return,N)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;g===p&&(g=null),p=p.return}g===p&&(g=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Xe(t,e),rt(e),l&4&&Zo(e);break;case 21:break;default:Xe(t,e),rt(e)}}function rt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ju(n)){var l=n;break e}n=n.return}throw Error(P(160))}switch(l.tag){case 5:var r=l.stateNode;l.flags&32&&(As(r,""),l.flags&=-33);var a=qo(e);Ha(e,a,r);break;case 3:case 4:var i=l.stateNode.containerInfo,o=qo(e);Ba(e,o,i);break;default:throw Error(P(161))}}catch(c){ce(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ph(e,t,n){R=e,Su(e)}function Su(e,t,n){for(var l=(e.mode&1)!==0;R!==null;){var r=R,a=r.child;if(r.tag===22&&l){var i=r.memoizedState!==null||hl;if(!i){var o=r.alternate,c=o!==null&&o.memoizedState!==null||be;o=hl;var u=be;if(hl=i,(be=c)&&!u)for(R=r;R!==null;)i=R,c=i.child,i.tag===22&&i.memoizedState!==null?nc(r):c!==null?(c.return=i,R=c):nc(r);for(;a!==null;)R=a,Su(a),a=a.sibling;R=r,hl=o,be=u}ec(e)}else r.subtreeFlags&8772&&a!==null?(a.return=r,R=a):ec(e)}}function ec(e){for(;R!==null;){var t=R;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:be||hr(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!be)if(n===null)l.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Ze(t.type,n.memoizedProps);l.componentDidUpdate(r,n.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Oo(t,a,l);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Oo(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var g=u.memoizedState;if(g!==null){var p=g.dehydrated;p!==null&&Ts(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}be||t.flags&512&&Ua(t)}catch(h){ce(t,t.return,h)}}if(t===e){R=null;break}if(n=t.sibling,n!==null){n.return=t.return,R=n;break}R=t.return}}function tc(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var n=t.sibling;if(n!==null){n.return=t.return,R=n;break}R=t.return}}function nc(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{hr(4,t)}catch(c){ce(t,n,c)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var r=t.return;try{l.componentDidMount()}catch(c){ce(t,r,c)}}var a=t.return;try{Ua(t)}catch(c){ce(t,a,c)}break;case 5:var i=t.return;try{Ua(t)}catch(c){ce(t,i,c)}}}catch(c){ce(t,t.return,c)}if(t===e){R=null;break}var o=t.sibling;if(o!==null){o.return=t.return,R=o;break}R=t.return}}var xh=Math.ceil,ql=Et.ReactCurrentDispatcher,$i=Et.ReactCurrentOwner,Ve=Et.ReactCurrentBatchConfig,K=0,ge=null,me=null,ve=0,Re=0,Dn=qt(0),he=0,Hs=null,fn=0,pr=0,Oi=0,bs=null,Le=null,Fi=0,Hn=1/0,gt=null,Zl=!1,Wa=null,Wt=null,pl=!1,$t=null,er=0,ks=0,Va=null,Pl=-1,Ll=0;function Ee(){return K&6?de():Pl!==-1?Pl:Pl=de()}function Vt(e){return e.mode&1?K&2&&ve!==0?ve&-ve:Zf.transition!==null?(Ll===0&&(Ll=id()),Ll):(e=X,e!==0||(e=window.event,e=e===void 0?16:hd(e.type)),e):1}function st(e,t,n,l){if(50<ks)throw ks=0,Va=null,Error(P(185));Gs(e,n,l),(!(K&2)||e!==ge)&&(e===ge&&(!(K&2)&&(pr|=n),he===4&&It(e,ve)),Ie(e,l),n===1&&K===0&&!(t.mode&1)&&(Hn=de()+500,ur&&Zt()))}function Ie(e,t){var n=e.callbackNode;qm(e,t);var l=$l(e,e===ge?ve:0);if(l===0)n!==null&&uo(n),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(n!=null&&uo(n),t===1)e.tag===0?qf(sc.bind(null,e)):_d(sc.bind(null,e)),Yf(function(){!(K&6)&&Zt()}),n=null;else{switch(od(l)){case 1:n=ui;break;case 4:n=rd;break;case 16:n=Rl;break;case 536870912:n=ad;break;default:n=Rl}n=Lu(n,bu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bu(e,t){if(Pl=-1,Ll=0,K&6)throw Error(P(327));var n=e.callbackNode;if(In()&&e.callbackNode!==n)return null;var l=$l(e,e===ge?ve:0);if(l===0)return null;if(l&30||l&e.expiredLanes||t)t=tr(e,l);else{t=l;var r=K;K|=2;var a=Cu();(ge!==e||ve!==t)&&(gt=null,Hn=de()+500,on(e,t));do try{vh();break}catch(o){ku(e,o)}while(!0);bi(),ql.current=a,K=r,me!==null?t=0:(ge=null,ve=0,t=he)}if(t!==0){if(t===2&&(r=ya(e),r!==0&&(l=r,t=Ja(e,r))),t===1)throw n=Hs,on(e,0),It(e,l),Ie(e,de()),n;if(t===6)It(e,l);else{if(r=e.current.alternate,!(l&30)&&!gh(r)&&(t=tr(e,l),t===2&&(a=ya(e),a!==0&&(l=a,t=Ja(e,a))),t===1))throw n=Hs,on(e,0),It(e,l),Ie(e,de()),n;switch(e.finishedWork=r,e.finishedLanes=l,t){case 0:case 1:throw Error(P(345));case 2:nn(e,Le,gt);break;case 3:if(It(e,l),(l&130023424)===l&&(t=Fi+500-de(),10<t)){if($l(e,0)!==0)break;if(r=e.suspendedLanes,(r&l)!==l){Ee(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Ca(nn.bind(null,e,Le,gt),t);break}nn(e,Le,gt);break;case 4:if(It(e,l),(l&4194240)===l)break;for(t=e.eventTimes,r=-1;0<l;){var i=31-nt(l);a=1<<i,i=t[i],i>r&&(r=i),l&=~a}if(l=r,l=de()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*xh(l/1960))-l,10<l){e.timeoutHandle=Ca(nn.bind(null,e,Le,gt),l);break}nn(e,Le,gt);break;case 5:nn(e,Le,gt);break;default:throw Error(P(329))}}}return Ie(e,de()),e.callbackNode===n?bu.bind(null,e):null}function Ja(e,t){var n=bs;return e.current.memoizedState.isDehydrated&&(on(e,t).flags|=256),e=tr(e,t),e!==2&&(t=Le,Le=n,t!==null&&Qa(t)),e}function Qa(e){Le===null?Le=e:Le.push.apply(Le,e)}function gh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var l=0;l<n.length;l++){var r=n[l],a=r.getSnapshot;r=r.value;try{if(!lt(a(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function It(e,t){for(t&=~Oi,t&=~pr,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-nt(t),l=1<<n;e[n]=-1,t&=~l}}function sc(e){if(K&6)throw Error(P(327));In();var t=$l(e,0);if(!(t&1))return Ie(e,de()),null;var n=tr(e,t);if(e.tag!==0&&n===2){var l=ya(e);l!==0&&(t=l,n=Ja(e,l))}if(n===1)throw n=Hs,on(e,0),It(e,t),Ie(e,de()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,nn(e,Le,gt),Ie(e,de()),null}function zi(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&(Hn=de()+500,ur&&Zt())}}function hn(e){$t!==null&&$t.tag===0&&!(K&6)&&In();var t=K;K|=1;var n=Ve.transition,l=X;try{if(Ve.transition=null,X=1,e)return e()}finally{X=l,Ve.transition=n,K=t,!(K&6)&&Zt()}}function Ui(){Re=Dn.current,te(Dn)}function on(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Qf(n)),me!==null)for(n=me.return;n!==null;){var l=n;switch(Ni(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Bl();break;case 3:Un(),te(_e),te(ke),Pi();break;case 5:Di(l);break;case 4:Un();break;case 13:te(re);break;case 19:te(re);break;case 10:ki(l.type._context);break;case 22:case 23:Ui()}n=n.return}if(ge=e,me=e=Jt(e.current,null),ve=Re=t,he=0,Hs=null,Oi=pr=fn=0,Le=bs=null,rn!==null){for(t=0;t<rn.length;t++)if(n=rn[t],l=n.interleaved,l!==null){n.interleaved=null;var r=l.next,a=n.pending;if(a!==null){var i=a.next;a.next=r,l.next=i}n.pending=l}rn=null}return e}function ku(e,t){do{var n=me;try{if(bi(),El.current=Xl,Kl){for(var l=ae.memoizedState;l!==null;){var r=l.queue;r!==null&&(r.pending=null),l=l.next}Kl=!1}if(mn=0,xe=fe=ae=null,ws=!1,zs=0,$i.current=null,n===null||n.return===null){he=1,Hs=t,me=null;break}e:{var a=e,i=n.return,o=n,c=t;if(t=ve,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,g=o,p=g.tag;if(!(g.mode&1)&&(p===0||p===11||p===15)){var h=g.alternate;h?(g.updateQueue=h.updateQueue,g.memoizedState=h.memoizedState,g.lanes=h.lanes):(g.updateQueue=null,g.memoizedState=null)}var j=Wo(i);if(j!==null){j.flags&=-257,Vo(j,i,o,a,t),j.mode&1&&Ho(a,u,t),t=j,c=u;var w=t.updateQueue;if(w===null){var N=new Set;N.add(c),t.updateQueue=N}else w.add(c);break e}else{if(!(t&1)){Ho(a,u,t),Bi();break e}c=Error(P(426))}}else if(ne&&o.mode&1){var S=Wo(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Vo(S,i,o,a,t),wi(Bn(c,o));break e}}a=c=Bn(c,o),he!==4&&(he=2),bs===null?bs=[a]:bs.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=ou(a,c,t);$o(a,x);break e;case 1:o=c;var d=a.type,m=a.stateNode;if(!(a.flags&128)&&(typeof d.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Wt===null||!Wt.has(m)))){a.flags|=65536,t&=-t,a.lanes|=t;var y=cu(a,o,t);$o(a,y);break e}}a=a.return}while(a!==null)}Au(n)}catch(k){t=k,me===n&&n!==null&&(me=n=n.return);continue}break}while(!0)}function Cu(){var e=ql.current;return ql.current=Xl,e===null?Xl:e}function Bi(){(he===0||he===3||he===2)&&(he=4),ge===null||!(fn&268435455)&&!(pr&268435455)||It(ge,ve)}function tr(e,t){var n=K;K|=2;var l=Cu();(ge!==e||ve!==t)&&(gt=null,on(e,t));do try{yh();break}catch(r){ku(e,r)}while(!0);if(bi(),K=n,ql.current=l,me!==null)throw Error(P(261));return ge=null,ve=0,he}function yh(){for(;me!==null;)Eu(me)}function vh(){for(;me!==null&&!Hm();)Eu(me)}function Eu(e){var t=Pu(e.alternate,e,Re);e.memoizedProps=e.pendingProps,t===null?Au(e):me=t,$i.current=null}function Au(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=mh(n,t),n!==null){n.flags&=32767,me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{he=6,me=null;return}}else if(n=uh(n,t,Re),n!==null){me=n;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);he===0&&(he=5)}function nn(e,t,n){var l=X,r=Ve.transition;try{Ve.transition=null,X=1,jh(e,t,n,l)}finally{Ve.transition=r,X=l}return null}function jh(e,t,n,l){do In();while($t!==null);if(K&6)throw Error(P(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Zm(e,a),e===ge&&(me=ge=null,ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pl||(pl=!0,Lu(Rl,function(){return In(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ve.transition,Ve.transition=null;var i=X;X=1;var o=K;K|=4,$i.current=null,hh(e,n),wu(n,e),zf(ba),Ol=!!Sa,ba=Sa=null,e.current=n,ph(n),Wm(),K=o,X=i,Ve.transition=a}else e.current=n;if(pl&&(pl=!1,$t=e,er=r),a=e.pendingLanes,a===0&&(Wt=null),Qm(n.stateNode),Ie(e,de()),t!==null)for(l=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],l(r.value,{componentStack:r.stack,digest:r.digest});if(Zl)throw Zl=!1,e=Wa,Wa=null,e;return er&1&&e.tag!==0&&In(),a=e.pendingLanes,a&1?e===Va?ks++:(ks=0,Va=e):ks=0,Zt(),null}function In(){if($t!==null){var e=od(er),t=Ve.transition,n=X;try{if(Ve.transition=null,X=16>e?16:e,$t===null)var l=!1;else{if(e=$t,$t=null,er=0,K&6)throw Error(P(331));var r=K;for(K|=4,R=e.current;R!==null;){var a=R,i=a.child;if(R.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(R=u;R!==null;){var g=R;switch(g.tag){case 0:case 11:case 15:Ss(8,g,a)}var p=g.child;if(p!==null)p.return=g,R=p;else for(;R!==null;){g=R;var h=g.sibling,j=g.return;if(vu(g),g===u){R=null;break}if(h!==null){h.return=j,R=h;break}R=j}}}var w=a.alternate;if(w!==null){var N=w.child;if(N!==null){w.child=null;do{var S=N.sibling;N.sibling=null,N=S}while(N!==null)}}R=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,R=i;else e:for(;R!==null;){if(a=R,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ss(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,R=x;break e}R=a.return}}var d=e.current;for(R=d;R!==null;){i=R;var m=i.child;if(i.subtreeFlags&2064&&m!==null)m.return=i,R=m;else e:for(i=d;R!==null;){if(o=R,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:hr(9,o)}}catch(k){ce(o,o.return,k)}if(o===i){R=null;break e}var y=o.sibling;if(y!==null){y.return=o.return,R=y;break e}R=o.return}}if(K=r,Zt(),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(ar,e)}catch{}l=!0}return l}finally{X=n,Ve.transition=t}}return!1}function lc(e,t,n){t=Bn(n,t),t=ou(e,t,1),e=Ht(e,t,1),t=Ee(),e!==null&&(Gs(e,1,t),Ie(e,t))}function ce(e,t,n){if(e.tag===3)lc(e,e,n);else for(;t!==null;){if(t.tag===3){lc(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Wt===null||!Wt.has(l))){e=Bn(n,e),e=cu(t,e,1),t=Ht(t,e,1),e=Ee(),t!==null&&(Gs(t,1,e),Ie(t,e));break}}t=t.return}}function Nh(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),t=Ee(),e.pingedLanes|=e.suspendedLanes&n,ge===e&&(ve&n)===n&&(he===4||he===3&&(ve&130023424)===ve&&500>de()-Fi?on(e,0):Oi|=n),Ie(e,t)}function Du(e,t){t===0&&(e.mode&1?(t=rl,rl<<=1,!(rl&130023424)&&(rl=4194304)):t=1);var n=Ee();e=kt(e,t),e!==null&&(Gs(e,t,n),Ie(e,n))}function wh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Du(e,n)}function Sh(e,t){var n=0;switch(e.tag){case 13:var l=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(P(314))}l!==null&&l.delete(t),Du(e,n)}var Pu;Pu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_e.current)Te=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Te=!1,dh(e,t,n);Te=!!(e.flags&131072)}else Te=!1,ne&&t.flags&1048576&&Md(t,Vl,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;Dl(e,t),e=t.pendingProps;var r=On(t,ke.current);Mn(t,n),r=Ti(null,t,l,e,r,n);var a=_i();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Me(l)?(a=!0,Hl(t)):a=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Ei(t),r.updater=fr,t.stateNode=r,r._reactInternals=t,_a(t,l,e,n),t=Ra(null,t,l,!0,a,n)):(t.tag=0,ne&&a&&ji(t),Ce(null,t,r,n),t=t.child),t;case 16:l=t.elementType;e:{switch(Dl(e,t),e=t.pendingProps,r=l._init,l=r(l._payload),t.type=l,r=t.tag=kh(l),e=Ze(l,e),r){case 0:t=Ia(null,t,l,e,n);break e;case 1:t=Yo(null,t,l,e,n);break e;case 11:t=Jo(null,t,l,e,n);break e;case 14:t=Qo(null,t,l,Ze(l.type,e),n);break e}throw Error(P(306,l,""))}return t;case 0:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:Ze(l,r),Ia(e,t,l,r,n);case 1:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:Ze(l,r),Yo(e,t,l,r,n);case 3:e:{if(fu(t),e===null)throw Error(P(387));l=t.pendingProps,a=t.memoizedState,r=a.element,zd(e,t),Yl(t,l,null,n);var i=t.memoizedState;if(l=i.element,a.isDehydrated)if(a={element:l,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){r=Bn(Error(P(423)),t),t=Go(e,t,l,n,r);break e}else if(l!==r){r=Bn(Error(P(424)),t),t=Go(e,t,l,n,r);break e}else for($e=Bt(t.stateNode.containerInfo.firstChild),Oe=t,ne=!0,tt=null,n=Od(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fn(),l===r){t=Ct(e,t,n);break e}Ce(e,t,l,n)}t=t.child}return t;case 5:return Ud(t),e===null&&Pa(t),l=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,i=r.children,ka(l,r)?i=null:a!==null&&ka(l,a)&&(t.flags|=32),mu(e,t),Ce(e,t,i,n),t.child;case 6:return e===null&&Pa(t),null;case 13:return hu(e,t,n);case 4:return Ai(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=zn(t,null,l,n):Ce(e,t,l,n),t.child;case 11:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:Ze(l,r),Jo(e,t,l,r,n);case 7:return Ce(e,t,t.pendingProps,n),t.child;case 8:return Ce(e,t,t.pendingProps.children,n),t.child;case 12:return Ce(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(l=t.type._context,r=t.pendingProps,a=t.memoizedProps,i=r.value,Z(Jl,l._currentValue),l._currentValue=i,a!==null)if(lt(a.value,i)){if(a.children===r.children&&!_e.current){t=Ct(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var c=o.firstContext;c!==null;){if(c.context===l){if(a.tag===1){c=wt(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var g=u.pending;g===null?c.next=c:(c.next=g.next,g.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),La(a.return,n,t),o.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(P(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),La(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Ce(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,l=t.pendingProps.children,Mn(t,n),r=Je(r),l=l(r),t.flags|=1,Ce(e,t,l,n),t.child;case 14:return l=t.type,r=Ze(l,t.pendingProps),r=Ze(l.type,r),Qo(e,t,l,r,n);case 15:return du(e,t,t.type,t.pendingProps,n);case 17:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:Ze(l,r),Dl(e,t),t.tag=1,Me(l)?(e=!0,Hl(t)):e=!1,Mn(t,n),iu(t,l,r),_a(t,l,r,n),Ra(null,t,l,!0,e,n);case 19:return pu(e,t,n);case 22:return uu(e,t,n)}throw Error(P(156,t.tag))};function Lu(e,t){return ld(e,t)}function bh(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function We(e,t,n,l){return new bh(e,t,n,l)}function Hi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kh(e){if(typeof e=="function")return Hi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oi)return 11;if(e===ci)return 14}return 2}function Jt(e,t){var n=e.alternate;return n===null?(n=We(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tl(e,t,n,l,r,a){var i=2;if(l=e,typeof e=="function")Hi(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case vn:return cn(n.children,r,a,t);case ii:i=8,r|=8;break;case sa:return e=We(12,n,t,r|2),e.elementType=sa,e.lanes=a,e;case la:return e=We(13,n,t,r),e.elementType=la,e.lanes=a,e;case ra:return e=We(19,n,t,r),e.elementType=ra,e.lanes=a,e;case Uc:return xr(n,r,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fc:i=10;break e;case zc:i=9;break e;case oi:i=11;break e;case ci:i=14;break e;case Tt:i=16,l=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=We(i,n,t,r),t.elementType=e,t.type=l,t.lanes=a,t}function cn(e,t,n,l){return e=We(7,e,l,t),e.lanes=n,e}function xr(e,t,n,l){return e=We(22,e,l,t),e.elementType=Uc,e.lanes=n,e.stateNode={isHidden:!1},e}function Kr(e,t,n){return e=We(6,e,null,t),e.lanes=n,e}function Xr(e,t,n){return t=We(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ch(e,t,n,l,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lr(0),this.expirationTimes=Lr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lr(0),this.identifierPrefix=l,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Wi(e,t,n,l,r,a,i,o,c){return e=new Ch(e,t,n,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=We(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:l,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ei(a),e}function Eh(e,t,n){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yn,key:l==null?null:""+l,children:e,containerInfo:t,implementation:n}}function Tu(e){if(!e)return Gt;e=e._reactInternals;e:{if(xn(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Me(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(Me(n))return Td(e,n,t)}return t}function _u(e,t,n,l,r,a,i,o,c){return e=Wi(n,l,!0,e,r,a,i,o,c),e.context=Tu(null),n=e.current,l=Ee(),r=Vt(n),a=wt(l,r),a.callback=t??null,Ht(n,a,r),e.current.lanes=r,Gs(e,r,l),Ie(e,l),e}function gr(e,t,n,l){var r=t.current,a=Ee(),i=Vt(r);return n=Tu(n),t.context===null?t.context=n:t.pendingContext=n,t=wt(a,i),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=Ht(r,t,i),e!==null&&(st(e,r,i,a),Cl(e,r,i)),i}function nr(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vi(e,t){rc(e,t),(e=e.alternate)&&rc(e,t)}function Ah(){return null}var Mu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ji(e){this._internalRoot=e}yr.prototype.render=Ji.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));gr(e,t,null,null)};yr.prototype.unmount=Ji.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hn(function(){gr(null,e,null,null)}),t[bt]=null}};function yr(e){this._internalRoot=e}yr.prototype.unstable_scheduleHydration=function(e){if(e){var t=ud();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&t!==0&&t<Mt[n].priority;n++);Mt.splice(n,0,e),n===0&&fd(e)}};function Qi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vr(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ac(){}function Dh(e,t,n,l,r){if(r){if(typeof l=="function"){var a=l;l=function(){var u=nr(i);a.call(u)}}var i=_u(t,l,e,0,null,!1,!1,"",ac);return e._reactRootContainer=i,e[bt]=i.current,Is(e.nodeType===8?e.parentNode:e),hn(),i}for(;r=e.lastChild;)e.removeChild(r);if(typeof l=="function"){var o=l;l=function(){var u=nr(c);o.call(u)}}var c=Wi(e,0,!1,null,null,!1,!1,"",ac);return e._reactRootContainer=c,e[bt]=c.current,Is(e.nodeType===8?e.parentNode:e),hn(function(){gr(t,c,n,l)}),c}function jr(e,t,n,l,r){var a=n._reactRootContainer;if(a){var i=a;if(typeof r=="function"){var o=r;r=function(){var c=nr(i);o.call(c)}}gr(t,i,e,r)}else i=Dh(n,t,e,r,l);return nr(i)}cd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=hs(t.pendingLanes);n!==0&&(mi(t,n|1),Ie(t,de()),!(K&6)&&(Hn=de()+500,Zt()))}break;case 13:hn(function(){var l=kt(e,1);if(l!==null){var r=Ee();st(l,e,1,r)}}),Vi(e,1)}};fi=function(e){if(e.tag===13){var t=kt(e,134217728);if(t!==null){var n=Ee();st(t,e,134217728,n)}Vi(e,134217728)}};dd=function(e){if(e.tag===13){var t=Vt(e),n=kt(e,t);if(n!==null){var l=Ee();st(n,e,t,l)}Vi(e,t)}};ud=function(){return X};md=function(e,t){var n=X;try{return X=e,t()}finally{X=n}};pa=function(e,t,n){switch(t){case"input":if(oa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var r=dr(l);if(!r)throw Error(P(90));Hc(l),oa(l,r)}}}break;case"textarea":Vc(e,n);break;case"select":t=n.value,t!=null&&Pn(e,!!n.multiple,t,!1)}};qc=zi;Zc=hn;var Ph={usingClientEntryPoint:!1,Events:[Xs,Sn,dr,Kc,Xc,zi]},cs={findFiberByHostInstance:ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lh={bundleType:cs.bundleType,version:cs.version,rendererPackageName:cs.rendererPackageName,rendererConfig:cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Et.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nd(e),e===null?null:e.stateNode},findFiberByHostInstance:cs.findFiberByHostInstance||Ah,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{ar=xl.inject(Lh),dt=xl}catch{}}ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ph;ze.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qi(t))throw Error(P(200));return Eh(e,t,null,n)};ze.createRoot=function(e,t){if(!Qi(e))throw Error(P(299));var n=!1,l="",r=Mu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Wi(e,1,!1,null,null,n,!1,l,r),e[bt]=t.current,Is(e.nodeType===8?e.parentNode:e),new Ji(t)};ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=nd(t),e=e===null?null:e.stateNode,e};ze.flushSync=function(e){return hn(e)};ze.hydrate=function(e,t,n){if(!vr(t))throw Error(P(200));return jr(null,e,t,!0,n)};ze.hydrateRoot=function(e,t,n){if(!Qi(e))throw Error(P(405));var l=n!=null&&n.hydratedSources||null,r=!1,a="",i=Mu;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=_u(t,null,e,1,n??null,r,!1,a,i),e[bt]=t.current,Is(e),l)for(e=0;e<l.length;e++)n=l[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new yr(t)};ze.render=function(e,t,n){if(!vr(t))throw Error(P(200));return jr(null,e,t,!1,n)};ze.unmountComponentAtNode=function(e){if(!vr(e))throw Error(P(40));return e._reactRootContainer?(hn(function(){jr(null,null,e,!1,function(){e._reactRootContainer=null,e[bt]=null})}),!0):!1};ze.unstable_batchedUpdates=zi;ze.unstable_renderSubtreeIntoContainer=function(e,t,n,l){if(!vr(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return jr(e,t,n,!1,l)};ze.version="18.3.1-next-f1338f8080-20240426";function Iu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Iu)}catch(e){console.error(e)}}Iu(),Ic.exports=ze;var Th=Ic.exports,Ru,ic=Th;Ru=ic.createRoot,ic.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Ws.apply(this,arguments)}var Ot;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ot||(Ot={}));const oc="popstate";function _h(e){e===void 0&&(e={});function t(l,r){let{pathname:a,search:i,hash:o}=l.location;return Ya("",{pathname:a,search:i,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(l,r){return typeof r=="string"?r:sr(r)}return Ih(t,n,null,e)}function ie(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $u(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Mh(){return Math.random().toString(36).substr(2,8)}function cc(e,t){return{usr:e.state,key:e.key,idx:t}}function Ya(e,t,n,l){return n===void 0&&(n=null),Ws({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Yn(t):t,{state:n,key:t&&t.key||l||Mh()})}function sr(e){let{pathname:t="/",search:n="",hash:l=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),l&&l!=="#"&&(t+=l.charAt(0)==="#"?l:"#"+l),t}function Yn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let l=e.indexOf("?");l>=0&&(t.search=e.substr(l),e=e.substr(0,l)),e&&(t.pathname=e)}return t}function Ih(e,t,n,l){l===void 0&&(l={});let{window:r=document.defaultView,v5Compat:a=!1}=l,i=r.history,o=Ot.Pop,c=null,u=g();u==null&&(u=0,i.replaceState(Ws({},i.state,{idx:u}),""));function g(){return(i.state||{idx:null}).idx}function p(){o=Ot.Pop;let S=g(),x=S==null?null:S-u;u=S,c&&c({action:o,location:N.location,delta:x})}function h(S,x){o=Ot.Push;let d=Ya(N.location,S,x);u=g()+1;let m=cc(d,u),y=N.createHref(d);try{i.pushState(m,"",y)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;r.location.assign(y)}a&&c&&c({action:o,location:N.location,delta:1})}function j(S,x){o=Ot.Replace;let d=Ya(N.location,S,x);u=g();let m=cc(d,u),y=N.createHref(d);i.replaceState(m,"",y),a&&c&&c({action:o,location:N.location,delta:0})}function w(S){let x=r.location.origin!=="null"?r.location.origin:r.location.href,d=typeof S=="string"?S:sr(S);return d=d.replace(/ $/,"%20"),ie(x,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,x)}let N={get action(){return o},get location(){return e(r,i)},listen(S){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(oc,p),c=S,()=>{r.removeEventListener(oc,p),c=null}},createHref(S){return t(r,S)},createURL:w,encodeLocation(S){let x=w(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:j,go(S){return i.go(S)}};return N}var dc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dc||(dc={}));function Rh(e,t,n){return n===void 0&&(n="/"),$h(e,t,n)}function $h(e,t,n,l){let r=typeof t=="string"?Yn(t):t,a=Wn(r.pathname||"/",n);if(a==null)return null;let i=Ou(e);Oh(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let u=Gh(a);o=Qh(i[c],u)}return o}function Ou(e,t,n,l){t===void 0&&(t=[]),n===void 0&&(n=[]),l===void 0&&(l="");let r=(a,i,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(ie(c.relativePath.startsWith(l),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(l.length));let u=Qt([l,c.relativePath]),g=n.concat(c);a.children&&a.children.length>0&&(ie(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ou(a.children,t,g,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Vh(u,a.index),routesMeta:g})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))r(a,i);else for(let c of Fu(a.path))r(a,i,c)}),t}function Fu(e){let t=e.split("/");if(t.length===0)return[];let[n,...l]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(l.length===0)return r?[a,""]:[a];let i=Fu(l.join("/")),o=[];return o.push(...i.map(c=>c===""?a:[a,c].join("/"))),r&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Oh(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Jh(t.routesMeta.map(l=>l.childrenIndex),n.routesMeta.map(l=>l.childrenIndex)))}const Fh=/^:[\w-]+$/,zh=3,Uh=2,Bh=1,Hh=10,Wh=-2,uc=e=>e==="*";function Vh(e,t){let n=e.split("/"),l=n.length;return n.some(uc)&&(l+=Wh),t&&(l+=Uh),n.filter(r=>!uc(r)).reduce((r,a)=>r+(Fh.test(a)?zh:a===""?Bh:Hh),l)}function Jh(e,t){return e.length===t.length&&e.slice(0,-1).every((l,r)=>l===t[r])?e[e.length-1]-t[t.length-1]:0}function Qh(e,t,n){let{routesMeta:l}=e,r={},a="/",i=[];for(let o=0;o<l.length;++o){let c=l[o],u=o===l.length-1,g=a==="/"?t:t.slice(a.length)||"/",p=Ga({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},g),h=c.route;if(!p)return null;Object.assign(r,p.params),i.push({params:r,pathname:Qt([a,p.pathname]),pathnameBase:Zh(Qt([a,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(a=Qt([a,p.pathnameBase]))}return i}function Ga(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,l]=Yh(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],i=a.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:l.reduce((u,g,p)=>{let{paramName:h,isOptional:j}=g;if(h==="*"){let N=o[p]||"";i=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const w=o[p];return j&&!w?u[h]=void 0:u[h]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function Yh(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),$u(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let l=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(l.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(l.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),l]}function Gh(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Wn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,l=e.charAt(n);return l&&l!=="/"?null:e.slice(n)||"/"}function Kh(e,t){t===void 0&&(t="/");let{pathname:n,search:l="",hash:r=""}=typeof e=="string"?Yn(e):e;return{pathname:n?n.startsWith("/")?n:Xh(n,t):t,search:ep(l),hash:tp(r)}}function Xh(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function qr(e,t,n,l){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qh(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Yi(e,t){let n=qh(e);return t?n.map((l,r)=>r===n.length-1?l.pathname:l.pathnameBase):n.map(l=>l.pathnameBase)}function Gi(e,t,n,l){l===void 0&&(l=!1);let r;typeof e=="string"?r=Yn(e):(r=Ws({},e),ie(!r.pathname||!r.pathname.includes("?"),qr("?","pathname","search",r)),ie(!r.pathname||!r.pathname.includes("#"),qr("#","pathname","hash",r)),ie(!r.search||!r.search.includes("#"),qr("#","search","hash",r)));let a=e===""||r.pathname==="",i=a?"/":r.pathname,o;if(i==null)o=n;else{let p=t.length-1;if(!l&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),p-=1;r.pathname=h.join("/")}o=p>=0?t[p]:"/"}let c=Kh(r,o),u=i&&i!=="/"&&i.endsWith("/"),g=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||g)&&(c.pathname+="/"),c}const Qt=e=>e.join("/").replace(/\/\/+/g,"/"),Zh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ep=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function np(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const zu=["post","put","patch","delete"];new Set(zu);const sp=["get",...zu];new Set(sp);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vs(){return Vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Vs.apply(this,arguments)}const Nr=f.createContext(null),Uu=f.createContext(null),At=f.createContext(null),wr=f.createContext(null),Dt=f.createContext({outlet:null,matches:[],isDataRoute:!1}),Bu=f.createContext(null);function lp(e,t){let{relative:n}=t===void 0?{}:t;Gn()||ie(!1);let{basename:l,navigator:r}=f.useContext(At),{hash:a,pathname:i,search:o}=Sr(e,{relative:n}),c=i;return l!=="/"&&(c=i==="/"?l:Qt([l,i])),r.createHref({pathname:c,search:o,hash:a})}function Gn(){return f.useContext(wr)!=null}function en(){return Gn()||ie(!1),f.useContext(wr).location}function Hu(e){f.useContext(At).static||f.useLayoutEffect(e)}function Zs(){let{isDataRoute:e}=f.useContext(Dt);return e?vp():rp()}function rp(){Gn()||ie(!1);let e=f.useContext(Nr),{basename:t,future:n,navigator:l}=f.useContext(At),{matches:r}=f.useContext(Dt),{pathname:a}=en(),i=JSON.stringify(Yi(r,n.v7_relativeSplatPath)),o=f.useRef(!1);return Hu(()=>{o.current=!0}),f.useCallback(function(u,g){if(g===void 0&&(g={}),!o.current)return;if(typeof u=="number"){l.go(u);return}let p=Gi(u,JSON.parse(i),a,g.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Qt([t,p.pathname])),(g.replace?l.replace:l.push)(p,g.state,g)},[t,l,i,a,e])}const ap=f.createContext(null);function ip(e){let t=f.useContext(Dt).outlet;return t&&f.createElement(ap.Provider,{value:e},t)}function Sr(e,t){let{relative:n}=t===void 0?{}:t,{future:l}=f.useContext(At),{matches:r}=f.useContext(Dt),{pathname:a}=en(),i=JSON.stringify(Yi(r,l.v7_relativeSplatPath));return f.useMemo(()=>Gi(e,JSON.parse(i),a,n==="path"),[e,i,a,n])}function op(e,t){return cp(e,t)}function cp(e,t,n,l){Gn()||ie(!1);let{navigator:r}=f.useContext(At),{matches:a}=f.useContext(Dt),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=en(),g;if(t){var p;let S=typeof t=="string"?Yn(t):t;c==="/"||(p=S.pathname)!=null&&p.startsWith(c)||ie(!1),g=S}else g=u;let h=g.pathname||"/",j=h;if(c!=="/"){let S=c.replace(/^\//,"").split("/");j="/"+h.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=Rh(e,{pathname:j}),N=hp(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:Qt([c,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:Qt([c,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,n,l);return t&&N?f.createElement(wr.Provider,{value:{location:Vs({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Ot.Pop}},N):N}function dp(){let e=yp(),t=np(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),n?f.createElement("pre",{style:r},n):null,null)}const up=f.createElement(dp,null);class mp extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?f.createElement(Dt.Provider,{value:this.props.routeContext},f.createElement(Bu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fp(e){let{routeContext:t,match:n,children:l}=e,r=f.useContext(Nr);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement(Dt.Provider,{value:t},l)}function hp(e,t,n,l){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),l===void 0&&(l=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=l)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let g=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);g>=0||ie(!1),i=i.slice(0,Math.min(i.length,g+1))}let c=!1,u=-1;if(n&&l&&l.v7_partialHydration)for(let g=0;g<i.length;g++){let p=i[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=g),p.route.id){let{loaderData:h,errors:j}=n,w=p.route.loader&&h[p.route.id]===void 0&&(!j||j[p.route.id]===void 0);if(p.route.lazy||w){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((g,p,h)=>{let j,w=!1,N=null,S=null;n&&(j=o&&p.route.id?o[p.route.id]:void 0,N=p.route.errorElement||up,c&&(u<0&&h===0?(jp("route-fallback"),w=!0,S=null):u===h&&(w=!0,S=p.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,h+1)),d=()=>{let m;return j?m=N:w?m=S:p.route.Component?m=f.createElement(p.route.Component,null):p.route.element?m=p.route.element:m=g,f.createElement(fp,{match:p,routeContext:{outlet:g,matches:x,isDataRoute:n!=null},children:m})};return n&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?f.createElement(mp,{location:n.location,revalidation:n.revalidation,component:N,error:j,children:d(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):d()},null)}var Wu=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Wu||{}),Vu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Vu||{});function pp(e){let t=f.useContext(Nr);return t||ie(!1),t}function xp(e){let t=f.useContext(Uu);return t||ie(!1),t}function gp(e){let t=f.useContext(Dt);return t||ie(!1),t}function Ju(e){let t=gp(),n=t.matches[t.matches.length-1];return n.route.id||ie(!1),n.route.id}function yp(){var e;let t=f.useContext(Bu),n=xp(),l=Ju();return t!==void 0?t:(e=n.errors)==null?void 0:e[l]}function vp(){let{router:e}=pp(Wu.UseNavigateStable),t=Ju(Vu.UseNavigateStable),n=f.useRef(!1);return Hu(()=>{n.current=!0}),f.useCallback(function(r,a){a===void 0&&(a={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,Vs({fromRouteId:t},a)))},[e,t])}const mc={};function jp(e,t,n){mc[e]||(mc[e]=!0)}function Np(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Js(e){let{to:t,replace:n,state:l,relative:r}=e;Gn()||ie(!1);let{future:a,static:i}=f.useContext(At),{matches:o}=f.useContext(Dt),{pathname:c}=en(),u=Zs(),g=Gi(t,Yi(o,a.v7_relativeSplatPath),c,r==="path"),p=JSON.stringify(g);return f.useEffect(()=>u(JSON.parse(p),{replace:n,state:l,relative:r}),[u,p,r,n,l]),null}function Ki(e){return ip(e.context)}function U(e){ie(!1)}function wp(e){let{basename:t="/",children:n=null,location:l,navigationType:r=Ot.Pop,navigator:a,static:i=!1,future:o}=e;Gn()&&ie(!1);let c=t.replace(/^\/*/,"/"),u=f.useMemo(()=>({basename:c,navigator:a,static:i,future:Vs({v7_relativeSplatPath:!1},o)}),[c,o,a,i]);typeof l=="string"&&(l=Yn(l));let{pathname:g="/",search:p="",hash:h="",state:j=null,key:w="default"}=l,N=f.useMemo(()=>{let S=Wn(g,c);return S==null?null:{location:{pathname:S,search:p,hash:h,state:j,key:w},navigationType:r}},[c,g,p,h,j,w,r]);return N==null?null:f.createElement(At.Provider,{value:u},f.createElement(wr.Provider,{children:n,value:N}))}function Qu(e){let{children:t,location:n}=e;return op(Ka(t),n)}new Promise(()=>{});function Ka(e,t){t===void 0&&(t=[]);let n=[];return f.Children.forEach(e,(l,r)=>{if(!f.isValidElement(l))return;let a=[...t,r];if(l.type===f.Fragment){n.push.apply(n,Ka(l.props.children,a));return}l.type!==U&&ie(!1),!l.props.index||!l.props.children||ie(!1);let i={id:l.props.id||a.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(i.children=Ka(l.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lr(){return lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},lr.apply(this,arguments)}function Yu(e,t){if(e==null)return{};var n={},l=Object.keys(e),r,a;for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function Sp(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function bp(e,t){return e.button===0&&(!t||t==="_self")&&!Sp(e)}const kp=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Cp=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Ep="6";try{window.__reactRouterVersion=Ep}catch{}const Ap=f.createContext({isTransitioning:!1}),Dp="startTransition",fc=jm[Dp];function Pp(e){let{basename:t,children:n,future:l,window:r}=e,a=f.useRef();a.current==null&&(a.current=_h({window:r,v5Compat:!0}));let i=a.current,[o,c]=f.useState({action:i.action,location:i.location}),{v7_startTransition:u}=l||{},g=f.useCallback(p=>{u&&fc?fc(()=>c(p)):c(p)},[c,u]);return f.useLayoutEffect(()=>i.listen(g),[i,g]),f.useEffect(()=>Np(l),[l]),f.createElement(wp,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:l})}const Lp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xa=f.forwardRef(function(t,n){let{onClick:l,relative:r,reloadDocument:a,replace:i,state:o,target:c,to:u,preventScrollReset:g,viewTransition:p}=t,h=Yu(t,kp),{basename:j}=f.useContext(At),w,N=!1;if(typeof u=="string"&&Tp.test(u)&&(w=u,Lp))try{let m=new URL(window.location.href),y=u.startsWith("//")?new URL(m.protocol+u):new URL(u),k=Wn(y.pathname,j);y.origin===m.origin&&k!=null?u=k+y.search+y.hash:N=!0}catch{}let S=lp(u,{relative:r}),x=Ip(u,{replace:i,state:o,target:c,preventScrollReset:g,relative:r,viewTransition:p});function d(m){l&&l(m),m.defaultPrevented||x(m)}return f.createElement("a",lr({},h,{href:w||S,onClick:N||a?l:d,ref:n,target:c}))}),_p=f.forwardRef(function(t,n){let{"aria-current":l="page",caseSensitive:r=!1,className:a="",end:i=!1,style:o,to:c,viewTransition:u,children:g}=t,p=Yu(t,Cp),h=Sr(c,{relative:p.relative}),j=en(),w=f.useContext(Uu),{navigator:N,basename:S}=f.useContext(At),x=w!=null&&Rp(h)&&u===!0,d=N.encodeLocation?N.encodeLocation(h).pathname:h.pathname,m=j.pathname,y=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(m=m.toLowerCase(),y=y?y.toLowerCase():null,d=d.toLowerCase()),y&&S&&(y=Wn(y,S)||y);const k=d!=="/"&&d.endsWith("/")?d.length-1:d.length;let v=m===d||!i&&m.startsWith(d)&&m.charAt(k)==="/",b=y!=null&&(y===d||!i&&y.startsWith(d)&&y.charAt(d.length)==="/"),C={isActive:v,isPending:b,isTransitioning:x},L=v?l:void 0,M;typeof a=="function"?M=a(C):M=[a,v?"active":null,b?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(C):o;return f.createElement(Xa,lr({},p,{"aria-current":L,className:M,ref:n,style:B,to:c,viewTransition:u}),typeof g=="function"?g(C):g)});var qa;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qa||(qa={}));var hc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(hc||(hc={}));function Mp(e){let t=f.useContext(Nr);return t||ie(!1),t}function Ip(e,t){let{target:n,replace:l,state:r,preventScrollReset:a,relative:i,viewTransition:o}=t===void 0?{}:t,c=Zs(),u=en(),g=Sr(e,{relative:i});return f.useCallback(p=>{if(bp(p,n)){p.preventDefault();let h=l!==void 0?l:sr(u)===sr(g);c(e,{replace:h,state:r,preventScrollReset:a,relative:i,viewTransition:o})}},[u,c,g,l,r,n,e,a,i,o])}function Rp(e,t){t===void 0&&(t={});let n=f.useContext(Ap);n==null&&ie(!1);let{basename:l}=Mp(qa.useViewTransitionState),r=Sr(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Wn(n.currentLocation.pathname,l)||n.currentLocation.pathname,i=Wn(n.nextLocation.pathname,l)||n.nextLocation.pathname;return Ga(r.pathname,i)!=null||Ga(r.pathname,a)!=null}const T="https://prime-ops-api.onrender.com";async function _(e,t={}){const n=localStorage.getItem("auth_token"),l={...t.headers};return n&&(l.Authorization=`Bearer ${n}`),fetch(e,{...t,credentials:"include",headers:l})}async function I(e,t){if(!e.ok){let l={};try{l=await e.json()}catch{}const r=(l==null?void 0:l.message)||(l==null?void 0:l.code)||`${t} (${e.status})`;throw new Error(r)}let n={};try{n=await e.json()}catch{}return n}function Kt(e){try{return new Intl.NumberFormat("bn-BD",{style:"currency",currency:"BDT",maximumFractionDigits:0}).format(e||0)}catch{return`৳${Number(e||0).toLocaleString("bn-BD")}`}}function ct(e){try{return new Intl.NumberFormat("en-US",{style:"currency",currency:"BDT",maximumFractionDigits:0}).format(e||0)}catch{return`৳${Number(e||0).toLocaleString("en-US")}`}}function pc(e){const t=e?new Date(e):new Date,n=String(t.getDate()).padStart(2,"0"),l=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear();return`${n}.${l}.${r}`}const A={_normalizeDate(e){if(!e)return"";if(/^\d{4}-\d{2}-\d{2}/.test(e))return e.slice(0,10);const t=/^(\d{2})\/(\d{2})\/(\d{4})$/.exec(e);if(t)return`${t[3]}-${t[2]}-${t[1]}`;const n=new Date(e);if(!isNaN(n)){const l=String(n.getDate()).padStart(2,"0"),r=String(n.getMonth()+1).padStart(2,"0");return`${n.getFullYear()}-${r}-${l}`}return e},async login(e,t){const n=await _(`${T}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),l=await I(n,"Login failed");if(!l||typeof l!="object")throw new Error("Invalid login response");return l},async me(){const e=await _(`${T}/api/auth/me`),t=await I(e,"Auth check failed");if(!t||typeof t!="object")throw new Error("Invalid /me response");return t},async logout(){const e=await _(`${T}/api/auth/logout`,{method:"POST"});return I(e,"Logout failed")},async updateMe(e){const t=await _(`${T}/api/auth/me`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await I(t,"Update failed");if(!n||typeof n!="object")throw new Error("Invalid update response");return n},async listUsers(){const e=await _(`${T}/api/users`);return I(e,"Load users failed")},async listUsersPublic(){const e=await _(`${T}/api/users/list`,{credentials:"include"});return I(e,"Load public users failed")},async listAdmissionUsers(){const e=await _(`${T}/api/users/admission`,{credentials:"include"});return I(e,"Load admission users failed")},async createUser(e){const t=await _(`${T}/api/users`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return I(t,"Create user failed")},async updateUser(e,t){const n=await _(`${T}/api/users/${e}`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return I(n,"Update user failed")},async deleteUser(e){const t=await _(`${T}/api/users/${e}`,{method:"DELETE",credentials:"include"});return I(t,"Delete user failed")},async listAllTasks(e){const t=e?`?status=${encodeURIComponent(e)}`:"",n=await _(`${T}/api/tasks${t}`,{credentials:"include"});return I(n,"Load tasks failed")},async listMyTasks(e){const t=e?`?status=${encodeURIComponent(e)}`:"",n=await _(`${T}/api/tasks/my${t}`,{credentials:"include"});return I(n,"Load my tasks failed")},async assignTask(e){const t=await _(`${T}/api/tasks/assign`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return I(t,"Assign task failed")},async addSelfTask(e){const t=await _(`${T}/api/tasks/self`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return I(t,"Add self task failed")},async updateTaskStatus(e,t){const n=await _(`${T}/api/tasks/${e}/status`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t})});return I(n,"Update task status failed")},async listCourses(){const e=await _(`${T}/api/courses`,{credentials:"include"});return I(e,"Load courses failed")},async createCourse(e){const t=await _(`${T}/api/courses`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return I(t,"Create course failed")},async updateCourse(e,t){const n=await _(`${T}/api/courses/${e}`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return I(n,"Update course failed")},async deleteCourse(e){const t=await _(`${T}/api/courses/${e}`,{method:"DELETE",credentials:"include"});return I(t,"Delete course failed")},async listLeads(e){const t=e?`?status=${encodeURIComponent(e)}`:"",n=await _(`${T}/api/leads${t}`,{credentials:"include"});return I(n,"Load leads failed")},async getLeadHistory(e){const t=await _(`${T}/api/leads/${e}/history`,{credentials:"include"});return I(t,"Load lead history failed")},async assignLead(e,t){const n=await _(`${T}/api/leads/${e}/assign`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({assignedTo:t})});return I(n,"Assign lead failed")},async createLead(e){const t=await _(`${T}/api/leads`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return I(t,"Create lead failed")},async bulkUploadLeads(e){const t=await _(`${T}/api/leads/bulk`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({csv:e})});return I(t,"Bulk upload failed")},async listAdmissionLeads(e){const t=e?`?status=${encodeURIComponent(e)}`:"",n=await _(`${T}/api/admission/leads${t}`,{credentials:"include"});return I(n,"Load admission leads failed")},async updateLeadStatus(e,t,n){const l={status:t};n!=null&&(l.notes=n);const r=await _(`${T}/api/admission/leads/${e}/status`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});return I(r,"Update lead status failed")},async listAdmissionFees(){const e=await _(`${T}/api/admission/fees`,{credentials:"include"});return I(e,"Load fees failed")},async createAdmissionFee(e){const t=await _(`${T}/api/admission/fees`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return I(t,"Create fee failed")},async listFeesForApproval(e){const t=e?`?status=${encodeURIComponent(e)}`:"",n=await _(`${T}/api/accounting/fees${t}`,{credentials:"include"});return I(n,"Load fees failed")},async approveFee(e){const t=await _(`${T}/api/accounting/fees/${e}/approve`,{method:"PATCH",credentials:"include"});return I(t,"Approve failed")},async rejectFee(e){const t=await _(`${T}/api/accounting/fees/${e}/reject`,{method:"PATCH",credentials:"include"});return I(t,"Reject failed")},async listIncome(){const e=await _(`${T}/api/accounting/income`,{credentials:"include"});return I(e,"Load income failed")},async addIncome(e){const t=await _(`${T}/api/accounting/income`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return I(t,"Add income failed")},async listExpenses(){const e=await _(`${T}/api/accounting/expense`,{credentials:"include"});return I(e,"Load expenses failed")},async addExpense(e){const t=await _(`${T}/api/accounting/expense`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return I(t,"Add expense failed")},async deleteExpense(e){const t=await _(`${T}/api/accounting/expense/${e}`,{method:"DELETE",credentials:"include"});return I(t,"Delete expense failed")},async accountingSummary(e,t){const n=new URLSearchParams;e&&n.set("from",e),t&&n.set("to",t);const l=n.toString()?`?${n.toString()}`:"",r=await _(`${T}/api/accounting/summary${l}`,{credentials:"include"});return I(r,"Load summary failed")},async getRecruitmentStats(){const e=await _(`${T}/api/recruitment/stats`,{credentials:"include"});return I(e,"Load recruitment stats failed")},async getRecruitmentSummary(){return this.getRecruitmentStats()},async listEmployers(){const e=await _(`${T}/api/recruitment/employers`,{credentials:"include"});return I(e,"Load employers failed")},async createEmployer(e){const t=await _(`${T}/api/recruitment/employers`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return I(t,"Create employer failed")},async updateEmployer(e,t){const n=await _(`${T}/api/recruitment/employers/${e}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return I(n,"Update employer failed")},async deleteEmployer(e){const t=await _(`${T}/api/recruitment/employers/${e}`,{method:"DELETE",credentials:"include"});return I(t,"Delete employer failed")},async listJobs(){const e=await _(`${T}/api/recruitment/jobs`,{credentials:"include"});return I(e,"Load jobs failed")},async createJob(e){const t=await _(`${T}/api/recruitment/jobs`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return I(t,"Create job failed")},async updateJob(e,t){const n=await _(`${T}/api/recruitment/jobs/${e}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return I(n,"Update job failed")},async deleteJob(e){const t=await _(`${T}/api/recruitment/jobs/${e}`,{method:"DELETE",credentials:"include"});return I(t,"Delete job failed")},async listCandidates(e){const t=e?`?status=${encodeURIComponent(e)}`:"",n=await _(`${T}/api/recruitment/candidates${t}`,{credentials:"include"});return I(n,"Load candidates failed")},async createCandidate(e){const t=await _(`${T}/api/recruitment/candidates`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return I(t,"Create candidate failed")},async updateCandidate(e,t){const n=await _(`${T}/api/recruitment/candidates/${e}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return I(n,"Update candidate failed")},async deleteCandidate(e){const t=await _(`${T}/api/recruitment/candidates/${e}`,{method:"DELETE",credentials:"include"});return I(t,"Delete candidate failed")},async recruitCandidate(e,t){const n=await _(`${T}/api/recruitment/candidates/${e}/recruit`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return I(n,"Recruit candidate failed")},async listRecruited(){return this.listCandidates("recruited")},async listRecIncome(){const e=await _(`${T}/api/recruitment/income`,{credentials:"include"});return I(e,"Load recruitment income failed")},async addRecIncome(e){const t={...e,date:this._normalizeDate(e==null?void 0:e.date)},n=await _(`${T}/api/recruitment/income`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return I(n,"Add recruitment income failed")},async deleteRecIncome(e){const t=await _(`${T}/api/recruitment/income/${e}`,{method:"DELETE",credentials:"include"});return I(t,"Delete recruitment income failed")},async updateRecIncome(){throw new Error("updateRecIncome is not supported by the backend (use add/delete).")},async listRecExpense(){const e=await _(`${T}/api/recruitment/expenses`,{credentials:"include"});return I(e,"Load recruitment expenses failed")},async addRecExpense(e){const t={...e,date:this._normalizeDate(e==null?void 0:e.date)},n=await _(`${T}/api/recruitment/expenses`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return I(n,"Add recruitment expense failed")},async deleteRecExpense(e){const t=await _(`${T}/api/recruitment/expenses/${e}`,{method:"DELETE",credentials:"include"});return I(t,"Delete recruitment expense failed")},async updateRecExpense(){throw new Error("updateRecExpense is not supported by the backend (use add/delete).")},async listDMCosts(e,t){const n=new URLSearchParams;e&&n.set("date",this._normalizeDate(e)),t&&n.set("channel",t);const l=n.toString()?`?${n.toString()}`:"",r=await _(`${T}/api/dm/expense${l}`,{credentials:"include"});return I(r,"Load DM costs failed")},async addDMCost(e){const t={...e,date:this._normalizeDate(e==null?void 0:e.date)},n=await _(`${T}/api/dm/expense`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return I(n,"Add DM cost failed")},async deleteDMCost(e){const t=await _(`${T}/api/dm/expense/${e}`,{method:"DELETE",credentials:"include"});return I(t,"Delete DM cost failed")},async listSocial(e){const t=e?`?date=${encodeURIComponent(this._normalizeDate(e))}`:"";let n=await _(`${T}/api/dm/social${t}`,{credentials:"include"});return!n.ok&&n.status===404&&(n=await _(`${T}/api/dm/social-metrics${t}`,{credentials:"include"})),I(n,"Load social metrics failed")},async addSocial(e){const t={...e};t.date&&delete t.date;const n={metrics:t};let l=await _(`${T}/api/dm/social`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return!l.ok&&l.status===404&&(l=await _(`${T}/api/dm/social-metrics`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})),I(l,"Add social metrics failed")},async deleteSocial(e){let t=await _(`${T}/api/dm/social/${e}`,{method:"DELETE",credentials:"include"});return!t.ok&&t.status===404&&(t=await _(`${T}/api/dm/social-metrics/${e}`,{method:"DELETE",credentials:"include"})),I(t,"Delete social metrics failed")},async listSEO(e){const t=e?`?date=${encodeURIComponent(this._normalizeDate(e))}`:"",n=await _(`${T}/api/dm/seo${t}`,{credentials:"include"});return I(n,"Load SEO reports failed")},async createSEO(e){const t={...e,date:this._normalizeDate(e==null?void 0:e.date)},n=await _(`${T}/api/dm/seo`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return I(n,"Create SEO report failed")},async deleteSEO(e){const t=await _(`${T}/api/dm/seo/${e}`,{method:"DELETE",credentials:"include"});return I(t,"Delete SEO report failed")},async addEmployer(e){return this.createEmployer(e)},async editEmployer(e,t){return this.updateEmployer(e,t)},async removeEmployer(e){return this.deleteEmployer(e)},async addJob(e){return this.createJob(e)},async editJob(e,t){return this.updateJob(e,t)},async removeJob(e){return this.deleteJob(e)},async addCandidate(e){return this.createCandidate(e)},async editCandidate(e,t){return this.updateCandidate(e,t)},async removeCandidate(e){return this.deleteCandidate(e)},async removeRecIncome(e){return this.deleteRecIncome(e)},async removeRecExpense(e){return this.deleteRecExpense(e)},async createDMCost(e){return this.addDMCost(e)},async createSocial(e){return this.addSocial(e)},async updateSocial(e){return this.addSocial(e)},async mgStats(){const e=await _(`${T}/api/mg/stats`,{credentials:"include"});return I(e,"Load MG stats failed")},async listMGWorks(e={}){const t=new URLSearchParams;e.date&&t.set("date",e.date),e.status&&t.set("status",e.status);const n=t.toString()?`?${t.toString()}`:"",l=await _(`${T}/api/mg/works${n}`,{credentials:"include"});return I(l,"Load MG works failed")},async createMGWork(e){const t=await _(`${T}/api/mg/works`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return I(t,"Create MG work failed")},async updateMGWork(e,t){const n=await _(`${T}/api/mg/works/${e}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return I(n,"Update MG work failed")},async deleteMGWork(e){const t=await _(`${T}/api/mg/works/${e}`,{method:"DELETE",credentials:"include"});return I(t,"Delete MG work failed")},async reportsOverview(e,t){const n=new URLSearchParams;e&&n.set("from",e),t&&n.set("to",t);const l=n.toString()?`?${n.toString()}`:"",r=await _(`${T}/api/reports/overview${l}`,{credentials:"include"});return I(r,"Load consolidated report failed")}},Gu=f.createContext(null),ue=()=>f.useContext(Gu);function $p({children:e}){const[t,n]=f.useState(null),[l,r]=f.useState(!1);f.useEffect(()=>{let c=!0;return A.me().then(u=>{c&&(n((u==null?void 0:u.user)||null),r(!0))}).catch(()=>{c&&r(!0)}),()=>{c=!1}},[]);const a=async(c,u)=>{const g=await A.login(c,u);if(!(g!=null&&g.user))throw new Error("Invalid login response (no user)");return g.token&&localStorage.setItem("auth_token",g.token),n(g.user),g.user},i=async()=>{try{await A.logout()}catch{}localStorage.removeItem("auth_token"),n(null)},o=async c=>{const u=await A.updateMe(c);if(!(u!=null&&u.user))throw new Error("Invalid update response (no user)");return n(u.user),u.user};return s.jsx(Gu.Provider,{value:{user:t,ready:l,login:a,logout:i,updateMe:o},children:e})}function Op(){const{user:e,ready:t}=ue();return t?e?s.jsx(Ki,{}):s.jsx(Js,{to:"/login",replace:!0}):s.jsx("div",{className:"p-6 text-royal",children:"Loading..."})}function ht({roles:e=[]}){const{user:t}=ue();return t?e.length&&!e.includes(t.role)?s.jsx(Js,{to:"/",replace:!0}):s.jsx(Ki,{}):s.jsx(Js,{to:"/login",replace:!0})}/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ku=(...e)=>e.filter((t,n,l)=>!!t&&l.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:r="",children:a,iconNode:i,...o},c)=>f.createElement("svg",{ref:c,...zp,width:t,height:t,stroke:e,strokeWidth:l?Number(n)*24/Number(t):n,className:Ku("lucide",r),...o},[...i.map(([u,g])=>f.createElement(u,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(e,t)=>{const n=f.forwardRef(({className:l,...r},a)=>f.createElement(Up,{ref:a,iconNode:t,className:Ku(`lucide-${Fp(e)}`,l),...r}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=Ye("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=Ye("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=Ye("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=Ye("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=Ye("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=Ye("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=Ye("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=Ye("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=Ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=Ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=Ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=Ye("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);function Wp(){const{user:e,logout:t}=ue();return s.jsxs("header",{className:"h-16 bg-navy text-white flex items-center justify-between px-4 shadow-soft",children:[s.jsx("div",{className:"px-2",children:s.jsx("img",{src:"https://primeacademy.org/logo-full.png",alt:"Prime Academy",className:"h-8 object-contain"})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:e==null?void 0:e.avatar,alt:"avatar",className:"w-9 h-9 rounded-full border-2 border-gold object-cover"}),s.jsxs("div",{className:"text-sm leading-tight",children:[s.jsx("div",{className:"font-semibold",children:e==null?void 0:e.name}),s.jsx("div",{className:"opacity-80",children:e==null?void 0:e.designation})]}),s.jsxs("a",{href:"/profile",className:"ml-2 inline-flex items-center gap-1 bg-gold text-navy px-3 py-2 rounded-2xl hover:bg-lightgold transition",children:[s.jsx(Hp,{size:16})," Profile"]}),s.jsxs("button",{onClick:t,className:"inline-flex items-center gap-1 bg-white text-navy px-3 py-2 rounded-2xl hover:bg-lightgold transition",children:[s.jsx(Bp,{size:16})," Logout"]})]})]})}const Vp=({to:e,icon:t,label:n})=>s.jsxs(_p,{to:e,className:({isActive:l})=>`flex items-center gap-2 px-4 py-2 rounded-xl mx-3 my-1 ${l?"bg-[#e6eeff] text-navy":"text-royal hover:bg-[#f3f6ff]"}`,children:[t,s.jsx("span",{children:n})]});function Jp(){const{user:e}=ue(),t={SuperAdmin:[{to:"/",label:"Dashboard",icon:s.jsx(at,{size:18})},{to:"/assign-tasks",label:"Assign Task",icon:s.jsx(xt,{size:18})},{to:"/employees",label:"Employee ",icon:s.jsx(Rn,{size:18})},{to:"/courses",label:"Courses ",icon:s.jsx(sn,{size:18})},{to:"/leads-center-view",label:"Leads Center ",icon:s.jsx(pe,{size:18})},{to:"/admission/dashboard",label:"Admission Reports",icon:s.jsx(pe,{size:18})},{to:"/recruitment",label:"Recruitment Reports",icon:s.jsx(at,{size:18})},{to:"/accounting/dashboard",label:"Accounts Dashboard",icon:s.jsx(vt,{size:18})},{to:"/dm/dashboard",label:"Digital Marketing Reports",icon:s.jsx(Cs,{size:18})},{to:"/mg/dashboard",label:"Motion Graphics Report",icon:s.jsx(xc,{size:18})}],Admin:[{to:"/",label:"Dashboard",icon:s.jsx(at,{size:18})},{to:"/assign-tasks",label:"Assign Task",icon:s.jsx(xt,{size:18})},{to:"/my-tasks",label:"My Task",icon:s.jsx(xt,{size:18})},{to:"/employees",label:"Employee",icon:s.jsx(Rn,{size:18})},{to:"/leads-center-view",label:"Leads Center ",icon:s.jsx(pe,{size:18})},{to:"/courses",label:"Courses ",icon:s.jsx(sn,{size:18})},{to:"/admission/dashboard",label:"Admission Reports",icon:s.jsx(pe,{size:18})},{to:"/recruitment",label:"Recruitment Reports",icon:s.jsx(at,{size:18})},{to:"/accounting/dashboard",label:"Accounts Dashboard",icon:s.jsx(vt,{size:18})},{to:"/dm/dashboard",label:"Digital Marketing Reports",icon:s.jsx(Cs,{size:18})},{to:"/mg/dashboard",label:"Motion Graphics Report",icon:s.jsx(xc,{size:18})}],DigitalMarketing:[{to:"/",label:"Dashboard",icon:s.jsx(at,{size:18})},{to:"/my-tasks",label:"My Task",icon:s.jsx(xt,{size:18})},{to:"/courses",label:"Courses",icon:s.jsx(sn,{size:18})},{to:"/lead-entry",label:"Lead Entry / CSV",icon:s.jsx(pe,{size:18})},{to:"/leads-center",label:"Leads Center",icon:s.jsx(pe,{size:18})},{to:"/dm-metrics",label:"Cost / Social / SEO",icon:s.jsx(Cs,{size:18})}],Admission:[{to:"/",label:"Dashboard",icon:s.jsx(at,{size:18})},{to:"/my-tasks",label:"My Task",icon:s.jsx(xt,{size:18})},{to:"/courses",label:"Courses",icon:s.jsx(sn,{size:18})},{to:"/admission/assigned",label:"Assigned Lead",icon:s.jsx(pe,{size:18})},{to:"/admission/counseling",label:"Counseling",icon:s.jsx(pe,{size:18})},{to:"/admission/follow-up",label:"In Follow-Up",icon:s.jsx(pe,{size:18})},{to:"/admission/admitted",label:"Admitted",icon:s.jsx(pe,{size:18})},{to:"/admission/not-admitted",label:"Not Admitted",icon:s.jsx(pe,{size:18})},{to:"/admission/fees",label:"Admission Fees",icon:s.jsx(pe,{size:18})}],Accountant:[{to:"/",label:"Dashboard",icon:s.jsx(at,{size:18})},{to:"/my-tasks",label:"My Task",icon:s.jsx(xt,{size:18})},{to:"/accounting/dashboard",label:"Accounts Dashboard",icon:s.jsx(vt,{size:18})},{to:"/accounting/fees",label:"Fees Approval",icon:s.jsx(pe,{size:18})},{to:"/accounting/income",label:"Income",icon:s.jsx(pe,{size:18})},{to:"/accounting/expense",label:"Expense",icon:s.jsx(pe,{size:18})}],AccountantExtra:[{to:"/employee-accounts/bank",label:"Employee Bank Account",icon:s.jsx(Xi,{size:18})},{to:"/employee-accounts/salary",label:"Employee Salary",icon:s.jsx(vt,{size:18})}],Recruitment:[{to:"/",label:"Dashboard",icon:s.jsx(at,{size:18})},{to:"/my-tasks",label:"My Task",icon:s.jsx(xt,{size:18})},{to:"/courses",label:"Courses",icon:s.jsx(sn,{size:18})},{to:"/recruitment",label:"Recruitment Dashboard",icon:s.jsx(at,{size:18})},{to:"/recruitment/candidates",label:"Candidates",icon:s.jsx(Rn,{size:18})},{to:"/recruitment/jobs",label:"Job Positions",icon:s.jsx(pe,{size:18})},{to:"/recruitment/employers",label:"Employers",icon:s.jsx(pe,{size:18})},{to:"/recruitment/income",label:"Recruitment Income",icon:s.jsx(vt,{size:18})},{to:"/recruitment/expenses",label:"Recruitment Expense",icon:s.jsx(vt,{size:18})}],MotionGraphics:[{to:"/",label:"Dashboard",icon:s.jsx(at,{size:18})},{to:"/my-tasks",label:"My Task",icon:s.jsx(xt,{size:18})},{to:"/courses",label:"Courses",icon:s.jsx(sn,{size:18})},{to:"/mg/production",label:"Production Log",icon:s.jsx(pe,{size:18})}]};let n=t[e==null?void 0:e.role]||[];return(e==null?void 0:e.role)==="Accountant"&&Array.isArray(t.AccountantExtra)&&(n=[...n,...t.AccountantExtra]),s.jsxs("aside",{className:"w-72 hidden md:flex bg-white border-r min-h-screen sticky top-0 flex-col",children:[s.jsx("div",{className:"px-4 py-4",children:s.jsx("img",{src:"https://primeacademy.org/logo-full.png",alt:"Prime Academy",className:"w-40 object-contain"})}),s.jsx("nav",{className:"flex-1",children:n.map(l=>s.jsx(Vp,{...l},l.to))})]})}function qu(){const{user:e}=ue();if(!["Accountant","Admin","SuperAdmin"].includes(e==null?void 0:e.role))return s.jsx("div",{className:"text-royal",children:"Only Accountant, Admin or SuperAdmin can access this dashboard."});const[t,n]=f.useState({period:"monthly",from:new Date(new Date().getFullYear(),0,1).toISOString().slice(0,10),to:new Date().toISOString().slice(0,10)}),[l,r]=f.useState({totalIncome:0,totalExpense:0,profit:0}),[a,i]=f.useState(null),[o,c]=f.useState([]),[u,g]=f.useState([]),[p,h]=f.useState(!1),[j,w]=f.useState({incomes:[],expenses:[]}),N=async()=>{try{let x,d;if(t.period==="custom")x=t.from,d=t.to;else if(t.period==="lifetime")x=void 0,d=void 0;else{const v=new Date,b=new Date;t.period==="daily"?b.setDate(v.getDate()-1):t.period==="weekly"?b.setDate(v.getDate()-7):t.period==="monthly"?b.setMonth(v.getMonth()-1):t.period==="yearly"&&b.setFullYear(v.getFullYear()-1),x=b.toISOString().slice(0,10),d=v.toISOString().slice(0,10)}const[m,y,k]=await Promise.all([A.accountingSummary(x,d),A.listIncome().catch(()=>({income:[]})),A.listExpenses().catch(()=>({expenses:[]}))]);r(m||{totalIncome:0,totalExpense:0,profit:0}),c(Array.isArray(y)?y:(y==null?void 0:y.income)||[]),g(Array.isArray(k)?k:(k==null?void 0:k.expenses)||[])}catch(x){i(x.message)}};f.useEffect(()=>{N()},[]);const S=en();return f.useEffect(()=>{try{const x=localStorage.getItem("accountHeads");w(x?JSON.parse(x):{incomes:[],expenses:[]})}catch{w({incomes:[],expenses:[]})}try{const x=new URLSearchParams(S.search||"");(x.get("openHeads")||x.get("openHeadsModal"))&&h(!0)}catch{}},[S.search]),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-navy mb-3",children:"Accounting Dashboard"}),a&&s.jsx("div",{className:"mb-2 text-red-600",children:a}),s.jsxs("div",{className:"flex gap-2 mb-4 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Period"}),s.jsxs("select",{value:t.period,onChange:x=>n(d=>({...d,period:x.target.value})),className:"input",children:[s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"}),s.jsx("option",{value:"yearly",children:"Yearly"}),s.jsx("option",{value:"lifetime",children:"Lifetime"}),s.jsx("option",{value:"custom",children:"Custom"})]})]}),t.period==="custom"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"From"}),s.jsx("input",{type:"date",className:"border rounded-xl px-3 py-2",value:t.from,onChange:x=>n(d=>({...d,from:x.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"To"}),s.jsx("input",{type:"date",className:"border rounded-xl px-3 py-2",value:t.to,onChange:x=>n(d=>({...d,to:x.target.value}))})]})]}),s.jsx("button",{onClick:N,className:"bg-gold text-navy rounded-xl px-4 py-2 font-semibold",children:"Apply"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(gl,{icon:s.jsx(vt,{className:"w-5 h-5 text-royal/90"}),title:"Income",value:ct(l.totalIncome||0)}),s.jsx(gl,{icon:s.jsx(Xi,{className:"w-5 h-5 text-royal/90"}),title:"Expense",value:ct(l.totalExpense||0)}),s.jsx(gl,{icon:s.jsx(Cs,{className:"w-5 h-5 text-royal/90"}),title:"Profit",value:ct(l.profit||0)}),s.jsx(gl,{icon:s.jsx(vt,{className:"w-5 h-5 text-royal/90"}),title:"Net Total Balance",value:ct((l.totalIncome||0)-(l.totalExpense||0))})]}),s.jsx("div",{className:"flex items-center gap-2 mb-4",children:s.jsx("button",{onClick:()=>h(!0),className:"px-3 py-2 rounded-xl bg-blue-50 text-royal",children:"Manage Account Heads"})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"col-span-2 bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("h3",{className:"text-sm text-royal mb-2",children:"Income vs Expense"}),s.jsx(Gp,{data:Qp(o,u,t)})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("h3",{className:"text-sm text-royal mb-2",children:"Expense Breakdown"}),s.jsx(Kp,{parts:Yp(u)})]})]}),p&&s.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[s.jsx("div",{className:"absolute inset-0 bg-black opacity-30",onClick:()=>h(!1)}),s.jsxs("div",{className:"bg-white rounded-xl p-4 z-10 w-full max-w-2xl shadow-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Manage Account Heads"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(gc,{kind:"incomes",heads:j.incomes,onChange:x=>w(d=>({...d,incomes:x}))}),s.jsx(gc,{kind:"expenses",heads:j.expenses,onChange:x=>w(d=>({...d,expenses:x}))})]}),s.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 rounded-xl border",children:"Close"}),s.jsx("button",{onClick:()=>{localStorage.setItem("accountHeads",JSON.stringify(j)),h(!1)},className:"px-4 py-2 rounded-xl bg-gold text-navy",children:"Save"})]})]})]})]})}function gc({kind:e,heads:t=[],onChange:n}){const[l,r]=f.useState(t||[]),[a,i]=f.useState("");f.useEffect(()=>{r(t||[])},[t]);const o=()=>{if(!a)return;const u=[a.trim(),...l];r(u),i(""),n&&n(u)},c=u=>{const g=l.filter((p,h)=>h!==u);r(g),n&&n(g)};return s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold capitalize mb-2",children:e==="incomes"?"Income Heads":"Expense Heads"}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{value:a,onChange:u=>i(u.target.value),placeholder:e==="incomes"?"New income head":"New expense head",className:"border rounded-xl px-3 py-2 flex-1"}),s.jsx("button",{onClick:o,className:"px-3 py-2 bg-gold text-navy rounded-xl",children:"Add"})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[l.map((u,g)=>s.jsxs("div",{className:"flex items-center justify-between border rounded-md px-3 py-2",children:[s.jsx("div",{className:"text-sm",children:u}),s.jsx("button",{onClick:()=>c(g),className:"text-red-600",children:"Remove"})]},u)),l.length===0&&s.jsx("div",{className:"text-royal/70",children:"No heads defined"})]})]})}function gl({title:e,value:t,icon:n}){return s.jsxs("div",{className:"bg-white rounded-2xl shadow-soft p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n,s.jsx("div",{className:"text-royal text-sm",children:e})]}),s.jsx("div",{className:"text-2xl font-extrabold text-navy",children:t})]})}function Qp(e=[],t=[],n){let l,r;if(n.period==="custom")l=new Date(n.from),r=new Date(n.to);else{if(n.period==="lifetime")return[];{const o=new Date;l=new Date,n.period==="daily"?l.setDate(o.getDate()-1):n.period==="weekly"?l.setDate(o.getDate()-7):n.period==="monthly"?l.setMonth(o.getMonth()-1):n.period==="yearly"&&l.setFullYear(o.getFullYear()-1),r=o}}if(!l||!r)return[];const a=[],i=new Date(l);for(;i<=r;){const o=i.toISOString().slice(0,10),c=e.filter(g=>new Date(g.date).toISOString().slice(0,10)===o).reduce((g,p)=>g+(Number(p.amount)||0),0),u=t.filter(g=>new Date(g.date).toISOString().slice(0,10)===o).reduce((g,p)=>g+(Number(p.amount)||0),0);a.push({date:o,income:c,expense:u}),i.setDate(i.getDate()+1)}return a}function Yp(e=[]){const t={};return(e||[]).forEach(n=>{const l=n.purpose||n.category||"Other";t[l]=(t[l]||0)+Number(n.amount||0)}),t}function Gp({data:e}){if(!e||e.length===0)return s.jsx("div",{className:"text-royal/70",children:"No data"});const r=Math.max(...e.map(c=>Math.max(c.income||0,c.expense||0))),a=(600-24*2)/Math.max(1,e.length-1),i=e.map((c,u)=>`${24+u*a},${156-(r?c.income/r*(180-24*2):0)}`).join(" "),o=e.map((c,u)=>`${24+u*a},${156-(r?c.expense/r*(180-24*2):0)}`).join(" ");return s.jsxs("svg",{viewBox:"0 0 600 180",className:"w-full h-44",children:[s.jsx("polyline",{fill:"none",stroke:"#10b981",strokeWidth:"2",points:i}),s.jsx("polyline",{fill:"none",stroke:"#ef4444",strokeWidth:"2",points:o})]})}function Kp({parts:e}){const t=Object.values(e||{}).reduce((c,u)=>c+(u||0),0),n=Object.entries(e||{});if(t===0)return s.jsx("div",{className:"text-royal/70",children:"No data"});let l=0;const r=120,a=r/2,i=r/2,o=r/2-2;return s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("svg",{width:r,height:r,viewBox:`0 0 ${r} ${r}`,children:n.map(([c,u],g)=>{const p=l/t*Math.PI*2;l+=u||0;const h=l/t*Math.PI*2,j=a+o*Math.cos(p-Math.PI/2),w=i+o*Math.sin(p-Math.PI/2),N=a+o*Math.cos(h-Math.PI/2),S=i+o*Math.sin(h-Math.PI/2),x=h-p>Math.PI?1:0,d=`M ${a} ${i} L ${j} ${w} A ${o} ${o} 0 ${x} 1 ${N} ${S} Z`,m=["#3b82f6","#06b6d4","#f59e0b","#ef4444","#8b5cf6","#06b6d4"];return s.jsx("path",{d,fill:m[g%m.length],stroke:"#fff",strokeWidth:"1"},c)})}),s.jsx("div",{className:"flex flex-col text-sm",children:n.map(([c,u],g)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{style:{width:12,height:12,background:["#3b82f6","#06b6d4","#f59e0b","#ef4444","#8b5cf6","#06b6d4"][g%6]},className:"inline-block rounded-sm"})," ",s.jsx("span",{className:"capitalize",children:c.replace(/([A-Z])/g," $1")}),": ",s.jsx("strong",{className:"ml-1",children:u})]},c))})]})}function Zu(){const[e,t]=f.useState([]),[n,l]=f.useState([]),[r,a]=f.useState([]),[i,o]=f.useState(!1),[c,u]=f.useState(""),[g,p]=f.useState("monthly"),[h,j]=f.useState(""),[w,N]=f.useState("");f.useEffect(()=>{S()},[]);async function S(){o(!0);try{const[v,b,C]=await Promise.all([A.listCandidates().catch(()=>({candidates:[]})),A.listJobs().catch(()=>({jobs:[]})),A.listEmployers().catch(()=>({employers:[]}))]);t((v==null?void 0:v.candidates)||v||[]),l((b==null?void 0:b.jobs)||b||[]),a((C==null?void 0:C.employers)||C||[]),u("")}catch(v){u(v.message||"Failed to load")}finally{o(!1)}}const x=()=>{if(g==="lifetime")return{from:null,to:null};if(g==="custom"){if(h&&w){const C=new Date(h);C.setHours(0,0,0,0);const L=new Date(w);return L.setHours(23,59,59,999),{from:C,to:L}}return{from:null,to:null}}const v=new Date;let b=new Date;return g==="daily"?b.setDate(v.getDate()-1):g==="weekly"?b.setDate(v.getDate()-7):g==="monthly"?b.setMonth(v.getMonth()-1):g==="yearly"&&b.setFullYear(v.getFullYear()-1),{from:b,to:v}},d=(v,b,C)=>{if(!v)return!1;const L=new Date(v).getTime();return!(b&&L<b.getTime()||C&&L>C.getTime())},{from:m,to:y}=x(),k=Ys.useMemo(()=>{const v=m?new Date(m):null,b=y?new Date(y):null,C=e.filter(q=>d(q.createdAt,v,b)||!v&&!b),L=n.filter(q=>d(q.createdAt,v,b)||!v&&!b),M=C.length,B=C.filter(q=>q.status==="pending").length,se=L.filter(q=>q.status==="active").length,O=r.length,G=[];if(b)for(let q=5;q>=0;q--){const le=new Date(b);le.setMonth(le.getMonth()-q);const Pe=new Date(le.getFullYear(),le.getMonth(),1),D=new Date(le.getFullYear(),le.getMonth()+1,0,23,59,59,999),$=Pe.toLocaleString("en-US",{month:"short",year:"numeric"}),z=e.filter(E=>d(E.createdAt,Pe,D)).length,Y=e.filter(E=>E.status==="recruited"&&d(E.recruitedAt||E.updatedAt,Pe,D)).length;G.push({month:$,candidates:z,recruited:Y})}return{totalRecruitment:M,pendingCandidate:B,activeJobPosition:se,totalEmployer:O,series:G}},[e,n,r,m,y]);return s.jsxs("div",{className:"p-4 md:p-6 space-y-6 font-[Poppins]",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-semibold text-[#053867]",children:"Recruitment Dashboard"}),c&&s.jsx("div",{className:"text-red-600",children:c}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("select",{value:g,onChange:v=>p(v.target.value),className:"border rounded-xl px-3 py-2",children:[s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"}),s.jsx("option",{value:"yearly",children:"Yearly"}),s.jsx("option",{value:"lifetime",children:"Lifetime"}),s.jsx("option",{value:"custom",children:"Custom"})]}),g==="custom"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"date",value:h,onChange:v=>j(v.target.value),className:"border rounded-xl px-3 py-2"}),s.jsx("input",{type:"date",value:w,onChange:v=>N(v.target.value),className:"border rounded-xl px-3 py-2"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(yl,{title:"Total Recruitment",value:k.totalRecruitment}),s.jsx(yl,{title:"Pending Candidate",value:k.pendingCandidate}),s.jsx(yl,{title:"Active Job Position",value:k.activeJobPosition}),s.jsx(yl,{title:"Total Employer",value:k.totalEmployer})]}),s.jsxs("div",{className:"bg-white shadow rounded-2xl p-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-[#253985] mb-3",children:"Candidate vs Recruited (Last 6 months)"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-[#053867]",children:[s.jsx("th",{className:"py-2",children:"Month"}),s.jsx("th",{className:"py-2",children:"Candidates"}),s.jsx("th",{className:"py-2",children:"Recruited"})]})}),s.jsxs("tbody",{children:[k.series.map(v=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"py-2",children:v.month}),s.jsx("td",{className:"py-2",children:v.candidates}),s.jsx("td",{className:"py-2",children:v.recruited})]},v.month)),k.series.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"py-2 text-gray-500",colSpan:3,children:"No data"})})]})]})})]})]})}function yl({title:e,value:t}){return s.jsxs("div",{className:"bg-white rounded-2xl shadow p-4",children:[s.jsx("div",{className:"text-sm text-[#253985]",children:e}),s.jsx("div",{className:"text-2xl font-bold text-[#053867]",children:typeof t=="number"?t:Kt(t)})]})}function em(){const[e,t]=f.useState([]),[n,l]=f.useState(""),[r,a]=f.useState(!1),[i,o]=f.useState("monthly"),[c,u]=f.useState(""),[g,p]=f.useState("");f.useEffect(()=>{h()},[]);async function h(){a(!0);try{const d=await A.listMGWorks().catch(()=>({works:[]})),m=(d==null?void 0:d.works)||d||[];t(Array.isArray(m)?m:[]),l("")}catch(d){l(d.message||"Failed to load")}finally{a(!1)}}const j=()=>{if(i==="lifetime")return{from:null,to:null};if(i==="custom"){if(c&&g){const y=new Date(c);y.setHours(0,0,0,0);const k=new Date(g);return k.setHours(23,59,59,999),{from:y,to:k}}return{from:null,to:null}}const d=new Date;let m=new Date;return i==="daily"?m.setDate(d.getDate()-1):i==="weekly"?m.setDate(d.getDate()-7):i==="monthly"?m.setMonth(d.getMonth()-1):i==="yearly"&&m.setFullYear(d.getFullYear()-1),{from:m,to:d}},w=(d,m,y)=>{if(!d)return!1;const k=new Date(d).getTime();return!(m&&k<m.getTime()||y&&k>y.getTime())},{from:N,to:S}=j(),x=Ys.useMemo(()=>{const d=N?new Date(N):null,m=S?new Date(S):null,y=e.filter(k=>w(k.createdAt,d,m)||!d&&!m);return{total:y.length,queued:y.filter(k=>k.status==="queued").length,inProgress:y.filter(k=>k.status==="in-progress").length,done:y.filter(k=>k.status==="done").length}},[e,N,S]);return s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-xl font-bold text-navy",children:"Motion Graphics — Dashboard"}),n&&s.jsx("div",{className:"text-red-600",children:n}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("select",{value:i,onChange:d=>o(d.target.value),className:"border rounded-xl px-3 py-2",children:[s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"}),s.jsx("option",{value:"yearly",children:"Yearly"}),s.jsx("option",{value:"lifetime",children:"Lifetime"}),s.jsx("option",{value:"custom",children:"Custom"})]}),i==="custom"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"date",value:c,onChange:d=>u(d.target.value),className:"border rounded-xl px-3 py-2"}),s.jsx("input",{type:"date",value:g,onChange:d=>p(d.target.value),className:"border rounded-xl px-3 py-2"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{k:"total",label:"Total"},{k:"queued",label:"Queued"},{k:"inProgress",label:"In Progress"},{k:"done",label:"Done"}].map(d=>s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm",children:[s.jsx("div",{className:"text-royal text-sm",children:d.label}),s.jsx("div",{className:"text-3xl font-extrabold",children:x[d.k]??0})]},d.k))})]})}function Xp(){return new Date().toISOString().slice(0,10)}function qp(){const e=new Date;return new Date(e.getFullYear(),e.getMonth(),1).toISOString().slice(0,10)}function Zp(){var Ne,mt,br;const[e,t]=f.useState("monthly"),[n,l]=f.useState(qp()),[r,a]=f.useState(Xp()),[i,o]=f.useState(null),[c,u]=f.useState([]),[g,p]=f.useState([]),[h,j]=f.useState([]),[w,N]=f.useState([]),[S,x]=f.useState([]),[d,m]=f.useState([]),[y,k]=f.useState([]),[v,b]=f.useState("");function C(){if(e==="custom"&&n&&r)return{from:new Date(n),to:new Date(r)};if(e==="lifetime")return{from:null,to:null};const F=new Date;let V=new Date;return e==="daily"?V.setDate(F.getDate()-1):e==="weekly"?V.setDate(F.getDate()-7):e==="monthly"?V.setMonth(F.getMonth()-1):e==="yearly"&&V.setFullYear(F.getFullYear()-1),{from:V,to:F}}const L=async()=>{try{let F,V;if(e==="custom")F=n,V=r;else if(e==="lifetime")F=void 0,V=void 0;else{const es=new Date,ts=new Date;e==="daily"?ts.setDate(es.getDate()-1):e==="weekly"?ts.setDate(es.getDate()-7):e==="monthly"?ts.setMonth(es.getMonth()-1):e==="yearly"&&ts.setFullYear(es.getFullYear()-1),F=ts.toISOString().slice(0,10),V=es.toISOString().slice(0,10)}const[Ge,Kn,Xn,Ke,ft,kr,qn,Zn]=await Promise.all([A.reportsOverview(F,V),A.listCourses().catch(()=>({courses:[]})),A.listLeads().catch(()=>({leads:[]})),A.listAdmissionLeads().catch(()=>({leads:[]})),A.listRecruited().catch(()=>[]),A.listAllTasks().catch(()=>({tasks:[]})),A.listIncome().catch(()=>[]),A.listExpenses().catch(()=>[])]);o(Ge),u((Kn==null?void 0:Kn.courses)||[]),p((Xn==null?void 0:Xn.leads)||[]),j((Ke==null?void 0:Ke.leads)||[]),N(Array.isArray(ft)?ft:(ft==null?void 0:ft.candidates)||[]),x((kr==null?void 0:kr.tasks)||[]),m(Array.isArray(qn)?qn:(qn==null?void 0:qn.income)||[]),k(Array.isArray(Zn)?Zn:(Zn==null?void 0:Zn.expenses)||[]),b("")}catch(F){b(F.message||"Failed to load")}};f.useEffect(()=>{L()},[]);const{from:M,to:B}=C(),se=f.useMemo(()=>!M&&!B?g:g.filter(F=>{const V=new Date(F.createdAt||F.date||F._id&&null);return V&&(!M||V>=M)&&(!B||V<=B)}),[g,M,B]),O=f.useMemo(()=>!M&&!B?h:h.filter(F=>{const V=new Date(F.createdAt||F.date||F._id&&null);return V&&(!M||V>=M)&&(!B||V<=B)}),[h,M,B]),G=f.useMemo(()=>!M&&!B?S:S.filter(F=>{const V=new Date(F.createdAt||F.deadline||null);return V&&(!M||V>=M)&&(!B||V<=B)}),[S,M,B]),q=((Ne=i==null?void 0:i.combined)==null?void 0:Ne.income)??0,le=((mt=i==null?void 0:i.combined)==null?void 0:mt.expense)??0,Pe=((br=i==null?void 0:i.combined)==null?void 0:br.net)??q-le,D=(c||[]).filter(F=>F.status==="Active").length,$=se.length,z=O.filter(F=>(F.status||"").toLowerCase()==="admitted").length,Y=(w||[]).length,E=G.filter(F=>(F.status||"").toLowerCase()!=="completed"),H=f.useMemo(()=>{if(!M||!B)return[];const F=[],V=new Date(M);for(;V<=B;){const Ge=V.toISOString().slice(0,10),Kn=(d||[]).filter(Ke=>new Date(Ke.date).toISOString().slice(0,10)===Ge).reduce((Ke,ft)=>Ke+(Number(ft.amount)||0),0),Xn=(y||[]).filter(Ke=>new Date(Ke.date).toISOString().slice(0,10)===Ge).reduce((Ke,ft)=>Ke+(Number(ft.amount)||0),0);F.push({date:Ge,income:Kn,expense:Xn}),V.setDate(V.getDate()+1)}return F},[d,y,M,B]),W=f.useMemo(()=>{const F={};return(y||[]).forEach(V=>{const Ge=V.category||V.purpose||"Other";F[Ge]=(F[Ge]||0)+Number(V.amount||0)}),F},[y]),Q=F=>{var V;(V=F==null?void 0:F.preventDefault)==null||V.call(F),L()};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-xl font-bold text-navy",children:"Admin Overview"}),s.jsxs("form",{onSubmit:Q,className:"flex items-center gap-2",children:[s.jsxs("select",{value:e,onChange:F=>t(F.target.value),className:"input",children:[s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"}),s.jsx("option",{value:"yearly",children:"Yearly"}),s.jsx("option",{value:"lifetime",children:"Lifetime"}),s.jsx("option",{value:"custom",children:"Custom"})]}),e==="custom"&&s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"date",className:"input",value:n,onChange:F=>l(F.target.value)}),s.jsx("span",{className:"text-royal",children:"to"}),s.jsx("input",{type:"date",className:"input",value:r,onChange:F=>a(F.target.value)})]}),s.jsx("button",{className:"btn btn-primary",children:"Apply"})]})]}),v&&s.jsx("div",{className:"text-red-600",children:v}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vt,{className:"w-5 h-5 text-royal/90"}),s.jsx("div",{className:"text-royal text-sm",children:"Total Income"})]}),s.jsx("div",{className:"text-2xl font-extrabold",children:ct(q)})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xi,{className:"w-5 h-5 text-royal/90"}),s.jsx("div",{className:"text-royal text-sm",children:"Total Expense"})]}),s.jsx("div",{className:"text-2xl font-extrabold",children:ct(le)})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cs,{className:"w-5 h-5 text-royal/90"}),s.jsx("div",{className:"text-royal text-sm",children:"Total Net Balances"})]}),s.jsx("div",{className:"text-2xl font-extrabold",children:ct(Pe)})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sn,{className:"w-5 h-5 text-royal/90"}),s.jsx("div",{className:"text-royal text-sm",children:"Total Active Courses"})]}),s.jsx("div",{className:"text-2xl font-extrabold",children:D})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rn,{className:"w-5 h-5 text-royal/90"}),s.jsx("div",{className:"text-royal text-sm",children:"Total Lead"})]}),s.jsx("div",{className:"text-2xl font-extrabold",children:$})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rn,{className:"w-5 h-5 text-royal/90"}),s.jsx("div",{className:"text-royal text-sm",children:"Total Admitted Student"})]}),s.jsx("div",{className:"text-2xl font-extrabold",children:z})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rn,{className:"w-5 h-5 text-royal/90"}),s.jsx("div",{className:"text-royal text-sm",children:"Total Recruited People"})]}),s.jsx("div",{className:"text-2xl font-extrabold",children:Y})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xt,{className:"w-5 h-5 text-royal/90"}),s.jsx("div",{className:"text-royal text-sm",children:"Pending Tasks"})]}),s.jsx("div",{className:"text-2xl font-extrabold",children:E.length})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"col-span-2 bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("h3",{className:"text-sm text-royal mb-2",children:"Income vs Expense"}),s.jsx(ex,{data:H})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("h3",{className:"text-sm text-royal mb-2",children:"Expense Breakdown"}),s.jsx(tx,{parts:W})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("h3",{className:"text-sm text-royal mb-2",children:"Pending Task List"}),s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-[#f3f6ff] text-royal",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-2 text-left",children:"Title"}),s.jsx("th",{className:"p-2 text-left",children:"Assigned To"}),s.jsx("th",{className:"p-2 text-left",children:"Category"}),s.jsx("th",{className:"p-2 text-left",children:"Deadline"}),s.jsx("th",{className:"p-2 text-left",children:"Status"})]})}),s.jsxs("tbody",{children:[E.map(F=>{var V,Ge;return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-2",children:F.title}),s.jsx("td",{className:"p-2",children:((V=F.assignedTo)==null?void 0:V.name)||((Ge=F.assignedTo)==null?void 0:Ge.email)||"-"}),s.jsx("td",{className:"p-2",children:F.category}),s.jsx("td",{className:"p-2",children:F.deadline?new Date(F.deadline).toLocaleDateString():"-"}),s.jsx("td",{className:"p-2",children:F.status})]},F._id)}),E.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"p-3 text-royal/70",colSpan:"5",children:"No pending tasks"})})]})]})})]})]})}function ex({data:e}){if(!e||e.length===0)return s.jsx("div",{className:"text-royal/70",children:"No data"});const r=Math.max(...e.map(c=>Math.max(c.income||0,c.expense||0))),a=(600-24*2)/Math.max(1,e.length-1),i=e.map((c,u)=>`${24+u*a},${156-(r?c.income/r*(180-24*2):0)}`).join(" "),o=e.map((c,u)=>`${24+u*a},${156-(r?c.expense/r*(180-24*2):0)}`).join(" ");return s.jsxs("svg",{viewBox:"0 0 600 180",className:"w-full h-44",children:[s.jsx("polyline",{fill:"none",stroke:"#10b981",strokeWidth:"2",points:i}),s.jsx("polyline",{fill:"none",stroke:"#ef4444",strokeWidth:"2",points:o})]})}function tx({parts:e}){const t=Object.values(e||{}).reduce((c,u)=>c+(u||0),0),n=Object.entries(e||{});if(t===0)return s.jsx("div",{className:"text-royal/70",children:"No data"});let l=0;const r=120,a=r/2,i=r/2,o=r/2-2;return s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("svg",{width:r,height:r,viewBox:`0 0 ${r} ${r}`,children:n.map(([c,u],g)=>{const p=l/t*Math.PI*2;l+=u||0;const h=l/t*Math.PI*2,j=a+o*Math.cos(p-Math.PI/2),w=i+o*Math.sin(p-Math.PI/2),N=a+o*Math.cos(h-Math.PI/2),S=i+o*Math.sin(h-Math.PI/2),x=h-p>Math.PI?1:0,d=`M ${a} ${i} L ${j} ${w} A ${o} ${o} 0 ${x} 1 ${N} ${S} Z`,m=["#3b82f6","#06b6d4","#f59e0b","#ef4444","#8b5cf6","#06b6d4"];return s.jsx("path",{d,fill:m[g%m.length],stroke:"#fff",strokeWidth:"1"},c)})}),s.jsx("div",{className:"flex flex-col text-sm",children:n.map(([c,u],g)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{style:{width:12,height:12,background:["#3b82f6","#06b6d4","#f59e0b","#ef4444","#8b5cf6","#06b6d4"][g%6]},className:"inline-block rounded-sm"})," ",s.jsx("span",{className:"capitalize",children:c.replace(/([A-Z])/g," $1")}),": ",s.jsx("strong",{className:"ml-1",children:u})]},c))})]})}function nx({data:e}){if(!e||e.length===0)return s.jsx("div",{className:"text-royal/70",children:"No data"});const r=Math.max(...e.map(c=>Math.max(c.leads||0,c.admitted||0))),a=(700-24*2)/Math.max(1,e.length-1),i=e.map((c,u)=>`${24+u*a},${156-(r?c.leads/r*(180-24*2):0)}`).join(" "),o=e.map((c,u)=>`${24+u*a},${156-(r?c.admitted/r*(180-24*2):0)}`).join(" ");return s.jsxs("svg",{viewBox:"0 0 700 180",className:"w-full h-44",children:[s.jsx("polyline",{fill:"none",stroke:"#3b82f6",strokeWidth:"2",points:i}),s.jsx("polyline",{fill:"none",stroke:"#10b981",strokeWidth:"2",points:o})]})}const yc=[{key:"Assigned",label:"Assigned"},{key:"Counseling",label:"Counseling"},{key:"In Follow Up",label:"In Follow-Up"},{key:"Admitted",label:"Admitted"},{key:"Not Admitted",label:"Not Admitted"}];function tm(){const[e,t]=f.useState(""),[n,l]=f.useState("monthly"),[r,a]=f.useState(""),[i,o]=f.useState(""),[c,u]=f.useState([]),[g,p]=f.useState(!1);f.useEffect(()=>{h()},[]);async function h(){p(!0);try{const d=await A.listAdmissionLeads().catch(()=>({leads:[]})),m=(d==null?void 0:d.leads)||d||[];u(Array.isArray(m)?m:[]),t("")}catch(d){t(d.message||"Failed to load")}finally{p(!1)}}const j=()=>{if(n==="lifetime")return{from:null,to:null};if(n==="custom"){if(r&&i){const y=new Date(r);y.setHours(0,0,0,0);const k=new Date(i);return k.setHours(23,59,59,999),{from:y,to:k}}return{from:null,to:null}}const d=new Date;let m=new Date;return n==="daily"?m.setDate(d.getDate()-1):n==="weekly"?m.setDate(d.getDate()-7):n==="monthly"?m.setMonth(d.getMonth()-1):n==="yearly"&&m.setFullYear(d.getFullYear()-1),{from:m,to:d}},w=(d,m,y)=>{if(!d)return!1;const k=new Date(d).getTime();return!(m&&k<m.getTime()||y&&k>y.getTime())},{from:N,to:S}=j(),x=Ys.useMemo(()=>{const d=N?new Date(N):null,m=S?new Date(S):null,y=c.filter(b=>w(b.createdAt,d,m)||!d&&!m),k={};k.Assigned=y.length,yc.forEach(b=>{b.key!=="Assigned"&&(k[b.key]=y.filter(C=>C.status===b.key).length)});const v=[];if(d&&m){const b=new Date(d);for(;b<=m;){const C=b.toISOString().slice(0,10),L=c.filter(B=>{const se=new Date(B.createdAt);return se&&se.toISOString().slice(0,10)===C}).length,M=c.filter(B=>{const se=B.admittedAt?new Date(B.admittedAt):null;return se&&se.toISOString().slice(0,10)===C}).length;v.push({date:C,leads:L,admitted:M}),b.setDate(b.getDate()+1)}}return{counts:k,series:v}},[c,N,S]);return s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-xl font-bold text-navy",children:"Admission — Dashboard"}),e&&s.jsx("div",{className:"text-red-600",children:e}),s.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-slate",children:"Range"}),s.jsxs("select",{value:n,onChange:d=>l(d.target.value),className:"border rounded-xl px-3 py-2",children:[s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"}),s.jsx("option",{value:"yearly",children:"Yearly"}),s.jsx("option",{value:"lifetime",children:"Lifetime"}),s.jsx("option",{value:"custom",children:"Custom"})]})]}),n==="custom"&&s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"date",className:"border rounded-xl px-3 py-2",value:r,onChange:d=>a(d.target.value)}),s.jsx("input",{type:"date",className:"border rounded-xl px-3 py-2",value:i,onChange:d=>o(d.target.value)})]})]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3",children:yc.map(d=>s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("div",{className:"text-royal text-sm",children:d.label}),s.jsx("div",{className:"text-3xl font-extrabold",children:x.counts[d.key]??0})]},d.key))}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("h4",{className:"text-sm text-royal mb-2",children:"Leads vs Admitted"}),s.jsx(nx,{data:x.series})]})]})}function nm(){const[e,t]=f.useState(""),[n,l]=f.useState("monthly"),[r,a]=f.useState(""),[i,o]=f.useState(""),[c,u]=f.useState([]),[g,p]=f.useState([]),[h,j]=f.useState([]),[w,N]=f.useState(!1);f.useEffect(()=>{x()},[]);const S=()=>{if(n==="lifetime")return{from:null,to:null};if(n==="custom"&&r&&i)return{from:new Date(r),to:new Date(i)};const v=new Date;let b=new Date;return n==="daily"?b.setDate(v.getDate()-1):n==="weekly"?b.setDate(v.getDate()-7):n==="monthly"?b.setMonth(v.getMonth()-1):n==="yearly"&&b.setFullYear(v.getFullYear()-1),{from:b,to:v}};async function x(){N(!0);try{const[v,b,C]=await Promise.all([A.listLeads().catch(()=>({leads:[]})),A.listMyTasks().catch(()=>({tasks:[]})),A.listDMCosts().catch(()=>({items:[]}))]);u((v==null?void 0:v.leads)||[]),p((b==null?void 0:b.tasks)||[]);const L=Array.isArray(C)?C:(C==null?void 0:C.items)||(C==null?void 0:C.costs)||[];j(L||[]),t("")}catch(v){t(v.message||"Failed to load dashboard data")}finally{N(!1)}}const d=(v,b,C)=>{if(!v)return!1;const L=new Date(v).getTime();return!(b&&L<b.getTime()||C&&L>C.getTime())},{from:m,to:y}=S(),k=f.useMemo(()=>{const v=m?new Date(m):null,b=y?new Date(y):null,C=c.filter(D=>d(D.createdAt||D.date||D._id&&null,v,b)||!v&&!b),L=C.length,M={meta:0,linkedin:0,manual:0,others:0};C.forEach(D=>{const $=(D.source||"").toLowerCase();$.includes("meta")?M.meta++:$.includes("linkedin")||$.includes("linked in")?M.linkedin++:$.includes("manual")?M.manual++:M.others++});const B=g.filter(D=>d(D.createdAt||D.createdAt,v,b)||!v&&!b),se=B.filter(D=>(D.status||"").toLowerCase()==="completed").length,O=B.filter(D=>(D.status||"").toLowerCase()!=="completed"),q=h.filter(D=>d(D.date||D.createdAt,v,b)||!v&&!b).reduce((D,$)=>D+(Number($.amount)||0),0),le=[];if(v&&b){const D=new Date(v);for(;D<=b;){const $=D.toISOString().slice(0,10),z=c.filter(Y=>{const E=new Date(Y.createdAt||Y.date||Y._id&&null);return E&&E.toISOString().slice(0,10)===$}).length;le.push({date:$,value:z}),D.setDate(D.getDate()+1)}}const Pe=B.filter(D=>{const $=(D.category||"").toLowerCase();return($.includes("content")||$.includes("published"))&&(D.status||"").toLowerCase()==="completed"}).length;return{totalLeads:L,sourceCounts:M,totalTasksCompleted:se,totalExpense:q,series:le,pendingTasks:O,contentPublished:Pe}},[c,g,h,m,y]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-xl font-bold text-navy",children:"Digital Marketing — Dashboard"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("select",{value:n,onChange:v=>l(v.target.value),className:"border rounded-xl px-3 py-2",children:[s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"}),s.jsx("option",{value:"yearly",children:"Yearly"}),s.jsx("option",{value:"lifetime",children:"Lifetime"}),s.jsx("option",{value:"custom",children:"Custom"})]}),n==="custom"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"date",value:r,onChange:v=>a(v.target.value),className:"border rounded-xl px-3 py-2"}),s.jsx("input",{type:"date",value:i,onChange:v=>o(v.target.value),className:"border rounded-xl px-3 py-2"}),s.jsx("button",{onClick:()=>{r&&i&&l("custom")},className:"px-3 py-2 bg-gold rounded-xl",children:"Apply"})]})]})]}),e&&s.jsx("div",{className:"text-red-600",children:e}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3",children:[s.jsx(ds,{title:"Total Leads",value:k.totalLeads}),s.jsx(ds,{title:"Leads from Meta",value:k.sourceCounts.meta}),s.jsx(ds,{title:"Leads from LinkedIn",value:k.sourceCounts.linkedin}),s.jsx(ds,{title:"Manual Leads",value:k.sourceCounts.manual}),s.jsx(ds,{title:"Total Expense",value:Kt(k.totalExpense)})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"col-span-2 bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("h3",{className:"text-sm text-royal mb-2",children:"Leads Over Time"}),s.jsx(sx,{data:k.series})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("h3",{className:"text-sm text-royal mb-2",children:"Lead Source Distribution"}),s.jsx(lx,{parts:k.sourceCounts})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"col-span-2 bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("h3",{className:"text-sm text-royal mb-2",children:"My Pending Tasks"}),k.pendingTasks&&k.pendingTasks.length>0?s.jsx("ul",{className:"space-y-2",children:k.pendingTasks.slice(0,8).map(v=>{var b;return s.jsxs("li",{className:`p-2 rounded-md border ${new Date(v.deadline)<new Date?"bg-red-50":"bg-white"}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-medium text-sm",children:v.title}),s.jsx("div",{className:"text-xs text-royal/70",children:new Date(v.deadline).toLocaleDateString()})]}),s.jsxs("div",{className:"text-xs text-royal/60",children:[v.category||""," ",(b=v.assignedTo)!=null&&b.name?`• ${v.assignedTo.name}`:""]})]},v._id)})}):s.jsx("div",{className:"text-royal/70",children:"No pending tasks"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("h3",{className:"text-sm text-royal mb-2",children:"Total Content Published"}),s.jsx("div",{className:"text-3xl font-extrabold",children:k.contentPublished}),s.jsx("div",{className:"text-xs text-royal/70 mt-2",children:"(Based on completed tasks with category containing 'content')"})]})]})]})}function ds({title:e,value:t}){return s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("div",{className:"text-royal text-sm",children:e}),s.jsx("div",{className:"text-2xl font-extrabold mt-1",children:t})]})}function sx({data:e}){if(!e||e.length===0)return s.jsx("div",{className:"text-royal/70",children:"No data"});const r=Math.max(...e.map(o=>o.value)),a=(600-24*2)/Math.max(1,e.length-1),i=e.map((o,c)=>{const u=24+c*a,g=156-(r?o.value/r*(180-24*2):0);return`${u},${g}`}).join(" ");return s.jsxs("svg",{viewBox:"0 0 600 180",className:"w-full h-44",children:[s.jsx("polyline",{fill:"none",stroke:"#3b82f6",strokeWidth:"2",points:i}),e.map((o,c)=>{const u=24+c*a,g=156-(r?o.value/r*(180-24*2):0);return s.jsx("circle",{cx:u,cy:g,r:3,fill:"#1e40af"},o.date)})]})}function lx({parts:e}){const t=Object.values(e||{}).reduce((c,u)=>c+(u||0),0),n=Object.entries(e||{});if(t===0)return s.jsx("div",{className:"text-royal/70",children:"No data"});let l=0;const r=120,a=r/2,i=r/2,o=r/2-2;return s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("svg",{width:r,height:r,viewBox:`0 0 ${r} ${r}`,children:n.map(([c,u],g)=>{const p=l/t*Math.PI*2;l+=u||0;const h=l/t*Math.PI*2,j=a+o*Math.cos(p-Math.PI/2),w=i+o*Math.sin(p-Math.PI/2),N=a+o*Math.cos(h-Math.PI/2),S=i+o*Math.sin(h-Math.PI/2),x=h-p>Math.PI?1:0,d=`M ${a} ${i} L ${j} ${w} A ${o} ${o} 0 ${x} 1 ${N} ${S} Z`,m=["#3b82f6","#06b6d4","#f59e0b","#ef4444"];return s.jsx("path",{d,fill:m[g%m.length],stroke:"#fff",strokeWidth:"1"},c)})}),s.jsx("div",{className:"flex flex-col text-sm",children:n.map(([c,u],g)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{style:{width:12,height:12,background:["#3b82f6","#06b6d4","#f59e0b","#ef4444"][g%4]},className:"inline-block rounded-sm"})," ",s.jsx("span",{className:"capitalize",children:c.replace(/([A-Z])/g," $1")}),": ",s.jsx("strong",{className:"ml-1",children:u})]},c))})]})}function rx(){const[e,t]=f.useState(0);return f.useEffect(()=>{(async()=>{const n=await A.listMyTasks().catch(()=>[]);t((n||[]).filter(l=>(l.status||"").toLowerCase()!=="done").length)})()},[]),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-xl font-bold text-navy",children:"My Dashboard"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("div",{className:"text-royal text-sm",children:"My Open Tasks"}),s.jsx("div",{className:"text-3xl font-extrabold",children:e})]})})]})}function ax(){const{user:e}=ue(),t=e==null?void 0:e.role;return t==="SuperAdmin"||t==="Admin"?s.jsx(Zp,{}):t==="Accountant"?s.jsx(qu,{}):t==="Recruitment"?s.jsx(Zu,{}):t==="MotionGraphics"?s.jsx(em,{}):t==="Admission"?s.jsx(tm,{}):t==="DigitalMarketing"?s.jsx(nm,{}):s.jsx(rx,{})}function ix(){const{user:e,updateMe:t}=ue(),[n,l]=f.useState((e==null?void 0:e.name)||""),[r,a]=f.useState((e==null?void 0:e.avatar)||""),[i,o]=f.useState(""),[c,u]=f.useState(""),[g,p]=f.useState(null),[h,j]=f.useState(null),w=async N=>{N.preventDefault(),p(null),j(null);try{const S={name:n,avatar:r};c&&(S.currentPassword=i,S.newPassword=c),await t(S),p("Profile updated"),o(""),u("")}catch(S){j((S==null?void 0:S.message)||"Update failed")}};return s.jsxs("div",{className:"max-w-2xl",children:[s.jsx("h1",{className:"text-2xl font-bold text-navy mb-4",children:"Edit Profile"}),g&&s.jsx("div",{className:"mb-3 text-green-700",children:g}),h&&s.jsx("div",{className:"mb-3 text-red-600",children:h}),s.jsxs("form",{onSubmit:w,className:"bg-white shadow-soft rounded-2xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:r,alt:"avatar",className:"w-20 h-20 rounded-full object-cover border-2 border-gold"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Avatar URL"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2",value:r,onChange:N=>a(N.target.value)})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Full Name"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2",value:n,onChange:N=>l(N.target.value)})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Current Password"}),s.jsx("input",{type:"password",className:"w-full border rounded-xl px-3 py-2",value:i,onChange:N=>o(N.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"New Password"}),s.jsx("input",{type:"password",className:"w-full border rounded-xl px-3 py-2",value:c,onChange:N=>u(N.target.value)})]})]}),s.jsx("button",{className:"mt-6 bg-gold text-navy rounded-xl px-5 py-2 font-semibold hover:bg-lightgold",children:"Save Changes"})]})]})}const ox=e=>new Date(e).toISOString().slice(0,16),vc=(e=3)=>{const t=new Date;return t.setDate(t.getDate()+e),ox(t)};function cx(){const{user:e}=ue(),[t,n]=f.useState([]),[l,r]=f.useState([]),[a,i]=f.useState("InProgress"),[o,c]=f.useState(!1),[u,g]=f.useState({title:"",description:"",category:"",assignedTo:"",deadline:vc(3)}),[p,h]=f.useState(null),[j,w]=f.useState(null),N=(e==null?void 0:e.role)==="SuperAdmin"||(e==null?void 0:e.role)==="Admin",S=async()=>{try{const{users:y}=await A.listUsers();n(y)}catch{}},x=async()=>{try{const{tasks:y}=await A.listAllTasks(a);r(y)}catch{}};f.useEffect(()=>{N&&S()},[N]),f.useEffect(()=>{N&&x()},[a,N]);const d=f.useMemo(()=>t.filter(y=>y.role!=="SuperAdmin"),[t]),m=async y=>{y.preventDefault(),h(null),w(null);try{await A.assignTask({...u}),c(!1),g({title:"",description:"",category:"",assignedTo:"",deadline:vc(3)}),w("Task assigned"),x()}catch(k){h((k==null?void 0:k.message)||"Failed to assign")}};return N?s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-navy",children:"Assign Task"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("select",{value:a,onChange:y=>i(y.target.value),className:"border rounded-xl px-3 py-2",children:[s.jsx("option",{value:"InProgress",children:"In Progress"}),s.jsx("option",{value:"Completed",children:"Completed"})]}),s.jsx("button",{onClick:()=>c(!0),className:"bg-gold text-navy rounded-xl px-4 py-2 font-semibold hover:bg-lightgold",children:"+ Assign Task"})]})]}),j&&s.jsx("div",{className:"mb-2 text-green-700",children:j}),p&&s.jsx("div",{className:"mb-2 text-red-600",children:p}),s.jsx("div",{className:"bg-white rounded-2xl shadow-soft overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-[#f3f6ff] text-royal",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-3",children:"Task"}),s.jsx("th",{className:"text-left p-3",children:"Assignee"}),s.jsx("th",{className:"text-left p-3",children:"Assigned By"})," ",s.jsx("th",{className:"text-left p-3",children:"Status"}),s.jsx("th",{className:"text-left p-3",children:"Deadline"})]})}),s.jsxs("tbody",{children:[l.map(y=>{var k,v,b,C;return s.jsxs("tr",{className:"border-t",children:[s.jsxs("td",{className:"p-3",children:[s.jsx("div",{className:"font-semibold text-navy",children:y.title}),y.description&&s.jsx("div",{className:"text-royal/80",children:y.description}),y.category&&s.jsxs("div",{className:"text-xs text-royal/70 mt-1",children:["Category: ",y.category]})]}),s.jsxs("td",{className:"p-3",children:[(k=y.assignedTo)==null?void 0:k.name," ",s.jsxs("span",{className:"text-xs text-royal/70",children:["(",(v=y.assignedTo)==null?void 0:v.role,")"]})]}),s.jsxs("td",{className:"p-3",children:[(b=y.assignedBy)==null?void 0:b.name," ",s.jsxs("span",{className:"text-xs text-royal/70",children:["(",(C=y.assignedBy)==null?void 0:C.role,")"]})]})," ",s.jsx("td",{className:"p-3",children:y.status==="InProgress"?"In Progress":"Completed"}),s.jsx("td",{className:"p-3",children:new Date(y.deadline).toLocaleString()})]},y._id)}),l.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"p-4 text-royal/70",colSpan:"5",children:"No tasks"})})]})]})}),o&&s.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center p-4",children:s.jsxs("form",{onSubmit:m,className:"bg-white rounded-2xl shadow-soft p-4 w-full max-w-xl",children:[s.jsx("h2",{className:"text-xl font-bold text-navy mb-3",children:"Assign Task"}),s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Title *"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2 mb-3",value:u.title,onChange:y=>g(k=>({...k,title:y.target.value})),required:!0}),s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Description"}),s.jsx("textarea",{className:"w-full border rounded-xl px-3 py-2 mb-3",rows:"3",value:u.description,onChange:y=>g(k=>({...k,description:y.target.value}))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Category"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2",value:u.category,onChange:y=>g(k=>({...k,category:y.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Assign To *"}),s.jsxs("select",{className:"w-full border rounded-xl px-3 py-2",value:u.assignedTo,onChange:y=>g(k=>({...k,assignedTo:y.target.value})),required:!0,children:[s.jsx("option",{value:"",disabled:!0,children:"Select user"}),d.map(y=>s.jsxs("option",{value:y._id,children:[y.name," — ",y.role]},y._id))]})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Deadline *"}),s.jsx("input",{type:"datetime-local",className:"w-full border rounded-xl px-3 py-2",value:u.deadline,onChange:y=>g(k=>({...k,deadline:y.target.value})),required:!0})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 rounded-xl border",children:"Cancel"}),s.jsx("button",{className:"px-4 py-2 rounded-xl bg-gold text-navy font-semibold hover:bg-lightgold",children:"Assign"})]})]})})]}):s.jsx("div",{className:"text-royal",children:"You do not have permission to view this page."})}const dx=3,jc=e=>new Date(e).toLocaleString(),ux=e=>new Date(e).toISOString().slice(0,16),Nc=(e=3)=>{const t=new Date;return t.setDate(t.getDate()+e),ux(t)},mx=(e,t,n)=>{if(t==="Completed")return n&&new Date(n)<=new Date(e)?"bg-green-50":"bg-red-50";const l=new Date,r=new Date(e),a=Math.floor((r-l)/(1e3*60*60*24));return a<=0?"bg-red-50":a<=dx?"bg-yellow-50":""};function fx(){const{user:e}=ue(),[t,n]=f.useState([]),[l,r]=f.useState("InProgress"),[a,i]=f.useState(!1),[o,c]=f.useState(null),[u,g]=f.useState(null),[p,h]=f.useState({title:"",description:"",category:"",deadline:Nc(3)}),j=e&&e.role!=="SuperAdmin",w=async()=>{try{const{tasks:x}=await A.listMyTasks(l);n(x)}catch{}};f.useEffect(()=>{j&&w()},[l,j]);const N=async x=>{try{const d=x.status==="InProgress"?"Completed":"InProgress";await A.updateTaskStatus(x._id,d),g("Status updated"),w()}catch(d){c((d==null?void 0:d.message)||"Failed to update")}},S=async x=>{x.preventDefault(),c(null),g(null);try{await A.addSelfTask({...p}),i(!1),h({title:"",description:"",category:"",deadline:Nc(3)}),g("Task added"),w()}catch(d){c((d==null?void 0:d.message)||"Failed to add")}};return j?s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-navy",children:"My Task"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("select",{value:l,onChange:x=>r(x.target.value),className:"border rounded-xl px-3 py-2",children:[s.jsx("option",{value:"InProgress",children:"In Progress"}),s.jsx("option",{value:"Completed",children:"Completed"})]}),s.jsx("button",{onClick:()=>i(!0),className:"bg-gold text-navy rounded-xl px-4 py-2 font-semibold hover:bg-lightgold",children:"+ Add My Task"})]})]}),u&&s.jsx("div",{className:"mb-2 text-green-700",children:u}),o&&s.jsx("div",{className:"mb-2 text-red-600",children:o}),s.jsx("div",{className:"bg-white rounded-2xl shadow-soft overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-[#f3f6ff] text-royal",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-3",children:"Task"}),s.jsx("th",{className:"text-left p-3",children:"Assigned By"})," ",s.jsx("th",{className:"text-left p-3",children:"Status"}),s.jsx("th",{className:"text-left p-3",children:"Deadline"}),s.jsx("th",{className:"text-left p-3",children:"Completed"}),s.jsx("th",{className:"text-left p-3",children:"Action"})]})}),s.jsxs("tbody",{children:[t.map(x=>{var d,m;return s.jsxs("tr",{className:`border-t ${mx(x.deadline,x.status,x.completedAt)}`,children:[s.jsxs("td",{className:"p-3",children:[s.jsx("div",{className:"font-semibold text-navy",children:x.title}),x.description&&s.jsx("div",{className:"text-royal/80",children:x.description}),x.category&&s.jsxs("div",{className:"text-xs text-royal/70 mt-1",children:["Category: ",x.category]})]}),s.jsxs("td",{className:"p-3",children:[(d=x.assignedBy)==null?void 0:d.name,s.jsxs("span",{className:"text-xs text-royal/70",children:[" (",(m=x.assignedBy)==null?void 0:m.role,")"]})]}),s.jsx("td",{className:"p-3",children:x.status==="InProgress"?"In Progress":"Completed"}),s.jsx("td",{className:"p-3",children:jc(x.deadline)}),s.jsx("td",{className:"p-3",children:x.completedAt?jc(x.completedAt):"-"}),s.jsx("td",{className:"p-3",children:s.jsx("button",{onClick:()=>N(x),className:"px-3 py-1 rounded-lg border hover:bg-[#f3f6ff]",children:x.status==="InProgress"?"Mark Completed":"Mark In-Progress"})})]},x._id)}),t.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"p-4 text-royal/70",colSpan:"6",children:"No tasks"})})]})]})}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center p-4",children:s.jsxs("form",{onSubmit:S,className:"bg-white rounded-2xl shadow-soft p-4 w-full max-w-xl",children:[s.jsx("h2",{className:"text-xl font-bold text-navy mb-3",children:"Add My Task"}),s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Title *"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2 mb-3",value:p.title,onChange:x=>h(d=>({...d,title:x.target.value})),required:!0}),s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Description"}),s.jsx("textarea",{className:"w-full border rounded-xl px-3 py-2 mb-3",rows:"3",value:p.description,onChange:x=>h(d=>({...d,description:x.target.value}))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Category"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2",value:p.category,onChange:x=>h(d=>({...d,category:x.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Deadline *"}),s.jsx("input",{type:"datetime-local",className:"w-full border rounded-xl px-3 py-2",value:p.deadline,onChange:x=>h(d=>({...d,deadline:x.target.value})),required:!0})]})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 rounded-xl border",children:"Cancel"}),s.jsx("button",{className:"px-4 py-2 rounded-xl bg-gold text-navy font-semibold hover:bg-lightgold",children:"Add"})]})]})})]}):s.jsx("div",{className:"text-royal",children:"Super Admin has no My Task."})}function hx(){const{user:e}=ue(),[t,n]=f.useState([]),[l,r]=f.useState(!1),[a,i]=f.useState(null),[o,c]=f.useState({name:"",email:"",role:"Admission",department:"",designation:"",phone:"",avatar:""}),[u,g]=f.useState(null),[p,h]=f.useState(null),j=(e==null?void 0:e.role)==="Admin",w=async()=>{try{const{users:m}=await A.listUsers();n(m)}catch(m){g((m==null?void 0:m.message)||"Failed to load")}};f.useEffect(()=>{w()},[]);const N=()=>{i(null),c({name:"",email:"",role:"Admission",department:"",designation:"",phone:"",avatar:""}),r(!0)},S=m=>{i(m._id),c({name:m.name||"",email:m.email||"",role:m.role||"Admission",department:m.department||"",designation:m.designation||"",phone:m.phone||"",avatar:m.avatar||""}),r(!0)},x=async m=>{m.preventDefault(),g(null),h(null);try{a?(await A.updateUser(a,{...o}),h("Employee updated")):(await A.createUser({...o,password:"password123"}),h("Employee created (default password: password123)")),r(!1),w()}catch(y){g((y==null?void 0:y.message)||"Failed")}},d=async m=>{if(confirm("Delete this employee?"))try{await A.deleteUser(m),h("Employee deleted"),w()}catch(y){g((y==null?void 0:y.message)||"Delete failed")}};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-navy",children:"Employee List"}),j&&s.jsx("button",{onClick:N,className:"bg-gold text-navy rounded-xl px-4 py-2 font-semibold hover:bg-lightgold",children:"+ Add Employee"})]}),p&&s.jsx("div",{className:"mb-2 text-green-700",children:p}),u&&s.jsx("div",{className:"mb-2 text-red-600",children:u}),s.jsx("div",{className:"bg-white rounded-2xl shadow-soft overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-[#f3f6ff] text-royal",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-3",children:"Name"}),s.jsx("th",{className:"text-left p-3",children:"Role"}),s.jsx("th",{className:"text-left p-3",children:"Department"}),s.jsx("th",{className:"text-left p-3",children:"Designation"}),s.jsx("th",{className:"text-left p-3",children:"Email"}),s.jsx("th",{className:"text-left p-3",children:"Phone"}),j&&s.jsx("th",{className:"text-left p-3",children:"Action"})]})}),s.jsxs("tbody",{children:[t.map(m=>s.jsxs("tr",{className:"border-t",children:[s.jsxs("td",{className:"p-3 flex items-center gap-2",children:[s.jsx("img",{src:m.avatar,className:"w-8 h-8 rounded-full border"}),s.jsx("div",{children:s.jsx("div",{className:"font-semibold text-navy",children:m.name})})]}),s.jsx("td",{className:"p-3",children:m.role}),s.jsx("td",{className:"p-3",children:m.department||"-"}),s.jsx("td",{className:"p-3",children:m.designation||"-"}),s.jsx("td",{className:"p-3",children:m.email}),s.jsx("td",{className:"p-3",children:m.phone||"-"}),j&&s.jsxs("td",{className:"p-3",children:[s.jsx("button",{onClick:()=>S(m),className:"px-3 py-1 rounded-lg border mr-2",children:"Edit"}),m.role!=="SuperAdmin"&&s.jsx("button",{onClick:()=>d(m._id),className:"px-3 py-1 rounded-lg border hover:bg-red-50",children:"Delete"})]})]},m._id)),t.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"p-4 text-royal/70",colSpan:j?7:6,children:"No employees"})})]})]})}),l&&s.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center p-4",children:s.jsxs("form",{onSubmit:x,className:"bg-white rounded-2xl shadow-soft p-4 w-full max-w-xl",children:[s.jsx("h2",{className:"text-xl font-bold text-navy mb-3",children:a?"Edit Employee":"Add Employee"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Name *"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2",required:!0,value:o.name,onChange:m=>c(y=>({...y,name:m.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Email *"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2",required:!0,type:"email",value:o.email,onChange:m=>c(y=>({...y,email:m.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Role *"}),s.jsxs("select",{className:"w-full border rounded-xl px-3 py-2",value:o.role,onChange:m=>c(y=>({...y,role:m.target.value})),children:[s.jsx("option",{children:"Admin"}),s.jsx("option",{children:"Accountant"}),s.jsx("option",{children:"Admission"}),s.jsx("option",{children:"Recruitment"}),s.jsx("option",{children:"DigitalMarketing"}),s.jsx("option",{children:"MotionGraphics"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Department"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2",value:o.department,onChange:m=>c(y=>({...y,department:m.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Designation"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2",value:o.designation,onChange:m=>c(y=>({...y,designation:m.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Phone"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2",value:o.phone,onChange:m=>c(y=>({...y,phone:m.target.value}))})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Avatar URL"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2",value:o.avatar,onChange:m=>c(y=>({...y,avatar:m.target.value}))})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-4 py-2 rounded-xl border",children:"Cancel"}),j&&s.jsx("button",{className:"px-4 py-2 rounded-xl bg-gold text-navy font-semibold hover:bg-lightgold",children:a?"Save":"Create"})]})]})})]})}function px(){const{user:e}=ue(),[t,n]=f.useState([]),[l,r]=f.useState(!1),[a,i]=f.useState(!1),[o,c]=f.useState(null),[u,g]=f.useState(null),[p,h]=f.useState({name:"",category:"",duration:"",regularFee:0,discountFee:0,teacher:"",details:"",status:"Active"}),[j,w]=f.useState(null),[N,S]=f.useState(null),x=(e==null?void 0:e.role)==="Admin"||(e==null?void 0:e.role)==="SuperAdmin",d=async()=>{try{const{courses:C}=await A.listCourses();n(C)}catch(C){w((C==null?void 0:C.message)||"Failed to load")}};f.useEffect(()=>{d()},[]);const m=()=>{g(null),h({name:"",category:"",duration:"",regularFee:0,discountFee:0,teacher:"",details:"",status:"Active"}),r(!0)},y=C=>{c(C),i(!0)},k=C=>{g(C._id),h({name:C.name,category:C.category,duration:C.duration,regularFee:C.regularFee,discountFee:C.discountFee,teacher:C.teacher,details:C.details,status:C.status}),r(!0)},v=async C=>{C.preventDefault(),w(null),S(null);try{u?(await A.updateCourse(u,{...p}),S("Course updated")):(await A.createCourse({...p}),S("Course created")),r(!1),d()}catch(L){w((L==null?void 0:L.message)||"Failed")}},b=async C=>{if(confirm("Delete this course?"))try{await A.deleteCourse(C),S("Course deleted"),d()}catch(L){w((L==null?void 0:L.message)||"Delete failed")}};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-navy",children:"Courses"}),x&&s.jsx("button",{onClick:m,className:"bg-gold text-navy rounded-xl px-4 py-2 font-semibold hover:bg-lightgold",children:"+ Add Course"})]}),N&&s.jsx("div",{className:"mb-2 text-green-700",children:N}),j&&s.jsx("div",{className:"mb-2 text-red-600",children:j}),s.jsx("div",{className:"bg-white rounded-2xl shadow-soft overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-[#f3f6ff] text-royal",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-3",children:"Course ID"}),s.jsx("th",{className:"text-left p-3",children:"Name"}),s.jsx("th",{className:"text-left p-3",children:"Category"}),s.jsx("th",{className:"text-left p-3",children:"Duration"}),s.jsx("th",{className:"text-left p-3",children:"Regular Fee"}),s.jsx("th",{className:"text-left p-3",children:"Discount Fee"}),s.jsx("th",{className:"text-left p-3",children:"Teacher"}),s.jsx("th",{className:"text-left p-3",children:"Status"}),s.jsx("th",{className:"text-left p-3",children:"Action"})]})}),s.jsxs("tbody",{children:[t.map(C=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-3",children:C.courseId}),s.jsx("td",{className:"p-3 font-semibold text-navy",children:C.name}),s.jsx("td",{className:"p-3",children:C.category||"-"}),s.jsx("td",{className:"p-3",children:C.duration||"-"}),s.jsxs("td",{className:"p-3",children:["৳ ",C.regularFee]}),s.jsxs("td",{className:"p-3",children:["৳ ",C.discountFee]}),s.jsx("td",{className:"p-3",children:C.teacher||"-"}),s.jsx("td",{className:"p-3",children:C.status}),s.jsxs("td",{className:"p-3",children:[s.jsx("button",{onClick:()=>y(C),className:"px-3 py-1 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 mr-2",children:"View"}),x&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>k(C),className:"px-3 py-1 rounded-lg border mr-2",children:"Edit"}),s.jsx("button",{onClick:()=>b(C._id),className:"px-3 py-1 rounded-lg border hover:bg-red-50",children:"Delete"})]})]})]},C._id)),t.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"p-4 text-royal/70",colSpan:"9",children:"No courses"})})]})]})}),l&&s.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center p-4",children:s.jsxs("form",{onSubmit:v,className:"bg-white rounded-2xl shadow-soft p-4 w-full max-w-2xl",children:[s.jsx("h2",{className:"text-xl font-bold text-navy mb-3",children:u?"Edit Course":"Add Course"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Course Name *"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2",required:!0,value:p.name,onChange:C=>h(L=>({...L,name:C.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Category"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2",value:p.category,onChange:C=>h(L=>({...L,category:C.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Duration"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2",value:p.duration,onChange:C=>h(L=>({...L,duration:C.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Regular Fee"}),s.jsx("input",{type:"number",className:"w-full border rounded-xl px-3 py-2",value:p.regularFee,onChange:C=>h(L=>({...L,regularFee:C.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Discount Fee"}),s.jsx("input",{type:"number",className:"w-full border rounded-xl px-3 py-2",value:p.discountFee,onChange:C=>h(L=>({...L,discountFee:C.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Teacher"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2",value:p.teacher,onChange:C=>h(L=>({...L,teacher:C.target.value}))})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Details"}),s.jsx("textarea",{rows:"3",className:"w-full border rounded-xl px-3 py-2",value:p.details,onChange:C=>h(L=>({...L,details:C.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Status"}),s.jsxs("select",{className:"w-full border rounded-xl px-3 py-2",value:p.status,onChange:C=>h(L=>({...L,status:C.target.value})),children:[s.jsx("option",{children:"Active"}),s.jsx("option",{children:"Inactive"})]})]})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-4 py-2 rounded-xl border",children:"Cancel"}),x&&s.jsx("button",{className:"px-4 py-2 rounded-xl bg-gold text-navy font-semibold hover:bg-lightgold",children:u?"Save":"Create"})]})]})}),a&&o&&s.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-soft p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-navy",children:"Course Details"}),s.jsx("button",{onClick:()=>i(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"×"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Course ID"}),s.jsx("div",{className:"text-lg font-semibold text-navy",children:o.courseId})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Status"}),s.jsx("div",{className:`text-lg font-semibold ${o.status==="Active"?"text-green-600":"text-gray-600"}`,children:o.status})]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl",children:[s.jsx("div",{className:"text-sm text-blue-600 mb-1",children:"Course Name"}),s.jsx("div",{className:"text-xl font-bold text-navy",children:o.name})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Category"}),s.jsx("div",{className:"text-lg font-semibold text-navy",children:o.category||"Not specified"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Duration"}),s.jsx("div",{className:"text-lg font-semibold text-navy",children:o.duration||"Not specified"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-xl border-2 border-yellow-200",children:[s.jsx("div",{className:"text-sm text-yellow-700 mb-1",children:"Regular Fee"}),s.jsxs("div",{className:"text-2xl font-bold text-yellow-800",children:["৳ ",o.regularFee.toLocaleString()]})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-xl border-2 border-green-200",children:[s.jsx("div",{className:"text-sm text-green-700 mb-1",children:"Discount Fee"}),s.jsxs("div",{className:"text-2xl font-bold text-green-800",children:["৳ ",o.discountFee.toLocaleString()]}),o.regularFee>o.discountFee&&s.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Save ৳",(o.regularFee-o.discountFee).toLocaleString()]})]})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl",children:[s.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Teacher/Instructor"}),s.jsx("div",{className:"text-lg font-semibold text-purple-800",children:o.teacher||"Not assigned"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Course Details"}),s.jsx("div",{className:"text-gray-800 whitespace-pre-wrap",children:o.details||"No details provided"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-gray-500",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Created:"})," ",new Date(o.createdAt).toLocaleString()]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Updated:"})," ",new Date(o.updatedAt).toLocaleString()]})]})]}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsx("button",{onClick:()=>i(!1),className:"px-6 py-2 rounded-xl bg-navy text-white font-semibold hover:bg-navy/90",children:"Close"})})]})})]})}function xx(){return new Date().toISOString().slice(0,10)}function gx(){const e=new Date;return new Date(e.getFullYear(),e.getMonth(),1).toISOString().slice(0,10)}function yx(e){const t=Object.keys(e[0]||{});return[t.join(","),...e.map(l=>t.map(r=>JSON.stringify(l[r]??"")).join(","))].join(`
`)}function vx(){const[e,t]=f.useState(gx()),[n,l]=f.useState(xx()),[r,a]=f.useState(null),[i,o]=f.useState(!0),[c,u]=f.useState(""),g=async()=>{o(!0);try{const w=await A.reportsOverview(e,n);a(w),u("")}catch(w){u(w.message||"Failed to load")}finally{o(!1)}};f.useEffect(()=>{g()},[]);const p=w=>{w.preventDefault(),g()},h=f.useMemo(()=>r?[{title:"Accounting — Income",val:r.accounting.income},{title:"Accounting — Expense",val:r.accounting.expense},{title:"Accounting — Net",val:r.accounting.net},{title:"Admission — Collected",val:r.admission.collected},{title:"Recruitment — Income",val:r.recruitment.income},{title:"Recruitment — Expense",val:r.recruitment.expense},{title:"Recruitment — Net",val:r.recruitment.net},{title:"Digital Marketing — Cost",val:r.dm.cost},{title:"Combined — Income",val:r.combined.income},{title:"Combined — Expense",val:r.combined.expense},{title:"Combined — Net",val:r.combined.net}]:[],[r]),j=f.useMemo(()=>{if(!r)return"";const w=[{Section:"Accounting",Metric:"Income",Amount:r.accounting.income},{Section:"Accounting",Metric:"Expense",Amount:r.accounting.expense},{Section:"Accounting",Metric:"Net",Amount:r.accounting.net},{Section:"Admission",Metric:"Collected",Amount:r.admission.collected},{Section:"Recruitment",Metric:"Income",Amount:r.recruitment.income},{Section:"Recruitment",Metric:"Expense",Amount:r.recruitment.expense},{Section:"Recruitment",Metric:"Net",Amount:r.recruitment.net},{Section:"Digital Marketing",Metric:"Cost",Amount:r.dm.cost},{Section:"Combined",Metric:"Income",Amount:r.combined.income},{Section:"Combined",Metric:"Expense",Amount:r.combined.expense},{Section:"Combined",Metric:"Net",Amount:r.combined.net}],N=new Blob([yx(w)],{type:"text/csv;charset=utf-8;"});return URL.createObjectURL(N)},[r]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-xl font-bold text-navy",children:"Consolidated Reports"}),s.jsxs("form",{onSubmit:p,className:"flex items-center gap-2",children:[s.jsx("input",{type:"date",className:"input",value:e,onChange:w=>t(w.target.value)}),s.jsx("span",{className:"text-royal",children:"to"}),s.jsx("input",{type:"date",className:"input",value:n,onChange:w=>l(w.target.value)}),s.jsx("button",{className:"btn btn-primary",children:"Apply"}),j&&s.jsx("a",{className:"btn",href:j,download:`reports_${e}_to_${n}.csv`,children:"Export CSV"})]})]}),c&&s.jsx("div",{className:"text-red-600",children:c}),i&&s.jsx("div",{children:"Loading…"}),r&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:h.map((w,N)=>s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("div",{className:"text-royal text-sm",children:w.title}),s.jsx("div",{className:`text-2xl font-extrabold ${w.title.includes("Net")?w.val>=0?"text-green-600":"text-red-600":"text-navy"}`,children:Kt(w.val)})]},N))}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("div",{className:"font-semibold text-navy mb-2",children:"Summary"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-royal",children:[s.jsx("th",{className:"py-2",children:"Section"}),s.jsx("th",{children:"Metric"}),s.jsx("th",{children:"Amount"})]})}),s.jsxs("tbody",{children:[s.jsx(qe,{s:"Accounting",m:"Income",a:r.accounting.income}),s.jsx(qe,{s:"Accounting",m:"Expense",a:r.accounting.expense}),s.jsx(qe,{s:"Accounting",m:"Net",a:r.accounting.net}),s.jsx(qe,{s:"Admission",m:"Collected",a:r.admission.collected}),s.jsx(qe,{s:"Recruitment",m:"Income",a:r.recruitment.income}),s.jsx(qe,{s:"Recruitment",m:"Expense",a:r.recruitment.expense}),s.jsx(qe,{s:"Recruitment",m:"Net",a:r.recruitment.net}),s.jsx(qe,{s:"Digital Marketing",m:"Cost",a:r.dm.cost}),s.jsx(qe,{s:"Combined",m:"Income",a:r.combined.income}),s.jsx(qe,{s:"Combined",m:"Expense",a:r.combined.expense}),s.jsx(qe,{s:"Combined",m:"Net",a:r.combined.net})]})]})})]})]})]})}function qe({s:e,m:t,a:n}){return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"py-2",children:e}),s.jsx("td",{children:t}),s.jsx("td",{className:"font-semibold",children:Kt(n)})]})}function vl(e){if(!e)return"-";try{return new Date(e).toLocaleString()}catch{return e}}function jx(){const{user:e}=ue(),[t,n]=f.useState("All Leads"),[l,r]=f.useState([]),[a,i]=f.useState(null),[o,c]=f.useState(!1),[u,g]=f.useState(null),[p,h]=f.useState(!1),j=async()=>{try{const w=t==="All Leads"?void 0:t,N=await A.listLeads(w);r((N==null?void 0:N.leads)||[]),i(null)}catch(w){i(w.message)}};return f.useEffect(()=>{j()},[t]),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-navy",children:"Leads Center (View-only)"}),s.jsxs("select",{value:t,onChange:w=>n(w.target.value),className:"border rounded-xl px-3 py-2",children:[s.jsx("option",{children:"All Leads"}),s.jsx("option",{children:"Assigned"}),s.jsx("option",{children:"Counseling"}),s.jsx("option",{children:"In Follow Up"}),s.jsx("option",{children:"Admitted"}),s.jsx("option",{children:"Not Admitted"})]})]}),a&&s.jsx("div",{className:"mb-2 text-red-600",children:a}),s.jsx("div",{className:"bg-white rounded-2xl shadow-soft overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-[#f3f6ff] text-royal",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-3",children:"Lead ID"}),s.jsx("th",{className:"text-left p-3",children:"Name"}),s.jsx("th",{className:"text-left p-3",children:"Phone / Email"}),s.jsx("th",{className:"text-left p-3",children:"Interested Course"}),s.jsx("th",{className:"text-left p-3",children:"Source"}),s.jsx("th",{className:"text-left p-3",children:"Assigned To"}),((e==null?void 0:e.role)==="Admin"||(e==null?void 0:e.role)==="SuperAdmin"||(e==null?void 0:e.role)==="Admission")&&s.jsx("th",{className:"text-left p-3",children:"History"})]})}),s.jsxs("tbody",{children:[l.map(w=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-3",children:w.leadId}),s.jsx("td",{className:"p-3",children:w.name}),s.jsxs("td",{className:"p-3",children:[s.jsx("div",{children:w.phone}),s.jsx("div",{className:"text-xs text-royal/70",children:w.email||"-"})]}),s.jsx("td",{className:"p-3",children:w.interestedCourse||"-"}),s.jsx("td",{className:"p-3",children:w.source}),s.jsx("td",{className:"p-3",children:w.assignedTo?`${w.assignedTo.name} (${w.assignedTo.role})`:"-"}),((e==null?void 0:e.role)==="Admin"||(e==null?void 0:e.role)==="SuperAdmin"||(e==null?void 0:e.role)==="Admission")&&s.jsx("td",{className:"p-3",children:s.jsx("button",{disabled:p,onClick:async()=>{try{i(null),h(!0);const N=await A.getLeadHistory(w._id);g(N.lead||N),c(!0)}catch(N){i(N.message)}finally{h(!1)}},className:"px-3 py-1 rounded-xl border hover:bg-[#f3f6ff]",children:p?"Loading…":"History"})})]},w._id)),l.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"p-4 text-royal/70",colSpan:6,children:"No leads"})})]})]})}),o&&u&&s.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[s.jsx("div",{className:"absolute inset-0 bg-black opacity-30",onClick:()=>c(!1)}),s.jsxs("div",{className:"bg-white rounded-xl p-4 z-10 w-full max-w-2xl shadow-lg",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Lead History — ",u.leadId]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsxs("div",{children:["Assigned At: ",s.jsx("strong",{children:vl(u.assignedAt||u.updatedAt)})]}),s.jsxs("div",{children:["Counseling At: ",s.jsx("strong",{children:vl(u.counselingAt||u.updatedAt)})]}),s.jsxs("div",{children:["Admitted At: ",s.jsx("strong",{children:vl(u.admittedAt||u.updatedAt)})]}),s.jsxs("div",{children:["Follow-ups (",(u.followUps||[]).length,"):"]}),s.jsx("div",{className:"pl-2",children:(u.followUps||[]).length===0?s.jsx("div",{className:"text-royal/70",children:"No follow-ups"}):(u.followUps||[]).map((w,N)=>{var S;return s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"text-sm font-medium",children:[vl(w.at)," ",(S=w.by)!=null&&S.name?` — ${w.by.name}`:""]}),s.jsx("div",{className:"text-royal/70",children:w.note||"-"})]},N)})})]}),s.jsx("div",{className:"mt-4 text-right",children:s.jsx("button",{onClick:()=>c(!1),className:"px-3 py-2 rounded-xl border",children:"Close"})})]})]})]})}function Nx(){const{user:e}=ue(),[t,n]=f.useState({name:"",phone:"",email:"",interestedCourse:"",source:"Manually Generated Lead"}),[l,r]=f.useState(""),[a,i]=f.useState(null),[o,c]=f.useState(null),[u,g]=f.useState(null),p=(e==null?void 0:e.role)==="DigitalMarketing",h=async w=>{w.preventDefault(),i(null),c(null);try{await A.createLead(t),i("Lead added"),n({name:"",phone:"",email:"",interestedCourse:"",source:"Manually Generated Lead"})}catch(N){c(N.message)}},j=async w=>{w.preventDefault(),i(null),c(null);try{const{created:N,skipped:S}=await A.bulkUploadLeads(l);i(`Bulk upload done. Created: ${N}, Skipped duplicates/invalid: ${S}`),r("")}catch(N){c(N.message)}};return p?s.jsxs("div",{className:"",children:[s.jsx("h1",{className:"text-2xl font-bold text-navy mb-3",children:"Lead Entry"}),a&&s.jsx("div",{className:"mb-2 text-green-700",children:a}),o&&s.jsx("div",{className:"mb-2 text-red-600",children:o}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("form",{onSubmit:h,className:"bg-white rounded-2xl shadow-soft p-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-navy mb-3",children:"Add Single Lead"}),s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Name *"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2 mb-3",required:!0,value:t.name,onChange:w=>n(N=>({...N,name:w.target.value}))}),s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Phone"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2 mb-3",value:t.phone,onChange:w=>n(N=>({...N,phone:w.target.value}))}),s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Email"}),s.jsx("input",{type:"email",className:"w-full border rounded-xl px-3 py-2 mb-3",value:t.email,onChange:w=>n(N=>({...N,email:w.target.value}))}),s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Interested Course"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2 mb-3",value:t.interestedCourse,onChange:w=>n(N=>({...N,interestedCourse:w.target.value}))}),s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Source"}),s.jsxs("select",{className:"w-full border rounded-xl px-3 py-2 mb-4",value:t.source,onChange:w=>n(N=>({...N,source:w.target.value})),children:[s.jsx("option",{children:"Meta Lead"}),s.jsx("option",{children:"LinkedIn Lead"}),s.jsx("option",{children:"Manually Generated Lead"}),s.jsx("option",{children:"Others"})]}),s.jsx("button",{className:"bg-gold text-navy rounded-xl px-4 py-2 font-semibold hover:bg-lightgold",children:"Add Lead"})]}),s.jsxs("form",{onSubmit:j,className:"bg-white rounded-2xl shadow-soft p-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-navy mb-3",children:"Bulk Upload (CSV)"}),s.jsxs("p",{className:"text-xs text-royal/80 mb-2",children:["Headers required: ",s.jsx("b",{children:"Name,Phone,Email,InterestedCourse,Source"})]}),s.jsx("div",{className:"mb-2",children:s.jsx("input",{type:"file",accept:".csv,text/csv",onChange:async w=>{g(null),c(null),i(null);const N=w.target.files&&w.target.files[0];if(!N)return;const S=(N.name||"").toLowerCase();if(!(N.type==="text/csv"||S.endsWith(".csv"))){g("Please select a CSV file (.csv)");return}try{const d=await N.text();r(d)}catch{g("Unable to read file")}}})}),s.jsx("textarea",{rows:"10",className:"w-full border rounded-xl px-3 py-2 mb-3",placeholder:"Or paste CSV here...",value:l,onChange:w=>r(w.target.value)}),u&&s.jsx("div",{className:"text-red-600 mb-2",children:u}),s.jsx("button",{className:"bg-gold text-navy rounded-xl px-4 py-2 font-semibold hover:bg-lightgold",children:"Upload CSV"})]})]})]}):s.jsx("div",{className:"text-royal",children:"Only Digital Marketing can add or upload leads."})}function wx(){const{user:e}=ue(),[t,n]=f.useState("Assigned"),[l,r]=f.useState([]),[a,i]=f.useState([]),[o,c]=f.useState(null),[u,g]=f.useState(null),[p,h]=f.useState(!1),[j,w]=f.useState(null),[N,S]=f.useState(!1),x=(e==null?void 0:e.role)==="DigitalMarketing",d=async()=>{try{const y=[t==="All Leads"?A.listLeads():A.listLeads(t)];x&&y.push(A.listAdmissionUsers());const k=await Promise.all(y),v=k[0],b=x?k[1]:{users:[]};r((v==null?void 0:v.leads)||[]),i((b==null?void 0:b.users)||[]),g(null)}catch(y){g(y.message)}};f.useEffect(()=>{d()},[t]);const m=async(y,k)=>{c(null),g(null);try{await A.assignLead(y,k),c("Lead assigned"),d()}catch(v){g(v.message)}};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-navy",children:"Leads Center"}),s.jsxs("select",{value:t,onChange:y=>n(y.target.value),className:"border rounded-xl px-3 py-2",children:[s.jsx("option",{children:"All Leads"}),s.jsx("option",{children:"Assigned"}),s.jsx("option",{children:"Counseling"}),s.jsx("option",{children:"In Follow Up"}),s.jsx("option",{children:"Admitted"}),s.jsx("option",{children:"Not Admitted"})]})]}),o&&s.jsx("div",{className:"mb-2 text-green-700",children:o}),u&&s.jsx("div",{className:"mb-2 text-red-600",children:u}),s.jsx("div",{className:"bg-white rounded-2xl shadow-soft overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-[#f3f6ff] text-royal",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-3",children:"Lead ID"}),s.jsx("th",{className:"text-left p-3",children:"Name"}),s.jsx("th",{className:"text-left p-3",children:"Phone / Email"}),s.jsx("th",{className:"text-left p-3",children:"Interested Course"}),s.jsx("th",{className:"text-left p-3",children:"Source"}),s.jsx("th",{className:"text-left p-3",children:"Assigned To"}),((e==null?void 0:e.role)==="Admin"||(e==null?void 0:e.role)==="SuperAdmin"||(e==null?void 0:e.role)==="Admission"||(e==null?void 0:e.role)==="DigitalMarketing")&&s.jsx("th",{className:"text-left p-3",children:"History"}),x&&s.jsx("th",{className:"text-left p-3",children:"Action"})]})}),s.jsxs("tbody",{children:[l.map(y=>{var k;return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-3",children:y.leadId}),s.jsx("td",{className:"p-3",children:y.name}),s.jsxs("td",{className:"p-3",children:[s.jsx("div",{children:y.phone}),s.jsx("div",{className:"text-xs text-royal/70",children:y.email||"-"})]}),s.jsx("td",{className:"p-3",children:y.interestedCourse||"-"}),s.jsx("td",{className:"p-3",children:y.source}),s.jsx("td",{className:"p-3",children:y.assignedTo?`${y.assignedTo.name} (${y.assignedTo.role})`:"-"}),((e==null?void 0:e.role)==="Admin"||(e==null?void 0:e.role)==="SuperAdmin"||(e==null?void 0:e.role)==="Admission"||(e==null?void 0:e.role)==="DigitalMarketing")&&s.jsx("td",{className:"p-3",children:s.jsx("button",{disabled:N,onClick:async()=>{try{g(null),S(!0);const v=await A.getLeadHistory(y._id);w(v.lead||v),h(!0)}catch(v){g(v.message)}finally{S(!1)}},className:"px-3 py-1 rounded-xl border hover:bg-[#f3f6ff]",children:N?"Loading…":"History"})}),x&&s.jsx("td",{className:"p-3",children:s.jsx(Sx,{current:((k=y.assignedTo)==null?void 0:k._id)||"",options:a,onChange:v=>m(y._id,v)})})]},y._id)}),l.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"p-4 text-royal/70",colSpan:x?7:6,children:"No leads"})})]})]})}),p&&j&&s.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[s.jsx("div",{className:"absolute inset-0 bg-black opacity-30",onClick:()=>h(!1)}),s.jsxs("div",{className:"bg-white rounded-xl p-4 z-10 w-full max-w-2xl shadow-lg",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Lead History — ",j.leadId]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsxs("div",{children:["Assigned At: ",s.jsx("strong",{children:j.assignedAt||j.updatedAt?new Date(j.assignedAt||j.updatedAt).toLocaleString():"-"})]}),s.jsxs("div",{children:["Counseling At: ",s.jsx("strong",{children:j.counselingAt||j.updatedAt?new Date(j.counselingAt||j.updatedAt).toLocaleString():"-"})]}),s.jsxs("div",{children:["Admitted At: ",s.jsx("strong",{children:j.admittedAt||j.updatedAt?new Date(j.admittedAt||j.updatedAt).toLocaleString():"-"})]}),s.jsxs("div",{children:["Follow-ups (",(j.followUps||[]).length,"):"]}),s.jsx("div",{className:"pl-2",children:(j.followUps||[]).length===0?s.jsx("div",{className:"text-royal/70",children:"No follow-ups"}):(j.followUps||[]).map((y,k)=>{var v;return s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"text-sm font-medium",children:[new Date(y.at).toLocaleString()," ",(v=y.by)!=null&&v.name?` — ${y.by.name}`:""]}),s.jsx("div",{className:"text-royal/70",children:y.note||"-"})]},k)})})]}),s.jsx("div",{className:"mt-4 text-right",children:s.jsx("button",{onClick:()=>h(!1),className:"px-3 py-2 rounded-xl border",children:"Close"})})]})]})]})}function Sx({current:e,options:t,onChange:n}){const[l,r]=f.useState(e||"");return f.useEffect(()=>r(e||""),[e]),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("select",{className:"border rounded-xl px-3 py-2",value:l,onChange:a=>r(a.target.value),children:[s.jsx("option",{value:"",children:"Select Admission Member"}),t.map(a=>s.jsx("option",{value:a._id,children:a.name},a._id))]}),s.jsx("button",{disabled:!l,onClick:()=>n(l),className:"px-3 py-1 rounded-lg border hover:bg-[#f3f6ff]",children:"Assign"})]})}function bx(){const{user:e}=ue();return(e==null?void 0:e.role)!=="DigitalMarketing"?s.jsx("div",{className:"text-royal",children:"Only Digital Marketing can access this page."}):s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[s.jsx(kx,{}),s.jsx(Cx,{}),s.jsx(Ex,{})]})}function kx(){const[e,t]=f.useState([]),[n,l]=f.useState({date:new Date().toISOString().slice(0,10),purpose:"Meta Ads",amount:0}),[r,a]=f.useState(null),[i,o]=f.useState(null),c=async()=>{try{const p=await A.listDMCosts();let h=[];Array.isArray(p)?h=p:Array.isArray(p==null?void 0:p.costs)?h=p.costs:Array.isArray(p==null?void 0:p.items)&&(h=p.items),t(h)}catch(p){o(p.message)}};f.useEffect(()=>{c()},[]);const u=async p=>{p.preventDefault(),a(null),o(null);try{await A.createDMCost(n),a("Cost added"),l({...n,amount:0}),c()}catch(h){o(h.message)}},g=async p=>{if(confirm("Delete?"))try{await A.deleteDMCost(p),c()}catch(h){o(h.message)}};return s.jsxs("div",{className:"bg-white rounded-2xl shadow-soft p-4",children:[s.jsx("h2",{className:"text-xl font-bold text-navy mb-2",children:"Cost Entry / Expense"}),r&&s.jsx("div",{className:"mb-2 text-green-700",children:r}),i&&s.jsx("div",{className:"mb-2 text-red-600",children:i}),s.jsxs("form",{onSubmit:u,className:"grid grid-cols-1 md:grid-cols-3 gap-2 mb-3",children:[s.jsx("input",{type:"date",className:"border rounded-xl px-3 py-2",value:n.date,onChange:p=>l(h=>({...h,date:p.target.value}))}),s.jsxs("select",{className:"border rounded-xl px-3 py-2",value:n.purpose,onChange:p=>l(h=>({...h,purpose:p.target.value})),children:[s.jsx("option",{children:"Meta Ads"}),s.jsx("option",{children:"LinkedIn Ads"}),s.jsx("option",{children:"Software Purchase"}),s.jsx("option",{children:"Subscription"}),s.jsx("option",{children:"Others"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",className:"border rounded-xl px-3 py-2 flex-1",value:n.amount,onChange:p=>l(h=>({...h,amount:p.target.value}))}),s.jsx("button",{className:"bg-gold text-navy rounded-xl px-4",children:"Add"})]})]}),s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-[#f3f6ff] text-royal",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-2 text-left",children:"Date"}),s.jsx("th",{className:"p-2 text-left",children:"Purpose"}),s.jsx("th",{className:"p-2 text-left",children:"Amount"}),s.jsx("th",{className:"p-2 text-left",children:"Action"})]})}),s.jsxs("tbody",{children:[e.map(p=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-2",children:new Date(p.date).toLocaleDateString()}),s.jsx("td",{className:"p-2",children:p.purpose}),s.jsxs("td",{className:"p-2",children:["৳ ",p.amount]}),s.jsx("td",{className:"p-2",children:s.jsx("button",{onClick:()=>g(p._id),className:"px-3 py-1 rounded-lg border hover:bg-red-50",children:"Delete"})})]},p._id)),e.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"p-3 text-royal/70",colSpan:"4",children:"No entries"})})]})]})})]})}function Cx(){const[e,t]=f.useState([]),[n,l]=f.useState({date:new Date().toISOString().slice(0,10),facebookFollowers:0,instagramFollowers:0,facebookGroupMembers:0,youtubeSubscribers:0,linkedinFollowers:0,xFollowers:0,pinterestViews:0,bloggerImpressions:0,totalPeopleReach:0}),[r,a]=f.useState(null),[i,o]=f.useState(null),c=async()=>{try{const g=await A.listSocial(),p=(g==null?void 0:g.metrics)||(g==null?void 0:g.social)||{};if(p&&Object.keys(p).length){const h={facebookFollowers:p.facebookFollowers||0,instagramFollowers:p.instagramFollowers||0,facebookGroupMembers:p.facebookGroupMembers||0,youtubeSubscribers:p.youtubeSubscribers||0,linkedinFollowers:p.linkedinFollowers||p.linkedInFollowers||0,xFollowers:p.xFollowers||0,pinterestViews:p.pinterestViews||p.pinterestView||0,bloggerImpressions:p.bloggerImpressions||p.bloggerImpression||0,totalPeopleReach:p.totalPeopleReach||p.totalReach||0};l(j=>({...j,...h})),t([{_id:(g==null?void 0:g.updatedAt)||"latest",date:(g==null?void 0:g.updatedAt)||n.date,...h}])}else t([])}catch(g){o(g.message)}};f.useEffect(()=>{c()},[]);const u=async g=>{g.preventDefault(),a(null),o(null);try{await A.createSocial(n),a("Social snapshot saved"),c()}catch(p){o(p.message)}};return s.jsxs("div",{className:"bg-white rounded-2xl shadow-soft p-4",children:[s.jsx("h2",{className:"text-xl font-bold text-navy mb-2",children:"Social Media Reports"}),r&&s.jsx("div",{className:"mb-2 text-green-700",children:r}),i&&s.jsx("div",{className:"mb-2 text-red-600",children:i}),s.jsxs("form",{onSubmit:u,className:"grid grid-cols-2 gap-2 mb-3",children:[s.jsx("input",{type:"date",className:"border rounded-xl px-3 py-2 col-span-2",value:n.date,onChange:g=>l(p=>({...p,date:g.target.value}))}),Object.keys(n).filter(g=>g!=="date").map(g=>s.jsx("input",{type:"number",className:"border rounded-xl px-3 py-2",value:n[g],onChange:p=>l(h=>({...h,[g]:Number(p.target.value)})),placeholder:g},g)),s.jsx("div",{className:"col-span-2",children:s.jsx("button",{className:"bg-gold text-navy rounded-xl px-4 py-2",children:"Update"})})]}),s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"min-w-full text-xs",children:[s.jsx("thead",{className:"bg-[#f3f6ff] text-royal",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-2 text-left",children:"Date"}),s.jsx("th",{className:"p-2 text-left",children:"Facebook"}),s.jsx("th",{className:"p-2 text-left",children:"Instagram"}),s.jsx("th",{className:"p-2 text-left",children:"Group"}),s.jsx("th",{className:"p-2 text-left",children:"YouTube"}),s.jsx("th",{className:"p-2 text-left",children:"LinkedIn"}),s.jsx("th",{className:"p-2 text-left",children:"X"}),s.jsx("th",{className:"p-2 text-left",children:"Pinterest"}),s.jsx("th",{className:"p-2 text-left",children:"Blogger"}),s.jsx("th",{className:"p-2 text-left",children:"Reach"})]})}),s.jsxs("tbody",{children:[e.map(g=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-2",children:new Date(g.date).toLocaleDateString()}),s.jsx("td",{className:"p-2",children:g.facebookFollowers}),s.jsx("td",{className:"p-2",children:g.instagramFollowers}),s.jsx("td",{className:"p-2",children:g.facebookGroupMembers}),s.jsx("td",{className:"p-2",children:g.youtubeSubscribers}),s.jsx("td",{className:"p-2",children:g.linkedinFollowers}),s.jsx("td",{className:"p-2",children:g.xFollowers}),s.jsx("td",{className:"p-2",children:g.pinterestViews}),s.jsx("td",{className:"p-2",children:g.bloggerImpressions}),s.jsx("td",{className:"p-2",children:g.totalPeopleReach})]},g._id)),e.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"p-3 text-royal/70",colSpan:"10",children:"No snapshots"})})]})]})})]})}function Ex(){const[e,t]=f.useState([]),[n,l]=f.useState(!1),[r,a]=f.useState({date:new Date().toISOString().slice(0,10),typeOfWork:"Blogpost",challenge:"",details:""}),[i,o]=f.useState(null),[c,u]=f.useState(null),g=async()=>{try{const h=await A.listSEO();let j=[];Array.isArray(h)?j=h:Array.isArray(h==null?void 0:h.seo)?j=h.seo:Array.isArray(h==null?void 0:h.items)&&(j=h.items),t(j)}catch(h){u(h.message)}};f.useEffect(()=>{g()},[]);const p=async h=>{h.preventDefault(),o(null),u(null);try{await A.createSEO(r),o("SEO report added"),l(!1),g()}catch(j){u(j.message)}};return s.jsxs("div",{className:"bg-white rounded-2xl shadow-soft p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-navy mb-2",children:"SEO Reports"}),s.jsx("button",{onClick:()=>l(!0),className:"bg-gold text-navy rounded-xl px-3 py-2",children:"+ Add"})]}),i&&s.jsx("div",{className:"mb-2 text-green-700",children:i}),c&&s.jsx("div",{className:"mb-2 text-red-600",children:c}),s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-[#f3f6ff] text-royal",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-2 text-left",children:"Date"}),s.jsx("th",{className:"p-2 text-left",children:"Type"}),s.jsx("th",{className:"p-2 text-left",children:"Challenge"}),s.jsx("th",{className:"p-2 text-left",children:"Details"})]})}),s.jsxs("tbody",{children:[e.map(h=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-2",children:new Date(h.date).toLocaleDateString()}),s.jsx("td",{className:"p-2",children:h.typeOfWork}),s.jsx("td",{className:"p-2",children:h.challenge||"-"}),s.jsx("td",{className:"p-2",children:h.details||"-"})]},h._id)),e.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"p-3 text-royal/70",colSpan:"4",children:"No SEO reports"})})]})]})}),n&&s.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center p-4",children:s.jsxs("form",{onSubmit:p,className:"bg-white rounded-2xl shadow-soft p-4 w-full max-w-xl",children:[s.jsx("h3",{className:"text-lg font-semibold text-navy mb-2",children:"Add SEO Report"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Date"}),s.jsx("input",{type:"date",className:"w-full border rounded-xl px-3 py-2",value:r.date,onChange:h=>a(j=>({...j,date:h.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Type of Work"}),s.jsxs("select",{className:"w-full border rounded-xl px-3 py-2",value:r.typeOfWork,onChange:h=>a(j=>({...j,typeOfWork:h.target.value})),children:[s.jsx("option",{children:"Blogpost"}),s.jsx("option",{children:"Backlink"}),s.jsx("option",{children:"Social Bookmarking"}),s.jsx("option",{children:"Keyword Research"}),s.jsx("option",{children:"Others"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Challenge"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2",value:r.challenge,onChange:h=>a(j=>({...j,challenge:h.target.value}))})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Details"}),s.jsx("textarea",{rows:"3",className:"w-full border rounded-xl px-3 py-2",value:r.details,onChange:h=>a(j=>({...j,details:h.target.value}))})]})]}),s.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[s.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 rounded-xl border",children:"Cancel"}),s.jsx("button",{className:"px-4 py-2 rounded-xl bg-gold text-navy font-semibold",children:"Save"})]})]})})]})}function Lt(e){if(!e)return"-";try{return new Date(e).toLocaleString()}catch{return e}}const wc=[{key:"Assigned",path:"/admission/assigned",label:"Assigned Lead"},{key:"Counseling",path:"/admission/counseling",label:"Counseling"},{key:"In Follow Up",path:"/admission/follow-up",label:"In Follow-Up"},{key:"Admitted",path:"/admission/admitted",label:"Admitted"},{key:"Not Admitted",path:"/admission/not-admitted",label:"Not Admitted"}];function us(){const{user:e}=ue(),t=en(),n=f.useMemo(()=>{const l=wc.find(r=>r.path===t.pathname);return l?l.key:"Assigned"},[t.pathname]);return(e==null?void 0:e.role)!=="Admission"&&(e==null?void 0:e.role)!=="Admin"&&(e==null?void 0:e.role)!=="SuperAdmin"?s.jsx("div",{className:"text-royal",children:"Access denied"}):s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-navy mb-3",children:"Admission Pipeline"}),s.jsxs("div",{className:"flex gap-2 mb-4 flex-wrap",children:[wc.map(l=>s.jsx(Xa,{to:l.path,className:`px-3 py-1.5 rounded-xl border ${n===l.key?"bg-gold text-navy border-gold":"hover:bg-[#f3f6ff]"}`,children:l.label},l.key)),n==="Admitted"&&(e==null?void 0:e.role)==="Admission"&&s.jsx(Xa,{to:"/admission/fees",className:"ml-auto px-3 py-1.5 rounded-xl bg-gold text-navy font-semibold",children:"Admission Fees"})]}),s.jsx(Ax,{status:n,canAct:(e==null?void 0:e.role)==="Admission"})]})}function Ax({status:e,canAct:t}){const[n,l]=f.useState([]),[r,a]=f.useState(null),[i,o]=f.useState(null),[c,u]=f.useState(!1),[g,p]=f.useState(""),[h,j]=f.useState(null),[w,N]=f.useState(!1),[S,x]=f.useState(""),[d,m]=f.useState(null),[y,k]=f.useState(!1),[v,b]=f.useState(null),[C,L]=f.useState(!1),M=async()=>{try{const{leads:O}=await A.listAdmissionLeads(e);l(O||[]),o(null)}catch(O){o(O.message)}};f.useEffect(()=>{M()},[e]);const B=async(O,G,q)=>{a(null),o(null);try{await A.updateLeadStatus(O,G,q),a(`Status updated to ${G}`),u(!1),p(""),j(null),N(!1),x(""),m(null),k(!1),b(null),L(!1),M()}catch(le){o(le.message)}},se=O=>t?e==="Assigned"?s.jsx(pt,{onClick:()=>B(O._id,"Counseling"),children:"Start Counseling"}):e==="Counseling"?s.jsxs("div",{className:"flex gap-2",children:[s.jsx(pt,{onClick:()=>B(O._id,"Admitted"),children:"Admitted"}),s.jsx(pt,{onClick:()=>{j(O._id),p(""),u(!0)},children:"Follow-Up"}),s.jsx(pt,{variant:"danger",onClick:()=>{m(O._id),x(""),N(!0)},children:"Not Admitted"}),s.jsx(pt,{onClick:async()=>{try{o(null),L(!0);const G=await A.getLeadHistory(O._id);b(G.lead||G),k(!0)}catch(G){o(G.message)}finally{L(!1)}},children:C?"Loading…":"History"})]}):e==="In Follow Up"?s.jsxs("div",{className:"flex gap-2",children:[s.jsx(pt,{onClick:()=>B(O._id,"Admitted"),children:"Admitted"}),s.jsx(pt,{onClick:()=>{j(O._id),p(""),u(!0)},children:"Follow-Up Again"}),s.jsx(pt,{variant:"danger",onClick:()=>{m(O._id),x(""),N(!0)},children:"Not Admitted"}),s.jsx(pt,{onClick:async()=>{try{o(null),L(!0);const G=await A.getLeadHistory(O._id);b(G.lead||G),k(!0)}catch(G){o(G.message)}finally{L(!1)}},children:C?"Loading…":"History"})]}):s.jsx("span",{className:"text-royal/60",children:"—"}):null;return s.jsxs("div",{children:[r&&s.jsx("div",{className:"mb-2 text-green-700",children:r}),i&&s.jsx("div",{className:"mb-2 text-red-600",children:i}),c&&s.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[s.jsx("div",{className:"absolute inset-0 bg-black opacity-30",onClick:()=>u(!1)}),s.jsxs("div",{className:"bg-white rounded-xl p-4 z-10 w-full max-w-lg shadow-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Add Follow-Up Note"}),s.jsx("textarea",{rows:6,className:"w-full border rounded-xl px-3 py-2 mb-3",value:g,onChange:O=>p(O.target.value),placeholder:"Enter follow-up note (optional)"}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{type:"button",onClick:()=>{u(!1),p(""),j(null)},className:"px-3 py-2 rounded-xl border",children:"Cancel"}),s.jsx("button",{type:"button",onClick:()=>B(h,"In Follow Up",g),className:"px-3 py-2 rounded-xl bg-gold text-navy",children:"Save Follow-Up"})]})]})]}),y&&v&&s.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[s.jsx("div",{className:"absolute inset-0 bg-black opacity-30",onClick:()=>k(!1)}),s.jsxs("div",{className:"bg-white rounded-xl p-4 z-10 w-full max-w-2xl shadow-lg",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Lead History — ",v.leadId]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsxs("div",{children:["Assigned At: ",s.jsx("strong",{children:Lt(v.assignedAt||v.updatedAt)})]}),s.jsxs("div",{children:["Counseling At: ",s.jsx("strong",{children:Lt(v.counselingAt||v.updatedAt)})]}),s.jsxs("div",{children:["Admitted At: ",s.jsx("strong",{children:Lt(v.admittedAt||v.updatedAt)})]}),s.jsxs("div",{children:["Follow-ups (",(v.followUps||[]).length,"):"]}),s.jsx("div",{className:"pl-2",children:(v.followUps||[]).length===0?s.jsx("div",{className:"text-royal/70",children:"No follow-ups"}):(v.followUps||[]).map((O,G)=>{var q;return s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"text-sm font-medium",children:[Lt(O.at)," ",(q=O.by)!=null&&q.name?` — ${O.by.name}`:""]}),s.jsx("div",{className:"text-royal/70",children:O.note||"-"})]},G)})})]}),s.jsx("div",{className:"mt-4 text-right",children:s.jsx("button",{onClick:()=>k(!1),className:"px-3 py-2 rounded-xl border",children:"Close"})})]})]}),w&&s.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[s.jsx("div",{className:"absolute inset-0 bg-black opacity-30",onClick:()=>N(!1)}),s.jsxs("div",{className:"bg-white rounded-xl p-4 z-10 w-full max-w-lg shadow-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Reason for Not Admitted"}),s.jsx("textarea",{rows:6,className:"w-full border rounded-xl px-3 py-2 mb-3",value:S,onChange:O=>x(O.target.value),placeholder:"Enter reason (optional)"}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{type:"button",onClick:()=>{N(!1),x(""),m(null)},className:"px-3 py-2 rounded-xl border",children:"Cancel"}),s.jsx("button",{type:"button",onClick:()=>B(d,"Not Admitted",S),className:"px-3 py-2 rounded-xl bg-red-600 text-white",children:"Save"})]})]})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-soft overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-[#f3f6ff] text-royal",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3 text-left",children:"Lead ID"}),s.jsx("th",{className:"p-3 text-left",children:"Name"}),s.jsx("th",{className:"p-3 text-left",children:"Phone / Email"}),s.jsx("th",{className:"p-3 text-left",children:"Course"}),s.jsx("th",{className:"p-3 text-left",children:"Source"}),s.jsx("th",{className:"p-3 text-left",children:"Assigned To"}),e==="Assigned"&&s.jsx("th",{className:"p-3 text-left",children:"Assigned At"}),e==="Counseling"&&s.jsx("th",{className:"p-3 text-left",children:"Counseling At"}),e==="In Follow Up"&&s.jsx("th",{className:"p-3 text-left",children:"Follow-Ups"}),e==="Admitted"&&s.jsx("th",{className:"p-3 text-left",children:"Admitted At"}),s.jsx("th",{className:"p-3 text-left",children:"Action"})]})}),s.jsxs("tbody",{children:[n.map(O=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{children:O.leadId}),(O.followUps||[]).length>0&&s.jsxs("div",{className:"text-xs bg-blue-50 text-blue-700 px-2 py-0.5 rounded-full",children:[(O.followUps||[]).length," FU"]})]})}),s.jsx("td",{className:"p-3",children:O.name}),s.jsxs("td",{className:"p-3",children:[s.jsx("div",{children:O.phone}),s.jsx("div",{className:"text-xs text-royal/70",children:O.email||"-"})]}),s.jsx("td",{className:"p-3",children:O.interestedCourse||"-"}),s.jsx("td",{className:"p-3",children:O.source}),s.jsx("td",{className:"p-3",children:O.assignedTo?O.assignedTo.name:"-"}),e==="Assigned"&&s.jsx("td",{className:"p-3",children:Lt(O.assignedAt||O.updatedAt)}),e==="Counseling"&&s.jsx("td",{className:"p-3",children:Lt(O.counselingAt||O.updatedAt)}),e==="In Follow Up"&&s.jsx("td",{className:"p-3",children:(O.followUps||[]).length===0?s.jsx("div",{className:"text-royal/70",children:"No follow-ups"}):s.jsx("div",{className:"flex flex-col gap-1",children:(O.followUps||[]).map((G,q)=>{var le;return s.jsxs("div",{className:"text-xs",children:[s.jsx("div",{className:"font-medium",children:Lt(G.at)}),s.jsxs("div",{className:"text-royal/70",children:[G.note||"-"," ",(le=G.by)!=null&&le.name?` — ${G.by.name}`:""]})]},q)})})}),e==="Admitted"&&s.jsx("td",{className:"p-3",children:Lt(O.admittedAt||O.updatedAt)}),s.jsx("td",{className:"p-3",children:se(O)})]},O._id)),n.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"p-4 text-royal/70",colSpan:"7",children:"No leads"})})]})]})})]})}function pt({children:e,onClick:t,variant:n="default"}){const l=n==="danger"?"px-3 py-1 rounded-lg border text-red-700 hover:bg-red-50":"px-3 py-1 rounded-lg border hover:bg-[#f3f6ff]";return s.jsx("button",{onClick:t,className:l,children:e})}function Dx(){const{user:e}=ue();if((e==null?void 0:e.role)!=="Admission"&&(e==null?void 0:e.role)!=="Admin"&&(e==null?void 0:e.role)!=="SuperAdmin"&&(e==null?void 0:e.role)!=="Accountant")return s.jsx("div",{className:"text-royal",children:"Access denied"});const[t,n]=f.useState([]),[l,r]=f.useState([]),[a,i]=f.useState(!1),[o,c]=f.useState(null),[u,g]=f.useState(null),[p,h]=f.useState({leadId:"",courseName:"",amount:0,method:"Bkash",paymentDate:new Date().toISOString().slice(0,10),note:""}),j=(e==null?void 0:e.role)==="Admission",w=async()=>{try{const[{fees:S},x]=await Promise.all([A.listAdmissionFees(),A.listAdmissionLeads("Admitted")]);n(S||[]),r((x==null?void 0:x.leads)||[])}catch(S){g(S.message)}};f.useEffect(()=>{w()},[]);const N=async S=>{S.preventDefault(),c(null),g(null);try{await A.createAdmissionFee(p),c("Fee submitted for review"),i(!1),h({leadId:"",courseName:"",amount:0,method:"Bkash",paymentDate:new Date().toISOString().slice(0,10),note:""}),w()}catch(x){g(x.message)}};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-navy",children:"Admission Fees Collection"}),j&&s.jsx("button",{onClick:()=>i(!0),className:"bg-gold text-navy rounded-xl px-4 py-2 font-semibold",children:"Collect Fees"})]}),o&&s.jsx("div",{className:"mb-2 text-green-700",children:o}),u&&s.jsx("div",{className:"mb-2 text-red-600",children:u}),s.jsx("div",{className:"bg-white rounded-2xl shadow-soft overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-[#f3f6ff] text-royal",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3 text-left",children:"Lead"}),s.jsx("th",{className:"p-3 text-left",children:"Course"}),s.jsx("th",{className:"p-3 text-left",children:"Amount"}),s.jsx("th",{className:"p-3 text-left",children:"Method"}),s.jsx("th",{className:"p-3 text-left",children:"Payment Date"}),s.jsx("th",{className:"p-3 text-left",children:"Status"}),s.jsx("th",{className:"p-3 text-left",children:"Note"})]})}),s.jsxs("tbody",{children:[t.map(S=>{var x,d,m,y;return s.jsxs("tr",{className:"border-t",children:[s.jsxs("td",{className:"p-3",children:[(x=S.lead)==null?void 0:x.leadId," — ",(d=S.lead)==null?void 0:d.name,s.jsxs("div",{className:"text-xs text-royal/70",children:[(m=S.lead)==null?void 0:m.phone," ",(y=S.lead)!=null&&y.email?`• ${S.lead.email}`:""]})]}),s.jsx("td",{className:"p-3",children:S.courseName}),s.jsxs("td",{className:"p-3",children:["৳ ",S.amount]}),s.jsx("td",{className:"p-3",children:S.method}),s.jsx("td",{className:"p-3",children:new Date(S.paymentDate).toLocaleDateString()}),s.jsx("td",{className:"p-3",children:S.status}),s.jsx("td",{className:"p-3",children:S.note||"-"})]},S._id)}),t.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"p-4 text-royal/70",colSpan:"7",children:"No fees yet"})})]})]})}),a&&j&&s.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center p-4",children:s.jsxs("form",{onSubmit:N,className:"bg-white rounded-2xl shadow-soft p-4 w-full max-w-xl",children:[s.jsx("h3",{className:"text-lg font-semibold text-navy mb-2",children:"Collect Fees"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Lead (Admitted)*"}),s.jsxs("select",{className:"w-full border rounded-xl px-3 py-2",required:!0,value:p.leadId,onChange:S=>h(x=>({...x,leadId:S.target.value})),children:[s.jsx("option",{value:"",children:"Select lead"}),l.map(S=>s.jsxs("option",{value:S._id,children:[S.leadId," — ",S.name]},S._id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Course Name *"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2",required:!0,value:p.courseName,onChange:S=>h(x=>({...x,courseName:S.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Amount *"}),s.jsx("input",{type:"number",className:"w-full border rounded-xl px-3 py-2",required:!0,value:p.amount,onChange:S=>h(x=>({...x,amount:Number(S.target.value)}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Method *"}),s.jsxs("select",{className:"w-full border rounded-xl px-3 py-2",value:p.method,onChange:S=>h(x=>({...x,method:S.target.value})),children:[s.jsx("option",{children:"Bkash"}),s.jsx("option",{children:"Nagad"}),s.jsx("option",{children:"Rocket"}),s.jsx("option",{children:"Bank Transfer"}),s.jsx("option",{children:"Cash on Hand"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Payment Date *"}),s.jsx("input",{type:"date",className:"w-full border rounded-xl px-3 py-2",required:!0,value:p.paymentDate,onChange:S=>h(x=>({...x,paymentDate:S.target.value}))})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Note"}),s.jsx("textarea",{rows:"3",className:"w-full border rounded-xl px-3 py-2",value:p.note,onChange:S=>h(x=>({...x,note:S.target.value}))})]})]}),s.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[s.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 rounded-xl border",children:"Cancel"}),s.jsx("button",{className:"px-4 py-2 rounded-xl bg-gold text-navy font-semibold",children:"Submit"})]})]})})]})}function Px(){const{user:e}=ue();if((e==null?void 0:e.role)!=="Accountant")return s.jsx("div",{className:"text-royal",children:"Only Accountant can approve fees."});const[t,n]=f.useState("Pending"),[l,r]=f.useState([]),[a,i]=f.useState(null),[o,c]=f.useState(null),u=async()=>{try{const{fees:h}=await A.listFeesForApproval(t);r(h||[]),c(null)}catch(h){c(h.message)}};f.useEffect(()=>{u()},[t]);const g=async h=>{i(null),c(null);try{await A.approveFee(h),i("Approved"),u()}catch(j){c(j.message)}},p=async h=>{i(null),c(null);try{await A.rejectFee(h),i("Rejected"),u()}catch(j){c(j.message)}};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-navy",children:"Fees Approval"}),s.jsxs("select",{value:t,onChange:h=>n(h.target.value),className:"border rounded-xl px-3 py-2",children:[s.jsx("option",{children:"Pending"}),s.jsx("option",{children:"Approved"}),s.jsx("option",{children:"Rejected"})]})]}),a&&s.jsx("div",{className:"mb-2 text-green-700",children:a}),o&&s.jsx("div",{className:"mb-2 text-red-600",children:o}),s.jsx("div",{className:"bg-white rounded-2xl shadow-soft overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-[#f3f6ff] text-royal",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3 text-left",children:"Lead"}),s.jsx("th",{className:"p-3 text-left",children:"Course"}),s.jsx("th",{className:"p-3 text-left",children:"Amount"}),s.jsx("th",{className:"p-3 text-left",children:"Method"}),s.jsx("th",{className:"p-3 text-left",children:"Payment Date"}),s.jsx("th",{className:"p-3 text-left",children:"Submitted By"}),s.jsx("th",{className:"p-3 text-left",children:"Status"}),t==="Pending"&&s.jsx("th",{className:"p-3 text-left",children:"Action"})]})}),s.jsxs("tbody",{children:[l.map(h=>{var j,w,N,S,x;return s.jsxs("tr",{className:"border-t",children:[s.jsxs("td",{className:"p-3",children:[(j=h.lead)==null?void 0:j.leadId," — ",(w=h.lead)==null?void 0:w.name,s.jsxs("div",{className:"text-xs text-royal/70",children:[(N=h.lead)==null?void 0:N.phone," ",(S=h.lead)!=null&&S.email?`• ${h.lead.email}`:""]})]}),s.jsx("td",{className:"p-3",children:h.courseName}),s.jsxs("td",{className:"p-3",children:["৳ ",h.amount]}),s.jsx("td",{className:"p-3",children:h.method}),s.jsx("td",{className:"p-3",children:new Date(h.paymentDate).toLocaleDateString()}),s.jsx("td",{className:"p-3",children:((x=h.submittedBy)==null?void 0:x.name)||"-"}),s.jsx("td",{className:"p-3",children:h.status}),t==="Pending"&&s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>g(h._id),className:"px-3 py-1 rounded-lg border hover:bg-[#f0fff4]",children:"Approve"}),s.jsx("button",{onClick:()=>p(h._id),className:"px-3 py-1 rounded-lg border hover:bg-red-50 text-red-700",children:"Reject"})]})})]},h._id)}),l.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"p-4 text-royal/70",colSpan:"8",children:"No items"})})]})]})})]})}function Lx(){const{user:e}=ue(),t=(e==null?void 0:e.role)==="Accountant";if(!t&&(e==null?void 0:e.role)!=="Admin"&&(e==null?void 0:e.role)!=="SuperAdmin")return s.jsx("div",{className:"text-royal",children:"Access denied"});const[n,l]=f.useState([]),[r,a]=f.useState({date:new Date().toISOString().slice(0,10),source:"Other",amount:0,note:""}),[i,o]=f.useState(!1),c=Zs(),[u,g]=f.useState(null),[p,h]=f.useState(null),j=async()=>{try{const{income:N}=await A.listIncome();l(N||[])}catch(N){h(N.message)}};f.useEffect(()=>{j()},[]);const w=async N=>{var S;(S=N==null?void 0:N.preventDefault)==null||S.call(N),g(null),h(null);try{await A.addIncome(r),g("Income added"),a({...r,amount:0}),o(!1),j()}catch(x){h(x.message)}};return s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("h1",{className:"text-2xl font-bold text-navy",children:"Income"})}),u&&s.jsx("div",{className:"mb-2 text-green-700",children:u}),p&&s.jsx("div",{className:"mb-2 text-red-600",children:p}),t&&s.jsx("div",{className:"mb-3",children:s.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 bg-gold text-navy rounded-xl px-4 py-2",children:[s.jsx(Xu,{className:"w-5 h-5"})," Add Income"]})}),i&&s.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[s.jsx("div",{className:"absolute inset-0 bg-black opacity-30",onClick:()=>o(!1)}),s.jsxs("div",{className:"bg-white rounded-xl p-4 z-10 w-full max-w-lg shadow-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Add Income"}),s.jsxs("form",{onSubmit:w,className:"grid grid-cols-1 gap-2",children:[s.jsx("input",{type:"date",className:"border rounded-xl px-3 py-2",value:r.date,onChange:N=>a(S=>({...S,date:N.target.value}))}),s.jsx(Tx,{kind:"incomes",value:r.source,onChange:N=>a(S=>({...S,source:N}))}),s.jsx("div",{className:"text-right text-sm mt-1",children:s.jsx("button",{type:"button",onClick:()=>{o(!1),c("/accounting/dashboard?openHeads=1")},className:"text-blue-600 underline",children:"Manage Account Heads"})}),s.jsx("input",{type:"number",className:"border rounded-xl px-3 py-2",placeholder:"Amount",value:r.amount,onChange:N=>a(S=>({...S,amount:Number(N.target.value)}))}),s.jsx("input",{className:"border rounded-xl px-3 py-2",placeholder:"Note",value:r.note,onChange:N=>a(S=>({...S,note:N.target.value}))}),s.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[s.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 rounded-xl border",children:"Cancel"}),s.jsx("button",{className:"bg-gold text-navy rounded-xl px-4 py-2",children:"Add"})]})]})]})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-soft overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-[#f3f6ff] text-royal",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3 text-left",children:"Date"}),s.jsx("th",{className:"p-3 text-left",children:"Source"}),s.jsx("th",{className:"p-3 text-left",children:"Amount"}),s.jsx("th",{className:"p-3 text-left",children:"Note"})]})}),s.jsxs("tbody",{children:[n.map(N=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-3",children:new Date(N.date).toLocaleDateString()}),s.jsx("td",{className:"p-3",children:N.source}),s.jsx("td",{className:"p-3",children:ct(N.amount)}),s.jsx("td",{className:"p-3",children:N.note||"-"})]},N._id)),n.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"p-4 text-royal/70",colSpan:"4",children:"No entries"})})]})]})})]})}function Tx({kind:e="incomes",value:t,onChange:n}){let l={};try{l=JSON.parse(localStorage.getItem("accountHeads")||"{}")}catch{l={}}const r=l&&l[e]?l[e]:[],[a,i]=f.useState(""),o=t||"",c=u=>{n(u==="__other__"?a:u)};return s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Purpose"}),s.jsxs("select",{className:"border rounded-xl px-3 py-2 w-full mb-2",value:o||"",onChange:u=>c(u.target.value),children:[!r||r.length===0?s.jsx("option",{value:"",children:"No heads defined"}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",children:"-- select purpose --"}),r.map(u=>s.jsx("option",{value:u,children:u},u))]}),s.jsx("option",{value:"__other__",children:"Other (enter manually)"})]}),o==="__other__"||!o&&a?s.jsx("input",{className:"border rounded-xl px-3 py-2",placeholder:"Enter purpose",value:a,onChange:u=>{i(u.target.value),n(u.target.value)}}):null]})}function _x({kind:e="expenses",value:t,onChange:n}){let l={};try{l=JSON.parse(localStorage.getItem("accountHeads")||"{}")}catch{l={}}const r=l&&l[e]?l[e]:[],[a,i]=f.useState(""),o=t||"",c=u=>{n(u==="__other__"?a:u)};return s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Purpose"}),s.jsxs("select",{className:"border rounded-xl px-3 py-2 w-full mb-2",value:o||"",onChange:u=>c(u.target.value),children:[!r||r.length===0?s.jsx("option",{value:"",children:"No heads defined"}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",children:"-- select purpose --"}),r.map(u=>s.jsx("option",{value:u,children:u},u))]}),s.jsx("option",{value:"__other__",children:"Other (enter manually)"})]}),o==="__other__"||!o&&a?s.jsx("input",{className:"border rounded-xl px-3 py-2",placeholder:"Enter purpose",value:a,onChange:u=>{i(u.target.value),n(u.target.value)}}):null]})}function Mx(){const{user:e}=ue(),t=(e==null?void 0:e.role)==="Accountant";if(!t&&(e==null?void 0:e.role)!=="Admin"&&(e==null?void 0:e.role)!=="SuperAdmin")return s.jsx("div",{className:"text-royal",children:"Access denied"});const[n,l]=f.useState([]),[r,a]=f.useState({date:new Date().toISOString().slice(0,10),purpose:"",amount:0,note:""}),[i,o]=f.useState(!1),c=Zs(),[u,g]=f.useState(null),[p,h]=f.useState(null),j=async()=>{try{const{expenses:S}=await A.listExpenses();l(S||[])}catch(S){h(S.message)}};f.useEffect(()=>{j()},[]);const w=async S=>{var x;(x=S==null?void 0:S.preventDefault)==null||x.call(S),g(null),h(null);try{await A.addExpense(r),g("Expense added"),a({...r,purpose:"",amount:0,note:""}),o(!1),j()}catch(d){h(d.message)}},N=async S=>{if(confirm("Delete expense?"))try{await A.deleteExpense(S),j()}catch(x){h(x.message)}};return s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("h1",{className:"text-2xl font-bold text-navy",children:"Expense"})}),u&&s.jsx("div",{className:"mb-2 text-green-700",children:u}),p&&s.jsx("div",{className:"mb-2 text-red-600",children:p}),t&&s.jsx("div",{className:"mb-3",children:s.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 bg-gold text-navy rounded-xl px-4 py-2",children:[s.jsx(Xu,{className:"w-5 h-5"})," Add Expense"]})}),i&&s.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[s.jsx("div",{className:"absolute inset-0 bg-black opacity-30",onClick:()=>o(!1)}),s.jsxs("div",{className:"bg-white rounded-xl p-4 z-10 w-full max-w-lg shadow-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Add Expense"}),s.jsxs("form",{onSubmit:w,className:"grid grid-cols-1 gap-2",children:[s.jsx("input",{type:"date",className:"border rounded-xl px-3 py-2",value:r.date,onChange:S=>a(x=>({...x,date:S.target.value}))}),s.jsx(_x,{kind:"expenses",value:r.purpose,onChange:S=>a(x=>({...x,purpose:S}))}),s.jsx("div",{className:"text-right text-sm mt-1",children:s.jsx("button",{type:"button",onClick:()=>{o(!1),c("/accounting/dashboard?openHeads=1")},className:"text-blue-600 underline",children:"Manage Account Heads"})}),s.jsx("input",{type:"number",className:"border rounded-xl px-3 py-2",placeholder:"Amount",value:r.amount,onChange:S=>a(x=>({...x,amount:Number(S.target.value)}))}),s.jsx("input",{className:"border rounded-xl px-3 py-2",placeholder:"Note",value:r.note,onChange:S=>a(x=>({...x,note:S.target.value}))}),s.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[s.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 rounded-xl border",children:"Cancel"}),s.jsx("button",{className:"bg-gold text-navy rounded-xl px-4 py-2",children:"Add"})]})]})]})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-soft overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-[#f3f6ff] text-royal",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3 text-left",children:"Date"}),s.jsx("th",{className:"p-3 text-left",children:"Purpose"}),s.jsx("th",{className:"p-3 text-left",children:"Amount"}),s.jsx("th",{className:"p-3 text-left",children:"Note"}),t&&s.jsx("th",{className:"p-3 text-left",children:"Action"})]})}),s.jsxs("tbody",{children:[n.map(S=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-3",children:new Date(S.date).toLocaleDateString()}),s.jsx("td",{className:"p-3",children:S.purpose}),s.jsx("td",{className:"p-3",children:ct(S.amount)}),s.jsx("td",{className:"p-3",children:S.note||"-"}),t&&s.jsx("td",{className:"p-3",children:s.jsx("button",{onClick:()=>N(S._id),className:"px-3 py-1 rounded-lg border hover:bg-red-50 text-red-700",children:"Delete"})})]},S._id)),n.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"p-4 text-royal/70",colSpan:t?5:4,children:"No entries"})})]})]})})]})}function Ix(){const[e,t]=f.useState([]),[n,l]=f.useState([]),[r,a]=f.useState(!1),[i,o]=f.useState(null),[c,u]=f.useState({userId:"",accountNo:"",bankName:"",branchName:""});f.useEffect(()=>{(async()=>(await g(),p()))()},[]);const g=async()=>{try{const d=await(A.listUsersPublic?A.listUsersPublic():A.listUsers()),m=Array.isArray(d)?d:(d==null?void 0:d.users)||[];return t(m),m}catch(d){return console.error("Failed to load users",d),t([]),[]}},p=()=>{try{const d=localStorage.getItem("employeeBankRecords"),m=d?JSON.parse(d):[];l(m)}catch{l([])}},h=d=>{localStorage.setItem("employeeBankRecords",JSON.stringify(d)),l(d)},j=async()=>{const d=!e||e.length===0?await g():e;o(null),u({userId:d&&d[0]?d[0]._id:"",accountNo:"",bankName:"",branchName:""}),a(!0)},w=d=>{o(d.id),u({userId:d.userId,accountNo:d.accountNo,bankName:d.bankName,branchName:d.branchName}),a(!0)},N=d=>{var m;if((m=d==null?void 0:d.preventDefault)==null||m.call(d),!c.userId||!c.accountNo)return alert("Select employee and enter account number");if(i){const y=n.map(k=>k.id===i?{...k,...c}:k);h(y)}else{const k=[{id:`b_${Date.now()}`,...c},...n];h(k)}a(!1)},S=d=>{if(!confirm("Delete bank record?"))return;const m=n.filter(y=>y.id!==d);h(m)},x=d=>e.find(m=>m._id===d)||{};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-navy",children:"Employee Bank Accounts"}),s.jsx("div",{children:s.jsx("button",{onClick:j,className:"bg-gold text-navy rounded-xl px-4 py-2",children:"+ Add Bank Account"})})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-soft overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-[#f3f6ff] text-royal",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3 text-left",children:"Emp Id"}),s.jsx("th",{className:"p-3 text-left",children:"Name"}),s.jsx("th",{className:"p-3 text-left",children:"Designation"}),s.jsx("th",{className:"p-3 text-left",children:"Account No"}),s.jsx("th",{className:"p-3 text-left",children:"Bank Name"}),s.jsx("th",{className:"p-3 text-left",children:"Branch Name"}),s.jsx("th",{className:"p-3 text-left",children:"Action"})]})}),s.jsxs("tbody",{children:[n.map(d=>{const m=x(d.userId);return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-3",children:(m._id||"").slice(0,8)}),s.jsx("td",{className:"p-3",children:m.name||"-"}),s.jsx("td",{className:"p-3",children:m.designation||"-"}),s.jsx("td",{className:"p-3",children:d.accountNo}),s.jsx("td",{className:"p-3",children:d.bankName}),s.jsx("td",{className:"p-3",children:d.branchName}),s.jsxs("td",{className:"p-3",children:[s.jsx("button",{onClick:()=>w(d),className:"px-3 py-1 rounded-lg border mr-2",children:"Edit"}),s.jsx("button",{onClick:()=>S(d.id),className:"px-3 py-1 rounded-lg border hover:bg-red-50 text-red-700",children:"Delete"})]})]},d.id)}),n.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"p-4 text-royal/70",colSpan:7,children:"No bank accounts"})})]})]})}),r&&s.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[s.jsx("div",{className:"absolute inset-0 bg-black opacity-30",onClick:()=>a(!1)}),s.jsxs("div",{className:"bg-white rounded-xl p-4 z-10 w-full max-w-lg shadow-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:i?"Edit Bank Account":"Add Bank Account"}),s.jsxs("form",{onSubmit:N,className:"grid grid-cols-1 gap-2",children:[s.jsx("label",{className:"text-sm text-royal",children:"Employee"}),s.jsx("select",{className:"border rounded-xl px-3 py-2",value:c.userId,onChange:d=>u(m=>({...m,userId:d.target.value})),children:!e||e.length===0?s.jsx("option",{value:"",children:"Loading employees..."}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",children:"-- select employee --"}),e.map(d=>s.jsxs("option",{value:d._id,children:[d.name," (",d.designation||"—",")"]},d._id))]})}),s.jsx("input",{className:"border rounded-xl px-3 py-2",placeholder:"Account No",value:c.accountNo,onChange:d=>u(m=>({...m,accountNo:d.target.value}))}),s.jsx("input",{className:"border rounded-xl px-3 py-2",placeholder:"Bank Name",value:c.bankName,onChange:d=>u(m=>({...m,bankName:d.target.value}))}),s.jsx("input",{className:"border rounded-xl px-3 py-2",placeholder:"Branch Name",value:c.branchName,onChange:d=>u(m=>({...m,branchName:d.target.value}))}),s.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[s.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 rounded-xl border",children:"Cancel"}),s.jsx("button",{className:"bg-gold text-navy rounded-xl px-4 py-2",children:i?"Save":"Add"})]})]})]})]})]})}function Rx(){const[e,t]=f.useState([]),[n,l]=f.useState([]),[r,a]=f.useState(!1),[i,o]=f.useState(null),[c,u]=f.useState({userId:"",totalSalary:0});f.useEffect(()=>{(async()=>(await g(),p()))()},[]);const g=async()=>{try{const d=await(A.listUsersPublic?A.listUsersPublic():A.listUsers()),m=Array.isArray(d)?d:(d==null?void 0:d.users)||[];return t(m),m}catch{return t([]),[]}},p=()=>{try{const d=localStorage.getItem("employeeSalaryRecords");l(d?JSON.parse(d):[])}catch{l([])}},h=d=>{localStorage.setItem("employeeSalaryRecords",JSON.stringify(d)),l(d)},j=async()=>{const d=!e||e.length===0?await g():e;o(null),u({userId:d&&d[0]?d[0]._id:"",totalSalary:0}),a(!0)},w=d=>{o(d.id),u({userId:d.userId,totalSalary:d.totalSalary}),a(!0)},N=d=>{var m;if((m=d==null?void 0:d.preventDefault)==null||m.call(d),!c.userId)return alert("Select employee");if(i){const y=n.map(k=>k.id===i?{...k,...c}:k);h(y)}else{const k=[{id:`s_${Date.now()}`,...c},...n];h(k)}a(!1)},S=d=>{confirm("Delete salary record?")&&h(n.filter(m=>m.id!==d))},x=d=>e.find(m=>m._id===d)||{};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-navy",children:"Employee Salary"}),s.jsx("div",{children:s.jsx("button",{onClick:j,className:"bg-gold text-navy rounded-xl px-4 py-2",children:"+ Add Salary"})})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-soft overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-[#f3f6ff] text-royal",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3 text-left",children:"Emp Id"}),s.jsx("th",{className:"p-3 text-left",children:"Name"}),s.jsx("th",{className:"p-3 text-left",children:"Designation"}),s.jsx("th",{className:"p-3 text-left",children:"Total Salary"}),s.jsx("th",{className:"p-3 text-left",children:"Action"})]})}),s.jsxs("tbody",{children:[n.map(d=>{const m=x(d.userId);return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-3",children:(m._id||"").slice(0,8)}),s.jsx("td",{className:"p-3",children:m.name||"-"}),s.jsx("td",{className:"p-3",children:m.designation||"-"}),s.jsx("td",{className:"p-3",children:ct(d.totalSalary||0)}),s.jsxs("td",{className:"p-3",children:[s.jsx("button",{onClick:()=>w(d),className:"px-3 py-1 rounded-lg border mr-2",children:"Edit"}),s.jsx("button",{onClick:()=>S(d.id),className:"px-3 py-1 rounded-lg border hover:bg-red-50 text-red-700",children:"Delete"})]})]},d.id)}),n.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"p-4 text-royal/70",colSpan:5,children:"No salary records"})})]})]})}),r&&s.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[s.jsx("div",{className:"absolute inset-0 bg-black opacity-30",onClick:()=>a(!1)}),s.jsxs("div",{className:"bg-white rounded-xl p-4 z-10 w-full max-w-lg shadow-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:i?"Edit Salary":"Add Salary"}),s.jsxs("form",{onSubmit:N,className:"grid grid-cols-1 gap-2",children:[s.jsx("label",{className:"text-sm text-royal",children:"Employee"}),s.jsx("select",{className:"border rounded-xl px-3 py-2",value:c.userId,onChange:d=>u(m=>({...m,userId:d.target.value})),children:!e||e.length===0?s.jsx("option",{value:"",children:"Loading employees..."}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",children:"-- select employee --"}),e.map(d=>s.jsxs("option",{value:d._id,children:[d.name," (",d.designation||"—",")"]},d._id))]})}),s.jsx("input",{type:"number",className:"border rounded-xl px-3 py-2",placeholder:"Total Salary",value:c.totalSalary,onChange:d=>u(m=>({...m,totalSalary:Number(d.target.value)}))}),s.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[s.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 rounded-xl border",children:"Cancel"}),s.jsx("button",{className:"bg-gold text-navy rounded-xl px-4 py-2",children:i?"Save":"Add"})]})]})]})]})]})}const $x=[{key:"",label:"All"},{key:"pending",label:"Pending"},{key:"recruited",label:"Recruited"}];function Ox(){const[e,t]=f.useState(""),[n,l]=f.useState([]),[r,a]=f.useState([]),[i,o]=f.useState([]),[c,u]=f.useState(!1),[g,p]=f.useState(null),h=async(j=e)=>{const w=await A.listCandidates(j);l(w)};return f.useEffect(()=>{h("")},[]),f.useEffect(()=>{(async()=>(a(await A.listEmployers()),o(await A.listJobs())))()},[]),f.useEffect(()=>{h(e)},[e]),s.jsxs("div",{className:"p-4 md:p-6 space-y-4 font-[Poppins]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold text-[#053867]",children:"Candidates"}),s.jsx("button",{onClick:()=>u(!0),className:"px-4 py-2 rounded-2xl bg-[#F7BA23] text-[#053867] hover:bg-[#F3CE49]",children:"Add Candidate"})]}),s.jsx("div",{className:"flex gap-2",children:$x.map(j=>s.jsx("button",{onClick:()=>t(j.key),className:`px-3 py-1.5 rounded-full border ${j.key===e?"bg-[#253985] text-white":"bg-white text-[#253985] border-[#253985]"}`,children:j.label},j.key))}),s.jsx("div",{className:"bg-white shadow rounded-2xl p-4 overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-[#053867]",children:[s.jsx("th",{className:"py-2",children:"CanID"}),s.jsx("th",{className:"py-2",children:"Name"}),s.jsx("th",{className:"py-2",children:"Interest"}),s.jsx("th",{className:"py-2",children:"Source"}),s.jsx("th",{className:"py-2",children:"District"}),s.jsx("th",{className:"py-2",children:"Trained"}),s.jsx("th",{className:"py-2",children:"Date"}),s.jsx("th",{className:"py-2",children:"CV"}),s.jsx("th",{className:"py-2",children:"Action"})]})}),s.jsxs("tbody",{children:[n.map(j=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"py-2",children:j.canId}),s.jsx("td",{className:"py-2",children:j.name}),s.jsx("td",{className:"py-2",children:j.jobInterest}),s.jsx("td",{className:"py-2",children:j.source}),s.jsx("td",{className:"py-2",children:j.district||"-"}),s.jsx("td",{className:"py-2",children:j.trained?"Yes":"No"}),s.jsx("td",{className:"py-2",children:new Date(j.date).toLocaleDateString("en-GB")}),s.jsx("td",{className:"py-2",children:j.cvLink?s.jsx("a",{className:"text-[#253985] underline",href:j.cvLink,target:"_blank",children:"View"}):"-"}),s.jsx("td",{className:"py-2",children:j.recruited?s.jsx("span",{className:"px-2 py-1 rounded bg-green-100 text-green-700",children:"Recruited"}):s.jsx("button",{onClick:()=>p(j),className:"px-3 py-1 rounded-xl bg-[#253985] text-white",children:"Recruit"})})]},j._id)),n.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"py-2 text-gray-500",colSpan:9,children:"No candidates"})})]})]})}),c&&s.jsx(Fx,{onClose:()=>u(!1),onSaved:()=>{u(!1),h()}}),g&&s.jsx(zx,{candidate:g,employers:r,jobs:i.filter(j=>j.status==="Active"),onClose:()=>p(null),onSaved:()=>{p(null),h(e)}})]})}function Fx({onClose:e,onSaved:t}){const[n,l]=f.useState({name:"",jobInterest:"",source:"Facebook",district:"",trained:!1,cvLink:""}),r=async()=>{if(!n.name||!n.jobInterest)return alert("Name & Job Interest required");await A.addCandidate(n),t()};return s.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow p-4 w-full max-w-xl space-y-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-[#253985]",children:"Add Candidate"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsx(xs,{label:"Name",value:n.name,onChange:a=>l(i=>({...i,name:a}))}),s.jsx(xs,{label:"Job Interest",value:n.jobInterest,onChange:a=>l(i=>({...i,jobInterest:a}))}),s.jsx(Za,{label:"CV Source",value:n.source,onChange:a=>l(i=>({...i,source:a})),options:["Facebook","LinkedIn","Bdjobs","Reference","Prime Academy","Others"]}),s.jsx(xs,{label:"District",value:n.district,onChange:a=>l(i=>({...i,district:a}))}),s.jsx(Ux,{label:"Trained?",checked:n.trained,onChange:a=>l(i=>({...i,trained:a}))}),s.jsx(xs,{label:"CV Link (GDrive/OneDrive)",value:n.cvLink,onChange:a=>l(i=>({...i,cvLink:a}))})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:e,className:"px-4 py-2 rounded-2xl bg-gray-100",children:"Cancel"}),s.jsx("button",{onClick:r,className:"px-4 py-2 rounded-2xl bg-[#F7BA23] text-[#053867] hover:bg-[#F3CE49]",children:"Save"})]})]})})}function zx({candidate:e,employers:t,jobs:n,onClose:l,onSaved:r}){const[a,i]=f.useState({employerId:"",jobId:"",date:new Date().toISOString().slice(0,10)}),o=async()=>{if(!a.employerId||!a.jobId)return alert("Select employer & job");await A.recruitCandidate(e._id,a),r()};return s.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow p-4 w-full max-w-lg space-y-3",children:[s.jsxs("h3",{className:"text-lg font-semibold text-[#253985]",children:["Recruit ",e.name]}),s.jsx(Za,{label:"Employer",value:a.employerId,onChange:c=>i(u=>({...u,employerId:c})),options:t.map(c=>({label:`${c.name} (${c.empId})`,value:c._id}))}),s.jsx(Za,{label:"Job Position",value:a.jobId,onChange:c=>i(u=>({...u,jobId:c})),options:n.map(c=>({label:`${c.position} — ${c.jobId}`,value:c._id}))}),s.jsx(xs,{label:"Date",type:"date",value:a.date,onChange:c=>i(u=>({...u,date:c}))}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:l,className:"px-4 py-2 rounded-2xl bg-gray-100",children:"Cancel"}),s.jsx("button",{onClick:o,className:"px-4 py-2 rounded-2xl bg-[#253985] text-white",children:"Confirm Recruit"})]})]})})}function xs({label:e,value:t,onChange:n,type:l="text"}){return s.jsxs("label",{className:"text-sm text-[#053867] space-y-1",children:[s.jsx("span",{children:e}),s.jsx("input",{type:l,value:t,onChange:r=>n(r.target.value),className:"w-full border rounded-xl px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#253985]"})]})}function Za({label:e,value:t,onChange:n,options:l}){const r=Array.isArray(l)?l.map(a=>({label:a,value:a})):l;return s.jsxs("label",{className:"text-sm text-[#053867] space-y-1",children:[s.jsx("span",{children:e}),s.jsxs("select",{value:t,onChange:a=>n(a.target.value),className:"w-full border rounded-xl px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#253985]",children:[s.jsx("option",{value:"",children:"Select..."}),r.map(a=>s.jsx("option",{value:a.value,children:a.label},a.value))]})]})}function Ux({label:e,checked:t,onChange:n}){return s.jsxs("label",{className:"flex items-center gap-2 text-sm text-[#053867]",children:[s.jsx("input",{type:"checkbox",checked:t,onChange:l=>n(l.target.checked)}),s.jsx("span",{children:e})]})}function Bx(){const[e,t]=f.useState([]),[n,l]=f.useState([]),[r,a]=f.useState(!1),i=async()=>t(await A.listJobs());return f.useEffect(()=>{i(),(async()=>l(await A.listEmployers()))()},[]),s.jsxs("div",{className:"p-4 md:p-6 space-y-4 font-[Poppins]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold text-[#053867]",children:"Job Positions"}),s.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 rounded-2xl bg-[#F7BA23] text-[#053867] hover:bg-[#F3CE49]",children:"Add Job"})]}),s.jsx("div",{className:"bg-white shadow rounded-2xl p-4 overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-[#053867]",children:[s.jsx("th",{className:"py-2",children:"JobID"}),s.jsx("th",{className:"py-2",children:"Position"}),s.jsx("th",{className:"py-2",children:"Employer"}),s.jsx("th",{className:"py-2",children:"Salary"}),s.jsx("th",{className:"py-2",children:"Deadline"}),s.jsx("th",{className:"py-2",children:"Status"})]})}),s.jsxs("tbody",{children:[e.map(o=>{var c;return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"py-2",children:o.jobId}),s.jsx("td",{className:"py-2",children:o.position}),s.jsx("td",{className:"py-2",children:((c=o.employer)==null?void 0:c.name)||"-"}),s.jsx("td",{className:"py-2",children:o.salaryRange||"-"}),s.jsx("td",{className:"py-2",children:o.deadline?new Date(o.deadline).toLocaleDateString("en-GB"):"-"}),s.jsx("td",{className:"py-2",children:o.status})]},o._id)}),e.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"py-2 text-gray-500",colSpan:6,children:"No jobs"})})]})]})}),r&&s.jsx(Hx,{employers:n,onClose:()=>a(!1),onSaved:()=>{a(!1),i()}})]})}function Hx({employers:e,onClose:t,onSaved:n}){const[l,r]=f.useState({position:"",employerId:"",salaryRange:"",deadline:"",status:"Active"}),a=async()=>{if(!l.position||!l.employerId)return alert("Position & Employer required");await A.addJob(l),n()};return s.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow p-4 w-full max-w-xl space-y-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-[#253985]",children:"Add Job Position"}),s.jsx(Zr,{label:"Position",value:l.position,onChange:i=>r(o=>({...o,position:i}))}),s.jsx(Sc,{label:"Employer",value:l.employerId,onChange:i=>r(o=>({...o,employerId:i})),options:e.map(i=>({label:`${i.name} (${i.empId})`,value:i._id}))}),s.jsx(Zr,{label:"Salary Range",value:l.salaryRange,onChange:i=>r(o=>({...o,salaryRange:i}))}),s.jsx(Zr,{label:"Deadline",type:"date",value:l.deadline,onChange:i=>r(o=>({...o,deadline:i}))}),s.jsx(Sc,{label:"Status",value:l.status,onChange:i=>r(o=>({...o,status:i})),options:["Active","Inactive"].map(i=>({label:i,value:i}))}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 rounded-2xl bg-gray-100",children:"Cancel"}),s.jsx("button",{onClick:a,className:"px-4 py-2 rounded-2xl bg-[#F7BA23] text-[#053867] hover:bg-[#F3CE49]",children:"Save"})]})]})})}function Zr({label:e,value:t,onChange:n,type:l="text"}){return s.jsxs("label",{className:"text-sm text-[#053867] space-y-1 block",children:[s.jsx("span",{children:e}),s.jsx("input",{type:l,value:t,onChange:r=>n(r.target.value),className:"w-full border rounded-xl px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#253985]"})]})}function Sc({label:e,value:t,onChange:n,options:l}){return s.jsxs("label",{className:"text-sm text-[#053867] space-y-1 block",children:[s.jsx("span",{children:e}),s.jsxs("select",{value:t,onChange:r=>n(r.target.value),className:"w-full border rounded-xl px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#253985]",children:[s.jsx("option",{value:"",children:"Select..."}),l.map(r=>s.jsx("option",{value:r.value,children:r.label},r.value))]})]})}function Wx(){const[e,t]=f.useState([]),[n,l]=f.useState(!1),r=async()=>t(await A.listEmployers());return f.useEffect(()=>{r()},[]),s.jsxs("div",{className:"p-4 md:p-6 space-y-4 font-[Poppins]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold text-[#053867]",children:"Employers"}),s.jsx("button",{onClick:()=>l(!0),className:"px-4 py-2 rounded-2xl bg-[#F7BA23] text-[#053867] hover:bg-[#F3CE49]",children:"Add Employer"})]}),s.jsx("div",{className:"bg-white shadow rounded-2xl p-4 overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-[#053867]",children:[s.jsx("th",{className:"py-2",children:"EmpID"}),s.jsx("th",{className:"py-2",children:"Name"}),s.jsx("th",{className:"py-2",children:"Address"}),s.jsx("th",{className:"py-2",children:"Job Location"}),s.jsx("th",{className:"py-2",children:"MoU Date"})]})}),s.jsxs("tbody",{children:[e.map(a=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"py-2",children:a.empId}),s.jsx("td",{className:"py-2",children:a.name}),s.jsx("td",{className:"py-2",children:a.address||"-"}),s.jsx("td",{className:"py-2",children:a.jobLocation||"-"}),s.jsx("td",{className:"py-2",children:a.mouDate?new Date(a.mouDate).toLocaleDateString("en-GB"):"-"})]},a._id)),e.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"py-2 text-gray-500",colSpan:5,children:"No employers"})})]})]})}),n&&s.jsx(Vx,{onClose:()=>l(!1),onSaved:()=>{l(!1),r()}})]})}function Vx({onClose:e,onSaved:t}){const[n,l]=f.useState({name:"",address:"",jobLocation:"",mouDate:""}),r=async()=>{if(!n.name)return alert("Name is required");await A.addEmployer(n),t()};return s.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow p-4 w-full max-w-xl space-y-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-[#253985]",children:"Add Employer"}),s.jsx(jl,{label:"Name",value:n.name,onChange:a=>l(i=>({...i,name:a}))}),s.jsx(jl,{label:"Address",value:n.address,onChange:a=>l(i=>({...i,address:a}))}),s.jsx(jl,{label:"Job Location",value:n.jobLocation,onChange:a=>l(i=>({...i,jobLocation:a}))}),s.jsx(jl,{label:"MoU Date",type:"date",value:n.mouDate,onChange:a=>l(i=>({...i,mouDate:a}))}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:e,className:"px-4 py-2 rounded-2xl bg-gray-100",children:"Cancel"}),s.jsx("button",{onClick:r,className:"px-4 py-2 rounded-2xl bg-[#F7BA23] text-[#053867] hover:bg-[#F3CE49]",children:"Save"})]})]})})}function jl({label:e,value:t,onChange:n,type:l="text"}){return s.jsxs("label",{className:"text-sm text-[#053867] space-y-1 block",children:[s.jsx("span",{children:e}),s.jsx("input",{type:l,value:t,onChange:r=>n(r.target.value),className:"w-full border rounded-xl px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#253985]"})]})}function Jx(){const[e,t]=f.useState([]),[n,l]=f.useState(!1),[r,a]=f.useState(!1),i=async()=>{a(!0);try{const u=await A.listRecIncome();t(Array.isArray(u)?u:[])}finally{a(!1)}};f.useEffect(()=>{i()},[]);const o=f.useMemo(()=>e.reduce((u,g)=>u+(Number(g.amount)||0),0),[e]),c=async u=>{confirm("Delete this income entry?")&&(await A.deleteRecIncome(u),i())};return s.jsxs("div",{className:"p-4 md:p-6 space-y-4 font-[Poppins]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold text-[#053867]",children:"Recruitment Income"}),s.jsx("button",{onClick:()=>l(!0),className:"px-4 py-2 rounded-2xl bg-[#F7BA23] text-[#053867] hover:bg-[#F3CE49]",children:"Add Income"})]}),s.jsxs("div",{className:"bg-white shadow rounded-2xl p-4 overflow-x-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"text-[#253985] font-semibold",children:["Total: ",s.jsx("span",{className:"font-bold",children:Kt(o)})]}),r&&s.jsx("div",{className:"text-sm text-gray-500",children:"Loading…"})]}),s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-[#053867]",children:[s.jsx("th",{className:"py-2",children:"Date"}),s.jsx("th",{className:"py-2",children:"Source"}),s.jsx("th",{className:"py-2",children:"Amount"}),s.jsx("th",{className:"py-2",children:"Action"})]})}),s.jsxs("tbody",{children:[e.map(u=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"py-2",children:u.date?new Date(u.date).toLocaleDateString("en-GB"):"-"}),s.jsx("td",{className:"py-2",children:u.source||"-"}),s.jsx("td",{className:"py-2",children:Kt(u.amount)}),s.jsx("td",{className:"py-2",children:s.jsx("button",{onClick:()=>c(u._id),className:"px-3 py-1 rounded-xl bg-red-100 text-red-700 hover:bg-red-200",children:"Delete"})})]},u._id)),e.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"py-3 text-gray-500",colSpan:4,children:"No income entries"})})]})]})]}),n&&s.jsx(Qx,{onClose:()=>l(!1),onSaved:()=>{l(!1),i()}})]})}function Qx({onClose:e,onSaved:t}){const[n,l]=f.useState({date:new Date().toISOString().slice(0,10),source:"",amount:""}),r=async()=>{if(!n.source)return alert("Source is required");const a=Number(n.amount);if(!a||a<=0)return alert("Enter a valid amount");await A.addRecIncome({date:n.date,source:n.source,amount:a}),t()};return s.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow p-4 w-full max-w-lg space-y-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-[#253985]",children:"Add Income"}),s.jsx(ea,{label:"Date",type:"date",value:n.date,onChange:a=>l(i=>({...i,date:a}))}),s.jsx(ea,{label:"Source",value:n.source,onChange:a=>l(i=>({...i,source:a})),placeholder:"Employer Fee / Commission / Consultancy"}),s.jsx(ea,{label:"Amount (BDT)",type:"number",value:n.amount,onChange:a=>l(i=>({...i,amount:a}))}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:e,className:"px-4 py-2 rounded-2xl bg-gray-100",children:"Cancel"}),s.jsx("button",{onClick:r,className:"px-4 py-2 rounded-2xl bg-[#F7BA23] text-[#053867] hover:bg-[#F3CE49]",children:"Save"})]})]})})}function ea({label:e,value:t,onChange:n,type:l="text",placeholder:r=""}){return s.jsxs("label",{className:"text-sm text-[#053867] space-y-1 block",children:[s.jsx("span",{children:e}),s.jsx("input",{type:l,value:t,placeholder:r,onChange:a=>n(a.target.value),className:"w-full border rounded-xl px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#253985]"})]})}function Yx(){const[e,t]=f.useState([]),[n,l]=f.useState(!1),[r,a]=f.useState(!1),i=async()=>{a(!0);try{const u=await A.listRecExpense();t(Array.isArray(u)?u:[])}finally{a(!1)}};f.useEffect(()=>{i()},[]);const o=f.useMemo(()=>e.reduce((u,g)=>u+(Number(g.amount)||0),0),[e]),c=async u=>{confirm("Delete this expense entry?")&&(await A.deleteRecExpense(u),i())};return s.jsxs("div",{className:"p-4 md:p-6 space-y-4 font-[Poppins]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold text-[#053867]",children:"Recruitment Expense"}),s.jsx("button",{onClick:()=>l(!0),className:"px-4 py-2 rounded-2xl bg-[#F7BA23] text-[#053867] hover:bg-[#F3CE49]",children:"Add Expense"})]}),s.jsxs("div",{className:"bg-white shadow rounded-2xl p-4 overflow-x-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"text-[#253985] font-semibold",children:["Total: ",s.jsx("span",{className:"font-bold",children:Kt(o)})]}),r&&s.jsx("div",{className:"text-sm text-gray-500",children:"Loading…"})]}),s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-[#053867]",children:[s.jsx("th",{className:"py-2",children:"Date"}),s.jsx("th",{className:"py-2",children:"Purpose"}),s.jsx("th",{className:"py-2",children:"Amount"}),s.jsx("th",{className:"py-2",children:"Action"})]})}),s.jsxs("tbody",{children:[e.map(u=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"py-2",children:u.date?new Date(u.date).toLocaleDateString("en-GB"):"-"}),s.jsx("td",{className:"py-2",children:u.purpose||"-"}),s.jsx("td",{className:"py-2",children:Kt(u.amount)}),s.jsx("td",{className:"py-2",children:s.jsx("button",{onClick:()=>c(u._id),className:"px-3 py-1 rounded-xl bg-red-100 text-red-700 hover:bg-red-200",children:"Delete"})})]},u._id)),e.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"py-3 text-gray-500",colSpan:4,children:"No expense entries"})})]})]})]}),n&&s.jsx(Gx,{onClose:()=>l(!1),onSaved:()=>{l(!1),i()}})]})}function Gx({onClose:e,onSaved:t}){const[n,l]=f.useState({date:new Date().toISOString().slice(0,10),purpose:"",amount:""}),r=async()=>{if(!n.purpose)return alert("Purpose is required");const a=Number(n.amount);if(!a||a<=0)return alert("Enter a valid amount");await A.addRecExpense({date:n.date,purpose:n.purpose,amount:a}),t()};return s.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow p-4 w-full max-w-lg space-y-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-[#253985]",children:"Add Expense"}),s.jsx(ta,{label:"Date",type:"date",value:n.date,onChange:a=>l(i=>({...i,date:a}))}),s.jsx(ta,{label:"Purpose",value:n.purpose,onChange:a=>l(i=>({...i,purpose:a})),placeholder:"Candidate Screening / Travel / HR Event"}),s.jsx(ta,{label:"Amount (BDT)",type:"number",value:n.amount,onChange:a=>l(i=>({...i,amount:a}))}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:e,className:"px-4 py-2 rounded-2xl bg-gray-100",children:"Cancel"}),s.jsx("button",{onClick:r,className:"px-4 py-2 rounded-2xl bg-[#F7BA23] text-[#053867] hover:bg-[#F3CE49]",children:"Save"})]})]})})}function ta({label:e,value:t,onChange:n,type:l="text",placeholder:r=""}){return s.jsxs("label",{className:"text-sm text-[#053867] space-y-1 block",children:[s.jsx("span",{children:e}),s.jsx("input",{type:l,value:t,placeholder:r,onChange:a=>n(a.target.value),className:"w-full border rounded-xl px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#253985]"})]})}function Kx(){const[e,t]=f.useState([]),[n,l]=f.useState({}),[r,a]=f.useState(!1),[i,o]=f.useState(""),[c,u]=f.useState(!1),[g,p]=f.useState(null),[h,j]=f.useState(!1),[w,N]=f.useState(""),[S,x]=f.useState([]),d=["Reel","Short","Explainer","Ad","Banner","Other"],m=["Facebook","Instagram","YouTube","TikTok","X","Other"],[y,k]=f.useState("monthly"),[v,b]=f.useState(""),[C,L]=f.useState(""),[M,B]=f.useState(""),[se,O]=f.useState("");async function G(){a(!0),o("");try{const[E,H]=await Promise.all([A.listMGWorks(),A.mgStats()]),W=Array.isArray(E)?E:(E==null?void 0:E.list)||(E==null?void 0:E.items)||[];t(W),l(H||{})}catch(E){o(E.message||"Failed to load")}finally{a(!1)}}async function q(E){j(!0),N("");try{if(!E.title||!E.date)throw new Error("Title and date are required");const H={...E||{}};if(H.assignedTo&&!$[H.assignedTo]){const W=S.find(Q=>Q.name===H.assignedTo||Q.email===H.assignedTo);W&&(H.assignedTo=W._id||W.id||W.email)}H._id?await A.updateMGWork(H._id,H):await A.createMGWork(H),await G(),u(!1)}catch(H){N(H.message||"Save failed")}finally{j(!1)}}function le(){p({}),N(""),u(!0)}function Pe(E){p(E||{}),N(""),u(!0)}async function D(E){if(E&&confirm("Delete this work item?"))try{await A.deleteMGWork(E),await G()}catch(H){alert(H.message||"Delete failed")}}f.useEffect(()=>{const E=new Date;let H=new Date;H.setMonth(E.getMonth()-1),b(H.toISOString().slice(0,10)),L(E.toISOString().slice(0,10)),G(),(async()=>{try{const W=await A.listUsersPublic(),Q=Array.isArray(W)?W:(W==null?void 0:W.users)||[];x(Q)}catch{}})()},[]);const $=f.useMemo(()=>{const E={};return S.forEach(H=>{const W=H._id||H.id||H.email;E[W]=H.name||H.email||W}),E},[S]);f.useEffect(()=>{(async()=>{try{l(await A.mgStats())}catch{}})()},[y,v,C]);const z=f.useMemo(()=>{const E=(se||"").trim().toLowerCase();let H=v?new Date(v):null,W=C?new Date(C):null;return W&&W.setHours(23,59,59,999),e.filter(Q=>{try{const Ne=Q!=null&&Q.date?new Date(Q.date):Q!=null&&Q.createdAt?new Date(Q.createdAt):null;if(H&&Ne&&Ne<H||W&&Ne&&Ne>W||M&&M!=="all"&&(Q.status||"").toLowerCase()!==M.toLowerCase())return!1;if(!E)return!0;const mt=Q.assignedTo&&$[Q.assignedTo]?$[Q.assignedTo]:Q.assignedTo||"";return`${Q.title||""} ${mt} ${Q.type||""} ${Q.platform||""} ${Q.notes||""}`.toLowerCase().includes(E)}catch{return!0}})},[e,v,C,M,se]),Y=f.useMemo(()=>{const E={total:e.length,queued:0,inProgress:0,review:0,done:0,hold:0};return e.forEach(H=>{const W=(H.status||"").toLowerCase();W==="queued"?E.queued++:W==="inprogress"?E.inProgress++:W==="review"?E.review++:W==="done"?E.done++:W==="hold"&&E.hold++}),E},[e]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-xl font-bold text-navy",children:"Motion Graphics — Production Log"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{onClick:G,className:"bg-royal text-white px-3 py-2 rounded-xl",children:"Refresh"})})]}),s.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:gap-4 gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-slate",children:"Range"}),s.jsxs("select",{value:y,onChange:E=>{const H=E.target.value;k(H);const W=new Date;let Q=new Date;H==="daily"?Q.setDate(W.getDate()-1):H==="weekly"?Q.setDate(W.getDate()-7):H==="monthly"?Q.setMonth(W.getMonth()-1):H==="yearly"?Q.setFullYear(W.getFullYear()-1):H==="lifetime"&&(Q=null),H!=="custom"&&(Q?b(Q.toISOString().slice(0,10)):(b(""),L("")),L(W.toISOString().slice(0,10)))},className:"border rounded-xl px-3 py-2",children:[s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"}),s.jsx("option",{value:"yearly",children:"Yearly"}),s.jsx("option",{value:"lifetime",children:"Lifetime"}),s.jsx("option",{value:"custom",children:"Custom"})]}),y==="custom"&&s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"date",value:v,onChange:E=>b(E.target.value),className:"border rounded-xl px-3 py-2"}),s.jsx("input",{type:"date",value:C,onChange:E=>L(E.target.value),className:"border rounded-xl px-3 py-2"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-slate",children:"Status"}),s.jsxs("select",{value:M,onChange:E=>B(E.target.value),className:"border rounded-xl px-3 py-2",children:[s.jsx("option",{value:"",children:"All"}),s.jsx("option",{value:"Queued",children:"Queued"}),s.jsx("option",{value:"InProgress",children:"In Progress"}),s.jsx("option",{value:"Review",children:"Review"}),s.jsx("option",{value:"Done",children:"Done"}),s.jsx("option",{value:"Hold",children:"Hold"})]})]}),s.jsx("div",{className:"flex-1 flex items-center",children:s.jsx("input",{placeholder:"Search title, assignee, notes...",value:se,onChange:E=>O(E.target.value),className:"w-full border rounded-xl px-3 py-2"})})]})}),i&&s.jsx("div",{className:"text-red-600",children:i}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{k:"total",label:"Total",v:Y.total},{k:"queued",label:"Queued",v:Y.queued},{k:"inProgress",label:"In Progress",v:Y.inProgress},{k:"done",label:"Done",v:Y.done}].map(E=>s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm",children:[s.jsx("div",{className:"text-royal text-sm",children:E.label}),s.jsx("div",{className:"text-3xl font-extrabold",children:E.v??0})]},E.k))}),s.jsx("div",{children:r?s.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm",children:"Loading..."}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-3 md:hidden",children:[z.map(E=>s.jsxs("div",{className:"bg-white p-3 rounded-xl shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-slate",children:pc(E.date)}),s.jsx("div",{className:"font-semibold text-navy",children:E.title}),s.jsxs("div",{className:"text-xs text-slate",children:[E.type," • ",E.platform," • ",E.durationSec?`${Math.round(E.durationSec/60)}m`:""]})]}),s.jsxs("div",{className:"text-sm text-right",children:[s.jsx("div",{className:"px-2 py-1 rounded-full bg-slate-100 text-slate-800 text-xs",children:E.status}),s.jsx("div",{className:"text-xs text-slate mt-2",children:$[E.assignedTo]||E.assignedTo||"-"})]})]}),s.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[s.jsx("button",{onClick:()=>Pe(E),className:"text-royal text-sm",children:"Edit"}),s.jsx("button",{onClick:()=>D(E._id),className:"text-red-600 text-sm",children:"Delete"}),E.assetLink&&s.jsx("a",{className:"text-royal text-sm",href:E.assetLink,target:"_blank",rel:"noreferrer",children:"Asset"})]}),E.notes&&s.jsx("div",{className:"mt-2 text-xs text-slate",children:E.notes})]},E._id||`${E.title}-${E.date}`)),z.length===0&&s.jsx("div",{className:"text-slate",children:"No results"})]}),s.jsxs("div",{className:"hidden md:block bg-white rounded-xl shadow-sm overflow-auto",children:[s.jsxs("div",{className:"p-3 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-slate",children:["Showing ",z.length," of ",e.length," items"]}),s.jsx("div",{children:s.jsx("button",{onClick:le,className:"bg-royal text-white px-3 py-2 rounded-xl",children:"New Work"})})]}),s.jsxs("table",{className:"min-w-full table-auto",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-slate text-sm",children:[s.jsx("th",{className:"px-4 py-3",children:"Date"}),s.jsx("th",{className:"px-4 py-3",children:"Title"}),s.jsx("th",{className:"px-4 py-3",children:"Type"}),s.jsx("th",{className:"px-4 py-3",children:"Platform"}),s.jsx("th",{className:"px-4 py-3",children:"Assigned"}),s.jsx("th",{className:"px-4 py-3",children:"Duration"}),s.jsx("th",{className:"px-4 py-3",children:"Status"}),s.jsx("th",{className:"px-4 py-3",children:"Notes"}),s.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),s.jsxs("tbody",{children:[z.map(E=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-4 py-3 align-top text-sm",children:pc(E.date)}),s.jsx("td",{className:"px-4 py-3 align-top text-sm font-semibold",children:E.title}),s.jsx("td",{className:"px-4 py-3 align-top text-sm",children:E.type}),s.jsx("td",{className:"px-4 py-3 align-top text-sm",children:E.platform}),s.jsx("td",{className:"px-4 py-3 align-top text-sm",children:$[E.assignedTo]||E.assignedTo||"-"}),s.jsx("td",{className:"px-4 py-3 align-top text-sm",children:E.durationSec?`${Math.round(E.durationSec/60)}m`:"-"}),s.jsx("td",{className:"px-4 py-3 align-top text-sm",children:s.jsx("span",{className:"px-2 py-1 rounded-full bg-slate-100 text-slate-800 text-xs",children:E.status})}),s.jsx("td",{className:"px-4 py-3 align-top text-sm",children:E.notes?E.notes.length>120?`${E.notes.slice(0,120)}...`:E.notes:"-"}),s.jsx("td",{className:"px-4 py-3 align-top text-sm",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>Pe(E),className:"text-royal text-sm",children:"Edit"}),s.jsx("button",{onClick:()=>D(E._id),className:"text-red-600 text-sm",children:"Delete"})]})})]},E._id||`${E.title}-${E.date}`)),z.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"p-6 text-slate",colSpan:9,children:"No results"})})]})]})]})]})}),s.jsx(Xx,{visible:c,payload:g,setPayload:p,onClose:()=>u(!1),onSave:q,saving:h,error:w,users:S,types:d,platforms:m})]})}function Xx({visible:e,payload:t,setPayload:n,onClose:l,onSave:r,saving:a,error:i,users:o,types:c,platforms:u}){const[g,p]=f.useState(""),[h,j]=f.useState(!1),[w,N]=f.useState(-1),S=f.useRef(null),[x,d]=f.useState("");if(f.useEffect(()=>{const v=setTimeout(()=>d(g||""),150);return()=>clearTimeout(v)},[g]),f.useEffect(()=>{if(!t){p("");return}const v=o&&o.find(C=>t.assignedTo&&(C._id===t.assignedTo||C.id===t.assignedTo));if(v){p(v.name||v.email);return}const b=o&&o.find(C=>C.name&&t.assignedTo&&C.name===t.assignedTo||C.email&&t.assignedTo&&C.email===t.assignedTo);p(b?b.name||b.email:t.assignedTo||"")},[t,o]),!e)return null;const m=x&&o?o.filter(v=>{const b=x.toLowerCase();return v.name&&v.name.toLowerCase().includes(b)||v.email&&v.email.toLowerCase().includes(b)}).slice(0,6):[];function y(v){const b=v._id||v.id||v.email,C=v.name||v.email||b;n(L=>({...L||{},assignedTo:b})),p(C),j(!1),N(-1)}function k(v){!m||m.length===0||(v.key==="ArrowDown"?(v.preventDefault(),N(b=>b>=m.length-1?0:b+1),j(!0)):v.key==="ArrowUp"?(v.preventDefault(),N(b=>b<=0?m.length-1:b-1),j(!0)):v.key==="Enter"?w>=0&&w<m.length&&(v.preventDefault(),y(m[w])):v.key==="Escape"&&(j(!1),N(-1)))}return s.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center",children:s.jsxs("div",{className:"bg-white rounded-xl p-4 w-full max-w-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:[t&&t._id?"Edit":"New"," MG Work"]}),s.jsx("button",{onClick:l,className:"text-slate",children:"Close"})]}),i&&s.jsx("div",{className:"text-red-600 mt-2",children:i}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-3",children:[s.jsx("input",{type:"date",value:(t==null?void 0:t.date)||"",onChange:v=>n(b=>({...b,date:v.target.value})),className:"border rounded-xl px-3 py-2"}),s.jsx("input",{placeholder:"Title",value:(t==null?void 0:t.title)||"",onChange:v=>n(b=>({...b,title:v.target.value})),className:"border rounded-xl px-3 py-2"}),s.jsx("select",{value:(t==null?void 0:t.type)||c[0],onChange:v=>n(b=>({...b,type:v.target.value})),className:"border rounded-xl px-3 py-2",children:c.map(v=>s.jsx("option",{value:v,children:v},v))}),s.jsx("select",{value:(t==null?void 0:t.platform)||u[0],onChange:v=>n(b=>({...b,platform:v.target.value})),className:"border rounded-xl px-3 py-2",children:u.map(v=>s.jsx("option",{value:v,children:v},v))}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{ref:S,id:"mg-assigned-input","aria-autocomplete":"list","aria-controls":"mg-assigned-listbox","aria-expanded":h,"aria-activedescendant":w>=0&&m[w]?`mg-assigned-opt-${w}`:void 0,placeholder:"Assigned To (type to search)",value:g||"",onChange:v=>{p(v.target.value),n(b=>({...b,assignedTo:v.target.value})),j(!0),N(-1)},onFocus:()=>j(!0),onKeyDown:k,className:"border rounded-xl px-3 py-2 w-full"}),h&&m.length>0&&s.jsx("div",{id:"mg-assigned-listbox",role:"listbox","aria-labelledby":"mg-assigned-input",className:"absolute z-40 bg-white border mt-1 rounded-lg w-full max-h-44 overflow-auto shadow-sm",children:m.map((v,b)=>s.jsxs("div",{id:`mg-assigned-opt-${b}`,role:"option","aria-selected":b===w,onMouseDown:()=>y(v),className:`px-3 py-2 cursor-pointer ${b===w?"bg-slate-100":"hover:bg-slate-50"}`,children:[s.jsx("div",{className:"text-sm font-medium",children:v.name||v.email}),v.email&&s.jsx("div",{className:"text-xs text-slate",children:v.email})]},v._id||v.email))})]}),s.jsx("input",{placeholder:"Duration (sec)",type:"number",value:(t==null?void 0:t.durationSec)||"",onChange:v=>n(b=>({...b,durationSec:Number(v.target.value)})),className:"border rounded-xl px-3 py-2"}),s.jsx("input",{placeholder:"Asset Link",value:(t==null?void 0:t.assetLink)||"",onChange:v=>n(b=>({...b,assetLink:v.target.value})),className:"border rounded-xl px-3 py-2 md:col-span-2"}),s.jsxs("select",{value:(t==null?void 0:t.status)||"Queued",onChange:v=>n(b=>({...b,status:v.target.value})),className:"border rounded-xl px-3 py-2",children:[s.jsx("option",{children:"Queued"}),s.jsx("option",{children:"InProgress"}),s.jsx("option",{children:"Review"}),s.jsx("option",{children:"Done"}),s.jsx("option",{children:"Hold"})]}),s.jsx("textarea",{placeholder:"Notes",value:(t==null?void 0:t.notes)||"",onChange:v=>n(b=>({...b,notes:v.target.value})),className:"border rounded-xl px-3 py-2 md:col-span-2"})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:l,className:"px-3 py-2 rounded-xl border",children:"Cancel"}),s.jsx("button",{onClick:()=>r(t),disabled:a,className:"px-3 py-2 rounded-xl bg-royal text-white",children:a?"Saving...":"Save"})]})]})})}function qx(){return s.jsxs("div",{className:"min-h-screen flex bg-[#f7f9fc]",children:[s.jsx(Jp,{}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx(Wp,{}),s.jsx("main",{className:"p-4 md:p-6",children:s.jsx(Ki,{})})]})]})}function Zx(){return s.jsxs(Qu,{children:[s.jsx(U,{element:s.jsx(Op,{}),children:s.jsxs(U,{element:s.jsx(qx,{}),children:[s.jsx(U,{path:"/",element:s.jsx(ax,{})}),s.jsx(U,{path:"/profile",element:s.jsx(ix,{})}),s.jsx(U,{path:"/my-tasks",element:s.jsx(fx,{})}),s.jsxs(U,{element:s.jsx(ht,{roles:["SuperAdmin","Admin"]}),children:[s.jsx(U,{path:"/assign-tasks",element:s.jsx(cx,{})}),s.jsx(U,{path:"/employees",element:s.jsx(hx,{})}),s.jsx(U,{path:"/reports-view",element:s.jsx(vx,{})}),s.jsx(U,{path:"/leads-center-view",element:s.jsx(jx,{})})]}),s.jsx(U,{element:s.jsx(ht,{roles:["SuperAdmin","Admin","DigitalMarketing","Admission","Recruitment","MotionGraphics"]}),children:s.jsx(U,{path:"/courses",element:s.jsx(px,{})})}),s.jsxs(U,{element:s.jsx(ht,{roles:["DigitalMarketing"]}),children:[s.jsx(U,{path:"/lead-entry",element:s.jsx(Nx,{})}),s.jsx(U,{path:"/leads-center",element:s.jsx(wx,{})}),s.jsx(U,{path:"/dm-metrics",element:s.jsx(bx,{})})]}),s.jsx(U,{element:s.jsx(ht,{roles:["DigitalMarketing","Admin","SuperAdmin"]}),children:s.jsx(U,{path:"/dm/dashboard",element:s.jsx(nm,{})})}),s.jsxs(U,{element:s.jsx(ht,{roles:["Admission","Admin","SuperAdmin"]}),children:[s.jsx(U,{path:"/admission/dashboard",element:s.jsx(tm,{})}),"   ",s.jsx(U,{path:"/admission/assigned",element:s.jsx(us,{})}),s.jsx(U,{path:"/admission/counseling",element:s.jsx(us,{})}),s.jsx(U,{path:"/admission/follow-up",element:s.jsx(us,{})}),s.jsx(U,{path:"/admission/admitted",element:s.jsx(us,{})}),s.jsx(U,{path:"/admission/not-admitted",element:s.jsx(us,{})}),s.jsx(U,{path:"/admission/fees",element:s.jsx(Dx,{})})]}),s.jsxs(U,{element:s.jsx(ht,{roles:["Accountant"]}),children:[s.jsx(U,{path:"/accounting/dashboard",element:s.jsx(qu,{})}),s.jsx(U,{path:"/accounting/fees",element:s.jsx(Px,{})}),s.jsx(U,{path:"/accounting/income",element:s.jsx(Lx,{})}),s.jsx(U,{path:"/accounting/expense",element:s.jsx(Mx,{})})]}),s.jsxs(U,{element:s.jsx(ht,{roles:["SuperAdmin","Admin","Accountant"]}),children:[s.jsx(U,{path:"/employee-accounts/bank",element:s.jsx(Ix,{})}),s.jsx(U,{path:"/employee-accounts/salary",element:s.jsx(Rx,{})})]}),s.jsxs(U,{element:s.jsx(ht,{roles:["MotionGraphics","Admin","SuperAdmin"]}),children:[s.jsx(U,{path:"/mg/dashboard",element:s.jsx(em,{})}),s.jsx(U,{path:"/mg/production",element:s.jsx(Kx,{})})]}),s.jsxs(U,{element:s.jsx(ht,{roles:["Recruitment","Admin","SuperAdmin"]}),children:[s.jsx(U,{path:"/recruitment",element:s.jsx(Zu,{})}),s.jsx(U,{path:"/recruitment/candidates",element:s.jsx(Ox,{})}),s.jsx(U,{path:"/recruitment/jobs",element:s.jsx(Bx,{})}),s.jsx(U,{path:"/recruitment/employers",element:s.jsx(Wx,{})}),s.jsx(U,{path:"/recruitment/income",element:s.jsx(Jx,{})}),s.jsx(U,{path:"/recruitment/expenses",element:s.jsx(Yx,{})})]}),s.jsx(U,{path:"*",element:s.jsx(Js,{to:"/",replace:!0})})]})}),s.jsx(U,{path:"*",element:s.jsx(Js,{to:"/login",replace:!0})})]})}function eg(){const{login:e}=ue(),t=Zs(),[n,l]=f.useState("polok@primeacademy.org"),[r,a]=f.useState("password123"),[i,o]=f.useState(null),[c,u]=f.useState(!1),g=async p=>{p.preventDefault(),o(null),u(!0);try{await e(n,r),t("/")}catch(h){o((h==null?void 0:h.message)||"Login failed")}finally{u(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-royal/10 to-gold/10",children:s.jsxs("form",{onSubmit:g,className:"bg-white shadow-soft rounded-2xl p-6 w-full max-w-md",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("img",{src:"https://primeacademy.org/logo-full.png",alt:"Prime Academy",className:"w-56 object-contain"})}),s.jsx("h1",{className:"text-2xl font-bold text-navy mb-4",children:"Sign in"}),i&&s.jsx("div",{className:"mb-3 text-sm text-red-600",children:i}),s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Email"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2 mb-3",value:n,onChange:p=>l(p.target.value),placeholder:"you@domain.com"}),s.jsx("label",{className:"block text-sm text-royal mb-1",children:"Password"}),s.jsx("input",{className:"w-full border rounded-xl px-3 py-2 mb-4",type:"password",value:r,onChange:p=>a(p.target.value)}),s.jsx("button",{disabled:c,className:"w-full bg-gold text-navy rounded-xl py-2 font-semibold hover:bg-lightgold transition",children:c?"Signing in…":"Sign In"}),s.jsxs("p",{className:"mt-3 text-xs text-royal/70",children:["Default password for seeded users: ",s.jsx("b",{children:"password123"})]})]})})}function tg(){return s.jsx("div",{className:"p-6",children:"Not Found"})}Ru(document.getElementById("root")).render(s.jsx(Ys.StrictMode,{children:s.jsx(Pp,{children:s.jsx($p,{children:s.jsxs(Qu,{children:[s.jsx(U,{path:"/login",element:s.jsx(eg,{})}),s.jsx(U,{path:"/*",element:s.jsx(Zx,{})}),s.jsx(U,{path:"*",element:s.jsx(tg,{})})]})})})}));
